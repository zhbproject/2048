window.__require=function e(t,n,a){function i(o,s){if(!n[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+o+"'")}}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){return i(t[o][1][e]||e)},d,d.exports,e,t,n,a)}return n[o].exports}for(var r="function"==typeof __require&&__require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(e,t,n){(function(e){function t(e,t){for(var n=0,a=e.length-1;a>=0;a--){var i=e[a];"."===i?e.splice(a,1):".."===i?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],a=0;a<e.length;a++)t(e[a],a,e)&&n.push(e[a]);return n}n.resolve=function(){for(var n="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,i="/"===o.charAt(0))}return n=t(a(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===i(e,-1);return(e=t(a(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(a(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function a(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=a(e.split("/")),r=a(t.split("/")),o=Math.min(i.length,r.length),s=o,c=0;c<o;c++)if(i[c]!==r[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return(l=l.concat(r.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,a=-1,i=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!i){a=r;break}}else i=!1;return-1===a?n?"/":".":n&&1===a?"/":e.slice(0,a)},n.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,a=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===a&&(i=!1,a=t+1);return-1===a?"":e.slice(n,a)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,a=-1,i=!0,r=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===a&&(i=!1,a=o+1),46===s?-1===t?t=o:1!==r&&(r=1):-1!==t&&(r=-1);else if(!i){n=o+1;break}}return-1===t||-1===a||0===r||1===r&&t===a-1&&t===n+1?"":e.slice(t,a)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,n){var a,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(a===setTimeout)return setTimeout(e,0);if((a===o||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}(function(){try{a="function"==typeof setTimeout?setTimeout:o}catch(e){a=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var l,d=[],h=!1,u=-1;function g(){h&&l&&(h=!1,l.length?d=l.concat(d):u=-1,d.length&&f())}function f(){if(!h){var e=c(g);h=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new p(e,t)),1!==d.length||h||c(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],CryptoJS:[function(e,t,n){"use strict";cc._RF.push(t,"a5a69ooEn5AYLyDjCH7XvUw","CryptoJS");var a=a||function(e,t){var n={},a=n.lib={},i=function(){},r=a.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=a.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var i=0;i<e;i++)t[a+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(a+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[a+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],a=0;a<t;a+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],a=0;a<e;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new o.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],a=0;a<e;a++)n.push(String.fromCharCode(t[a>>>2]>>>24-a%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new o.init(n,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=a.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,a=n.words,i=n.sigBytes,r=this.blockSize,s=i/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,i=e.min(4*t,i),t){for(var c=0;c<t;c+=r)this._doProcessBlock(a,c);c=a.splice(0,t),n.sigBytes-=i}return new o.init(c,i)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=h.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}});var u=n.algo={};return n}(Math);(function(){var e=a,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,a=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var r=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<n;o++)e.push(a.charAt(r>>>6*(3-o)&63));if(t=a.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,a=this._map;(i=a.charAt(64))&&(-1!=(i=e.indexOf(i))&&(n=i));for(var i=[],r=0,o=0;o<n;o++)if(o%4){var s=a.indexOf(e.charAt(o-1))<<o%4*2,c=a.indexOf(e.charAt(o))>>>6-o%4*2;i[r>>>2]|=(s|c)<<24-r%4*8,r++}return t.create(i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(e){function t(e,t,n,a,i,r,o){return((e=e+(t&n|~t&a)+i+o)<<r|e>>>32-r)+t}function n(e,t,n,a,i,r,o){return((e=e+(t&a|n&~a)+i+o)<<r|e>>>32-r)+t}function i(e,t,n,a,i,r,o){return((e=e+(t^n^a)+i+o)<<r|e>>>32-r)+t}function r(e,t,n,a,i,r,o){return((e=e+(n^(t|~a))+i+o)<<r|e>>>32-r)+t}for(var o=a,s=(l=o.lib).WordArray,c=l.Hasher,l=o.algo,d=[],h=0;64>h;h++)d[h]=4294967296*e.abs(e.sin(h+1))|0;l=l.MD5=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,a){for(var o=0;16>o;o++){var s=e[h=a+o];e[h]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}o=this._hash.words;var c,l,h=e[a+0],u=(s=e[a+1],e[a+2]),g=e[a+3],f=e[a+4],p=e[a+5],m=e[a+6],v=e[a+7],w=e[a+8],y=e[a+9],k=e[a+10],b=e[a+11],S=e[a+12],P=e[a+13],I=e[a+14],C=e[a+15],D=o[0],A=r(A=r(A=r(A=r(A=i(A=i(A=i(A=i(A=n(A=n(A=n(A=n(A=t(A=t(A=t(A=t(A=o[1],l=t(l=o[2],c=t(c=o[3],D=t(D,A,l,c,h,7,d[0]),A,l,s,12,d[1]),D,A,u,17,d[2]),c,D,g,22,d[3]),l=t(l,c=t(c,D=t(D,A,l,c,f,7,d[4]),A,l,p,12,d[5]),D,A,m,17,d[6]),c,D,v,22,d[7]),l=t(l,c=t(c,D=t(D,A,l,c,w,7,d[8]),A,l,y,12,d[9]),D,A,k,17,d[10]),c,D,b,22,d[11]),l=t(l,c=t(c,D=t(D,A,l,c,S,7,d[12]),A,l,P,12,d[13]),D,A,I,17,d[14]),c,D,C,22,d[15]),l=n(l,c=n(c,D=n(D,A,l,c,s,5,d[16]),A,l,m,9,d[17]),D,A,b,14,d[18]),c,D,h,20,d[19]),l=n(l,c=n(c,D=n(D,A,l,c,p,5,d[20]),A,l,k,9,d[21]),D,A,C,14,d[22]),c,D,f,20,d[23]),l=n(l,c=n(c,D=n(D,A,l,c,y,5,d[24]),A,l,I,9,d[25]),D,A,g,14,d[26]),c,D,w,20,d[27]),l=n(l,c=n(c,D=n(D,A,l,c,P,5,d[28]),A,l,u,9,d[29]),D,A,v,14,d[30]),c,D,S,20,d[31]),l=i(l,c=i(c,D=i(D,A,l,c,p,4,d[32]),A,l,w,11,d[33]),D,A,b,16,d[34]),c,D,I,23,d[35]),l=i(l,c=i(c,D=i(D,A,l,c,s,4,d[36]),A,l,f,11,d[37]),D,A,v,16,d[38]),c,D,k,23,d[39]),l=i(l,c=i(c,D=i(D,A,l,c,P,4,d[40]),A,l,h,11,d[41]),D,A,g,16,d[42]),c,D,m,23,d[43]),l=i(l,c=i(c,D=i(D,A,l,c,y,4,d[44]),A,l,S,11,d[45]),D,A,C,16,d[46]),c,D,u,23,d[47]),l=r(l,c=r(c,D=r(D,A,l,c,h,6,d[48]),A,l,v,10,d[49]),D,A,I,15,d[50]),c,D,p,21,d[51]),l=r(l,c=r(c,D=r(D,A,l,c,S,6,d[52]),A,l,g,10,d[53]),D,A,k,15,d[54]),c,D,s,21,d[55]),l=r(l,c=r(c,D=r(D,A,l,c,w,6,d[56]),A,l,C,10,d[57]),D,A,m,15,d[58]),c,D,P,21,d[59]),l=r(l,c=r(c,D=r(D,A,l,c,f,6,d[60]),A,l,b,10,d[61]),D,A,u,15,d[62]),c,D,y,21,d[63]);o[0]=o[0]+D|0,o[1]=o[1]+A|0,o[2]=o[2]+l|0,o[3]=o[3]+c|0},_doFinalize:function(){var t=this._data,n=t.words,a=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var r=e.floor(a/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,a=0;4>a;a++)i=n[a],n[a]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=c._createHelper(l),o.HmacMD5=c._createHmacHelper(l)}(Math),function(){var e,t=a,n=(e=t.lib).Base,i=e.WordArray,r=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(s=this.cfg).hasher.create(),a=i.create(),r=a.words,o=s.keySize,s=s.iterations;r.length<o;){c&&n.update(c);var c=n.update(e).finalize(t);n.reset();for(var l=1;l<s;l++)c=n.finalize(c),n.reset();a.concat(c)}return a.sigBytes=4*o,a}});t.EvpKDF=function(e,t,n){return r.create(n).compute(e,t)}}(),a.lib.Cipher||function(e){var t=(f=a).lib,n=t.Base,i=t.WordArray,r=t.BufferedBlockAlgorithm,o=f.enc.Base64,s=f.algo.EvpKDF,c=t.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,a){return("string"==typeof n?p:g).encrypt(e,t,n,a)},decrypt:function(t,n,a){return("string"==typeof n?p:g).decrypt(e,t,n,a)}}}});t.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=f.mode={},d=function(e,t,n){var a=this._iv;a?this._iv=void 0:a=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=a[i]},h=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();h.Encryptor=h.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;d.call(this,e,t,a),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),h.Decryptor=h.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=e.slice(t,t+a);n.decryptBlock(e,t),d.call(this,e,t,a),this._prevBlock=i}}),l=l.CBC=h,h=(f.pad={}).Pkcs7={pad:function(e,t){for(var n,a=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,r=[],o=0;o<n;o+=4)r.push(a);n=i.create(r,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:h}),reset:function(){c.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var u=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(l=(f.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return u.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,a){a=this.cfg.extend(a);var i=e.createEncryptor(n,a);return t=i.finalize(t),i=i.cfg,u.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:a.format})},decrypt:function(e,t,n,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),e.createDecryptor(n,a).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),f=(f.kdf={}).OpenSSL={execute:function(e,t,n,a){return a||(a=i.random(8)),e=s.create({keySize:t+n}).compute(e,a),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,u.create({key:e,iv:n,salt:a})}},p=t.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:f}),encrypt:function(e,t,n,a){return n=(a=this.cfg.extend(a)).kdf.execute(n,e.keySize,e.ivSize),a.iv=n.iv,(e=g.encrypt.call(this,e,t,n.key,a)).mixIn(n),e},decrypt:function(e,t,n,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),n=a.kdf.execute(n,e.keySize,e.ivSize,t.salt),a.iv=n.iv,g.decrypt.call(this,e,t,n.key,a)}})}(),function(){for(var e=a,t=e.lib.BlockCipher,n=e.algo,i=[],r=[],o=[],s=[],c=[],l=[],d=[],h=[],u=[],g=[],f=[],p=0;256>p;p++)f[p]=128>p?p<<1:p<<1^283;var m=0,v=0;for(p=0;256>p;p++){var w=(w=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&w^99;i[m]=w,r[w]=m;var y=f[m],k=f[y],b=f[k],S=257*f[w]^16843008*w;o[m]=S<<24|S>>>8,s[m]=S<<16|S>>>16,c[m]=S<<8|S>>>24,l[m]=S,S=16843009*b^65537*k^257*y^16843008*m,d[w]=S<<24|S>>>8,h[w]=S<<16|S>>>16,u[w]=S<<8|S>>>24,g[w]=S,m?(m=y^f[f[f[b^y]]],v^=f[f[v]]):m=v=1}var P=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),a=this._keySchedule=[],r=0;r<n;r++)if(r<t)a[r]=e[r];else{var o=a[r-1];r%t?6<t&&4==r%t&&(o=i[o>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o]):(o=i[(o=o<<8|o>>>24)>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o],o^=P[r/t|0]<<24),a[r]=a[r-t]^o}for(e=this._invKeySchedule=[],t=0;t<n;t++)r=n-t,o=t%4?a[r]:a[r-4],e[t]=4>t||4>=r?o:d[i[o>>>24]]^h[i[o>>>16&255]]^u[i[o>>>8&255]]^g[i[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,h,u,g,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,a,i,r,o,s){for(var c=this._nRounds,l=e[t]^n[0],d=e[t+1]^n[1],h=e[t+2]^n[2],u=e[t+3]^n[3],g=4,f=1;f<c;f++){var p=a[l>>>24]^i[d>>>16&255]^r[h>>>8&255]^o[255&u]^n[g++],m=a[d>>>24]^i[h>>>16&255]^r[u>>>8&255]^o[255&l]^n[g++],v=a[h>>>24]^i[u>>>16&255]^r[l>>>8&255]^o[255&d]^n[g++];u=a[u>>>24]^i[l>>>16&255]^r[d>>>8&255]^o[255&h]^n[g++],l=p,d=m,h=v}p=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^n[g++],m=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[g++],v=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[g++],u=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^n[g++],e[t]=p,e[t+1]=m,e[t+2]=v,e[t+3]=u},keySize:8});e.AES=t._createHelper(n)}(),a.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},t.exports=a,cc._RF.pop()},{}],DataFunc:[function(e,t,n){"use strict";cc._RF.push(t,"9ae70QU5xJIwJZM4qHHMeDE","DataFunc"),window.dataFunc={arrTables:["nickName","level","newbieProtectTplt","benchmarkLevel","skin","AILevel","growUpLevel"],csvTables:{},csvTableForArr:{},tableCast:{},tableComment:{},CELL_DELIMITERS:[",",";","\t","|","^"],LINE_DELIMITERS:["\r\n","\r","\n"],uiPanelAnimationClips:{}},dataFunc.isInSameDay=function(e){if(!e)return!1;var t=new Date,n=t.getFullYear(),a=t.getMonth(),i=t.getDate();e*=1e3;var r=new Date(e),o=r.getFullYear(),s=r.getMonth(),c=r.getDate();return n===o&&a===s&&i===c},dataFunc.get1Rad=function(){return dataFunc.rad1||(dataFunc.rad1=180/Math.PI),dataFunc.rad1},dataFunc.randomNum=function(e,t){var n=t-e,a=Math.random();return e+Math.round(a*n)},dataFunc.getTable=function(e){return dataFunc.csvTables[e]},dataFunc.getTableArr=function(e){return dataFunc.csvTableForArr[e]},dataFunc.queryOne=function(e,t,n){var a=dataFunc.getTable(e);if(!a)return null;if(!t)return a[n];for(var i in a)if(a.hasOwnProperty(i)&&a[i][t]===n)return a[i]},dataFunc.queryByID=function(e,t){return dataFunc.queryOne(e,null,t)},dataFunc.queryAll=function(e,t,n){var a=dataFunc.getTable(e);if(!a||!t)return null;var i={};for(var r in a)a.hasOwnProperty(r)&&a[r][t]===n&&(i[r]=a[r]);return i},dataFunc.queryAllArr=function(e,t,n){var a=dataFunc.getTable(e);if(!a||!t)return null;var i=[];for(var r in a)a.hasOwnProperty(r)&&a[r][t]===n&&i.push(a[r]);return i},dataFunc.loadConfigs=function(e,t){var n=0;function a(e,t,n,a){return n instanceof Array?"number"===n[t]?Number(a[t]):"boolean"===n[t]?"true"===a[t]||"t"===a[t]||"1"===a[t]:a[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===a[t]||"t"===a[t]||"1"===a[t]:a[t]:Number(a[t])}dataFunc.arrTables.forEach(function(a,r){cc.loader.loadRes("data/"+a,function(o,s){o?cc.error(o.message||o):(e&&e(r+1,dataFunc.arrTables.length),function(e,t,n){if(dataFunc.csvTables[e]&&!n)return;var a={},r=[];i.parse(t,{header:!0},function(e,t){a[e[t]]=e,r.push(e)}),dataFunc.tableCast[e]=i.opts.cast,dataFunc.tableComment[e]=i.opts.comment,dataFunc.csvTables[e]=a,dataFunc.csvTableForArr[e]=r}(a,s),t&&++n>=dataFunc.arrTables.length&&t())})});var i={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:dataFunc.CELL_DELIMITERS[0],newline:dataFunc.LINE_DELIMITERS[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n=e.slice(1),a=0,i=n.length;a<i;a++)for(var r in n[a])t[r]=n[a][r];return t},map:function(e,t){for(var n=[],a=0,i=e.length;a<i;a++)n[a]=t(e[a],a);return n},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,n){return function(i){var r=new Object,o=function(e,t){return r[e]=t};return n?e.forEach(function(e,r){o(e,a(t[r],r,n,i))}):e.forEach(function(e,n){o(e,a(t[n],n,null,i))}),r}},buildArrayConstructor:function(e,t){return function(n){var i=new Array(e.length),r=function(e,t){return i[e]=t};return t?fields.forEach(function(i,o){r(i,a(e[o],o,t,n))}):fields.forEach(function(t,i){r(t,a(e[i],i,null,n))}),i}},frequency:function(e,t,n){void 0===n&&(n=!1);for(var a=0,i=0,r=this.getLimit(n,e.length);i<r&&-1!==(i=e.indexOf(t,i));)i+=1,a++;return a},mostFrequent:function(e,t,n){for(var a,i=t.length-1;i>=0;i--)this.frequency(e,t[i],n)>0&&(a=t[i]);return a||t[0]},unsafeParse:function(e,t,n){e.split||(e=e.text);var a,i,r=e.split(t.newline);function o(e){var n=e.shift();if(n.indexOf('"')>=0){for(var a=0,i=0,r=0;e.length>0&&(-1!==(a=n.indexOf('"',i))||r%2!=0);)-1!==a?(i=a+1,r++):n=n+t.newline+e.shift();var o,s=[],c=0,l=0,d=0,h=n.length;for(var u in n)if(n.hasOwnProperty(u)){var g=n[u=parseInt(u)];0===u&&'"'===g&&(c++,l=1),'"'===g&&(c++,n[u-1]===t.delimiter&&l===u&&l++),'"'===g&&c%2==0&&(n[u+1]!==t.delimiter&&u+1!==h||(d=u,o=n.substring(l,d),s.push(o),d=l=d+2)),g===t.delimiter&&c%2==0&&((d=u)>l?(o=n.substring(l,d),s.push(o),d=l=d+1):d===l&&(s.push(""),d=l=d+1))}return(d=h)>=l&&(o=n.substring(l,d),s.push(o)),s}return n.split(t.delimiter)}for(t.skip>0&&r.splice(t.skip),t.header?(!0===t.header?(t.comment=o(r),t.cast=o(r),a=o(r)):"Array"===this.getType(t.header)&&(a=t.header),i=this.buildObjectConstructor(a,r[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(r[0].split(t.delimiter),t.cast);r.length>0;){var s=o(r);s.length>1&&n(i(s),a[0])}return!0},parse:function(e,t,n){var a;if("Function"===this.getType(t)?(n=t,t={}):"Function"!==this.getType(n)?n=(a=[]).push.bind(a):a=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var i=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,dataFunc.CELL_DELIMITERS,i),t.newline=t.newline||this.mostFrequent(e,dataFunc.LINE_DELIMITERS,i)}return this.unsafeParse(e,t,n)&&(!(a.length>0)||a)}}},cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"24d57wVnRpIpa7Dr0sHBBQc","GameManager"),window.GameState={None:0,Play:1,Pause:2,TimeOver:3,GameOver:4};var a=kf.require("logic.user");cc.Class({extends:cc.Component,init:function(){if(cc.game.addPersistRootNode(this.node),dataFunc.loadConfigs(null,function(){}),this.subpackage=[],this.totalTime=90,this.fadeTime=0,this.miniGameExtraFan=0,this.gameState=GameState.None,this.BoundSize=cc.v2(7e3,7e3),window.wx)try{var e=wx.getSystemInfoSync();this.SystemInfo=e,console.log(JSON.stringify(e))}catch(e){}window.GameManager=this,GameManager.AILevel=a.getAILevel(),GameManager.AILevel||(GameManager.AILevel=1)},AILevelUp:function(){GameManager.AILevel+=2;var e=dataFunc.getTableArr("AILevel");if(e.length>0){var t=e[e.length-1].level;GameManager.AILevel>t&&(GameManager.AILevel=t)}a.saveAILevel(GameManager.AILevel)},AILevelDown:function(){GameManager.AILevel--,GameManager.AILevel<1&&(GameManager.AILevel=1),a.saveAILevel(GameManager.AILevel)},isSubpackExist:function(e){return!window.wx||!!GameManager.subpackage[e]},loadAppIcons:function(){GameManager.appIcons=[],cc.loader.loadRes("appIcons/appIcons",cc.Prefab,function(e,t){for(var n=cc.instantiate(t),a=0;a<n.children.length;a++){var i=n.children[a].getComponent(cc.Sprite).spriteFrame;GameManager.appIcons.push(i)}n.active=!1})},loadUserSkin:function(){var e=kf.require("logic.user"),t=dataFunc.queryByID("skin",e.skinId);t&&(cc.loader.loadRes("skins/"+t.prefabName,cc.Prefab,function(e,t){if(!e){var n=cc.instantiate(t).getComponent("skinInfo");GameManager.playerSkin={},GameManager.playerSkin.Idle=n.Idle,GameManager.playerSkin.Left=n.Left,GameManager.playerSkin.Right=n.Left,GameManager.playerSkin.Up=n.Up,GameManager.playerSkin.LeftUp=n.LeftUp,GameManager.playerSkin.RightUp=n.LeftUp,GameManager.playerSkin.Down=n.Down,GameManager.playerSkin.LeftDown=n.LeftDown,GameManager.playerSkin.RightDown=n.LeftDown}}),cc.loader.loadRes("skins/underReviewSkin",cc.Prefab,function(e,t){if(!e){var n=cc.instantiate(t).getComponent("skinInfo");GameManager.underReviewSkin={},GameManager.underReviewSkin.Idle=n.Idle,GameManager.underReviewSkin.Left=n.Left,GameManager.underReviewSkin.Right=n.Left,GameManager.underReviewSkin.Up=n.Up,GameManager.underReviewSkin.LeftUp=n.LeftUp,GameManager.underReviewSkin.RightUp=n.LeftUp,GameManager.underReviewSkin.Down=n.Down,GameManager.underReviewSkin.LeftDown=n.LeftDown,GameManager.underReviewSkin.RightDown=n.LeftDown}}))},loadSubpackage:function(e,t){if(window.tt)t&&t();else if(GameManager.subpackage[e]&&GameManager.subpackage[e].isLoaded)t&&t();else if(!GameManager.subpackage[e]||GameManager.subpackage[e].isLoaded){GameManager.subpackage[e]||(GameManager.subpackage[e]={},GameManager.subpackage[e].isLoaded=!1,GameManager.subpackage[e].timeId=null,GameManager.subpackage[e].callSeq=[],GameManager.subpackage[e].callSeq.push(t));var n=function(){clearInterval(GameManager.subpackage[e].timeId),GameManager.subpackage[e].timeId=null},a=function(){cc.loader.downloader.loadSubpackage(e,function(t){if(!GameManager.subpackage[e].isLoaded){if(t)return window.wx&&(wx.showToast({title:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8fdb\u5165\u6e38\u620f",icon:"none",duration:1500}),wx.exitMiniProgram()),console.error(t);GameManager.subpackage[e].isLoaded=!0,n(),GameManager.subpackage[e].callSeq.forEach(function(e){e&&e()}),GameManager.subpackage[e].callSeq=[]}})};GameManager.subpackage[e].timeId=setInterval(function(){GameManager.subpackage[e].isLoaded?n():a()},3e3),a()}else GameManager.subpackage[e].callSeq.push(t)},saveScore:function(){var e=PlayerManager.player.fans.length;kf.require("logic.user").currScore=e,kf.require("logic.user").killCnt=PlayerManager.player.killCnt;var t=PlayerManager.players.indexOf(PlayerManager.player);kf.require("logic.user").rank=t+1;var n=kf.require("basic.configuration"),a=n.getConfigData("userData");if(a)e>a.score&&(a.score=e,a.name=PlayerManager.player.playerName,n.setConfigData("userData",a));else{var i={name:PlayerManager.player.playerName,score:e};n.setConfigData("userData",i)}}}),cc._RF.pop()},{}],LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var a=e("polyglot.min"),i=null;function r(e){return window.i18n.languages[e]}function o(e){e&&(i?i.replace(e):i=new a({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=r(e)||{};window.i18n.curLang=e,o(t),this.inst=i}},t:function(e,t){if(i)return i.t(e,t)},inst:i,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var a=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,a)}for(var i=0;i<t.length;++i){var r=t[i];r.node.active&&r.updateLabel()}for(var o=[],s=0;s<e.length;++s){var c=e[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,c)}for(var l=0;l<o.length;++l){var d=o[l];d.node.active&&d.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var a=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){a.inst||a.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?a.t(this.dataID)&&(this.label.string=a.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var a=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:a}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var a=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=a,cc._RF.pop()},{}],WheelSurf:[function(e,t,n){"use strict";cc._RF.push(t,"f57cd+T05FMVL8oU0haywbU","WheelSurf"),cc.Class({extends:cc.Component,properties:{acc:{default:99,type:cc.Integer,displayName:"\u52a0\u901f\u5ea6",tooltip:"\u8bbe\u7f6e\u8f6c\u76d8\u7684\u52a0\u901f\u5ea6, \u6b63\u6574\u6570"},gearNum:{default:8,type:cc.Integer,displayName:"\u7269\u54c1\u6570\u91cf",tooltip:"\u8f6c\u76d8\u6309\u7167\u7269\u54c1\u6570\u91cf\u8fdb\u884c\u7b49\u5206, \u6b63\u6574\u6570"},maxSpeed:{default:300,type:cc.Integer,displayName:"\u8f6c\u76d8\u7684\u901f\u5ea6",tooltip:"\u901f\u5ea6\u8981\u5c3d\u91cf\u4f4e,\u907f\u514d\u4e0d\u80fd\u51c6\u786e\u8fdb\u5165"},duration:{default:4,type:cc.Integer,displayName:"\u8f6c\u52a8\u65f6\u95f4",tooltip:"\u8f6c\u76d8\u6700\u5c0f\u7684\u8f6c\u52a8\u65f6\u95f4"},radius:{default:200,type:cc.Integer,displayName:"\u8f6c\u76d8\u534a\u5f84",tooltip:"\u4f1a\u5f71\u54cd\u5230\u8f6c\u76d8\u4e0a\u7269\u54c1\u7684\u6446\u653e(\u9760\u8fd1\u4e2d\u5fc3\u6216\u8fdc\u79bb)"},rotaNode:{default:null,type:cc.Node,displayName:"\u8f6c\u52a8\u7684\u8282\u70b9",tooltip:"\u9700\u8981\u8f6c\u52a8\u7684\u8282\u70b9,\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u5c06\u8f6c\u52a8\u5f53\u524d\u8282\u70b9"},isRandom:{default:!1,displayName:"\u5f00\u542f\u968f\u673a\u6307\u5411",tooltip:"\u5f00\u542f\u6b64\u9009\u9879\u4f1a\u5728\u76ee\u6807\u7684\u5de6\u53f3\u968f\u673a\u505c\u4e0b,\u8fbe\u5230\u62df\u771f\u6548\u679c"}},editor:{disallowMultiple:!0,menu:"Component/WheelSurf"},onLoad:function(){this.wheel={curSpeed:0,spinTime:0,gearAngle:360,finalAngle:0},this.state=0,this.wheel.gearAngle=360/this.gearNum,this.rotaNode=this.rotaNode||this.node,this.startFunc=null,this.endFunc=null,this.speedUpFunc=null,this.speedCutFunc=null,this.itemsArr=[],this.calAngle(30,90)},update:function(e){if(0!==this.state)if(1===this.state)if(this.wheel.spinTime+=e,this.rotaNode.rotation+=this.wheel.curSpeed*e-this.acc*e*e*.5,this.wheel.curSpeed<=this.maxSpeed)this.wheel.curSpeed+=this.acc*e;else{if(this.wheel.spinTime<this.duration)return;if(this.wheel.curSpeed=this.maxSpeed,this.calAngle(this.rotaNode.rotation+this.wheel.distance,this.wheel.finalAngle)<this.wheel.gearAngle){var t=this.wheel.finalAngle-this.wheel.distance;this.isRandom&&(t+=(Math.random()-.5)*this.wheel.gearAngle*.8),this.rotaNode.rotation=t,this.state=2,this.speedCutFunc&&this.speedCutFunc(this.data)}}else 2===this.state&&(this.rotaNode.rotation+=this.wheel.curSpeed*e-this.acc*e*e*.5,this.wheel.curSpeed>0?this.wheel.curSpeed-=this.acc*e:(this.state=0,this.wheel.spinTime=0,this.endFunc&&this.endFunc(this.data)))},calAngle:function(e,t){var n,a;return e%=360,t%=360,(n=Math.abs(t-e))>(a=Math.abs(360-t)+e)?a:n},setParameters:function(e,t){if(0!==this.state)return cc.error("\u8bf7\u5728\u8f6c\u76d8\u672a\u8f6c\u52a8\u65f6\u8bbe\u7f6e"),!1;var n=e.acc,a=void 0===n?this.acc:n,i=e.gearNum,r=void 0===i?this.gearNum:i,o=e.maxSpeed,s=void 0===o?this.maxSpeed:o,c=e.duration,l=void 0===c?this.duration:c,d=e.dataArr;if(a&&(this.acc=a),r&&(this.gearNum=r),s&&(this.maxSpeed=s),l&&(this.duration=l),d.length<1)return cc.warn("\u6ca1\u6709\u5956\u54c1\u6570\u636e"),!1;this.wheel.gearAngle=360/this.gearNum;var h=!0,u=!1,g=void 0;try{for(var f,p=this.itemsArr[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){f.value.removeFromParent()}}catch(e){u=!0,g=e}finally{try{!h&&p.return&&p.return()}finally{if(u)throw g}}var m=!0,v=!1,w=void 0;try{for(var y,k=d[Symbol.iterator]();!(m=(y=k.next()).done);m=!0){var b=y.value,S=t(b);this.itemsArr.push(S),S.zIndex=b.ID,S.rotation=(b.ID-1)*this.wheel.gearAngle,S.parent=this.rotaNode,S.y=this.radius*Math.cos(S.rotation*Math.PI/180),S.x=this.radius*Math.sin(S.rotation*Math.PI/180),S.active=!0}}catch(e){v=!0,w=e}finally{try{!m&&k.return&&k.return()}finally{if(v)throw w}}return this.wheel.distance=Math.pow(this.maxSpeed,2)/(2*this.acc),!0},run:function(e){if(0!==this.state)return cc.warn("\u8f6c\u76d8\u8fd8\u672a\u505c\u6b62"),!1;var t=e.target,n=e.type;e.isFull;return this.ID=t,this.type=n,this.isFull=0,this.target=t-1,this.data=e,this.startFunc&&this.startFunc(this.data),this.state=1,this.wheel.finalAngle=360-this.target*this.wheel.gearAngle%360,this.speedUpFunc&&this.speedUpFunc(this.data),!0},getState:function(){return this.state},onStart:function(e){this.startFunc=e},onEnd:function(e){this.endFunc=e},onSpeedUp:function(e){this.speedUpFunc=e},onSpeedCut:function(e){this.speedCutFunc=e}}),cc._RF.pop()},{}],aengineAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"60bf75P/NxHZaSIFtl7ZB12","aengineAdapter");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.kf=window.kf||{},kf._loadedItem={},kf.ignoreInitArr=[],kf.addIgnoreInitDir=function(e){kf.ignoreInitArr.push(e)},kf.addModule=function(e,t){var n=e.split("."),a=window,i=void 0;for(i=0;i<n.length-1;i++)a[n[i]]||(a[n[i]]={}),a=a[n[i]];a[n[n.length-1]]=t},kf.require=function(t,n){var a=void 0;if(!kf._loadedItem[t]){a=t.split(".");var i=window,r=void 0;for(r=0;r<a.length&&i;r++)i=i[a[r]];if(i?kf._loadedItem[t]=i():(a=t.split("."),kf._loadedItem[t]=e(a[a.length-1]),!kf._loadedItem[t]&&cc&&cc.require&&cc.require!==e&&(kf._loadedItem[t]=cc.require(a[a.length-1])),kf._loadedItem[t]&&window.cc&&!cc.sys.isNative&&console.error("please use kf.require, parentdir.filename!!!")),!n&&kf._loadedItem[t]){for(r=0;r<kf.ignoreInitArr.length;r++){var o=kf.ignoreInitArr[r];if(0===t.indexOf(o))break}r>=kf.ignoreInitArr.length&&kf._loadedItem[t].init&&kf._loadedItem[t].init()}}return kf._loadedItem[t]};var i=null;kf.enableMulTouch=function(e){if(e)cc.eventManager.dispatchEvent=i,i=null;else{i=cc.eventManager.dispatchEvent;var t=null;cc.eventManager.dispatchEvent=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=n[0];if(r.getEventCode&&r.getEventCode()===cc.Event.EventTouch.BEGAN)r._touches.length>1&&(r._touches.length=1),t=r._touches[0]._id;else if(r.getEventCode&&r.getEventCode()===cc.Event.EventTouch.ENDED){for(var o=0;o<r._touches.length&&t!==r._touches[o]._id;o++);if(o>=r._touches.length)return;r._touches[0]=r._touches[o],r._touches.length=1}i.apply(void 0,n)}}},kf.clone=function(e){var t=void 0;if("object"===(void 0===e?"undefined":a(e)))if(null===e)t=null;else if(e instanceof Array){t=[];for(var n=0,i=e.length;n<i;n++)t.push(this.clone(e[n]))}else for(var r in t={},e)e.hasOwnProperty(r)&&(t[r]=this.clone(e[r]));else t=e;return t},kf.cmp=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kf.utf8ByteToUnicodeStr=function(e){for(var t="",n=0;n<e.length;){var a=e[n],i=0;a>>>7==0?(t+=String.fromCharCode(e[n]),n+=1):252==(252&a)?(i=(3&e[n])<<30,i|=(63&e[n+1])<<24,i|=(63&e[n+2])<<18,i|=(63&e[n+3])<<12,i|=(63&e[n+4])<<6,i|=63&e[n+5],t+=String.fromCharCode(i),n+=6):248==(248&a)?(i=(7&e[n])<<24,i|=(63&e[n+1])<<18,i|=(63&e[n+2])<<12,i|=(63&e[n+3])<<6,i|=63&e[n+4],t+=String.fromCharCode(i),n+=5):240==(240&a)?(i=(15&e[n])<<18,i|=(63&e[n+1])<<12,i|=(63&e[n+2])<<6,i|=63&e[n+3],t+=String.fromCharCode(i),n+=4):224==(224&a)?(i=(31&e[n])<<12,i|=(63&e[n+1])<<6,i|=63&e[n+2],t+=String.fromCharCode(i),n+=3):192==(192&a)?(i=(63&e[n])<<6,i|=63&e[n+1],t+=String.fromCharCode(i),n+=2):(t+=String.fromCharCode(e[n]),n+=1)}return t},kf.writeUTF=function(e,t){var n=[],a=0,i=void 0;for(i=0;i<e.length;i++){var r=e.charCodeAt(i);r>=0&&r<=127?(a+=1,n.push(r)):r>=128&&r<=2047?(a+=2,n.push(192|31&r>>6),n.push(128|63&r)):(r>=2048&&r<=55295||r>=57344&&r<=65535)&&(a+=3,n.push(224|15&r>>12),n.push(128|63&r>>6),n.push(128|63&r))}for(i=0;i<n.length;i++)n[i]&=255;return t?n:a<=255?[0,a].concat(n):[a>>8,255&a].concat(n)},kf.readUTF=function(e){if("string"==typeof e)return e;for(var t="",n=e,a=0;a<n.length;a++){var i=n[a].toString(2),r=i.match(/^1+?(?=0)/);if(r&&8===i.length){for(var o=r[0].length,s=n[a].toString(2).slice(7-o),c=1;c<o;c++)s+=n[c+a].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),a+=o-1}else t+=String.fromCharCode(n[a])}return t},kf.xmlToJson=function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t={};for(var n=0;n<e.attributes.length;n++){var a=e.attributes.item(n);"size"!==a.nodeName&&"define"!==a.nodeName&&"mandatory"!==a.nodeName&&(t[a.nodeName]=a.nodeValue)}}}else 3===e.nodeType&&"#text"!==e.nodeName&&(t=e.nodeValue);if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes.item(i),o=r.nodeName;if("#text"!==o)if(void 0===t[o]||"#text"===o)t[o]=this.xmlToJson(r);else{if(void 0===t[o].length){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(this.xmlToJson(r))}}return t},kf.loadXMLStr=function(e){var t=null;if(!window.DOMParser&&window.ActiveXObject)for(var n=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],a=0;a<n.length;a++)try{(t=new window.ActiveXObject(n[a])).async=!1,t.loadXML(e);break}catch(e){console.error(e)}else{if(!(window.DOMParser&&document.implementation&&document.implementation.createDocument))return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(e){console.error(e)}}return t},kf.touchInNode=function(e,t){var n=e.convertTouchToNodeSpace(t),a=e.getContentSize(),i=new cc.Rect(0,0,a.width,a.height);return cc.rectContainsPoint(i,n)},kf.getLocationInRoot=function(e){for(var t=e.x,n=e.y,a=e.parent;a&&a.parent&&!(a.parent instanceof cc.Scene);){t+=a.x,n+=a.y,a=a.parent}return cc.p(t,n)},window.string={},window.string.format=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t,i=1;return t[0].replace(/(%[ds])/g,function(){return a[i++]})},cc._RF.pop()},{}],animationUtil:[function(e,t,n){"use strict";cc._RF.push(t,"44142g6YOVC+7f0jgmVwpj1","animationUtil"),kf.addModule("util.animation",function(){var e={playByWrapMode:function(e,t,n){return cc.WrapMode.hasOwnProperty(n)||cc.error("please use cc.WrapMode to set wrapMode"),e.getAnimationState(t).wrapMode=n.toString(),e.play(t)},setAnimFinished:function(e,t,n){e.getAnimationState(t).on("finished",n)}};return e}),cc._RF.pop()},{}],basePlatform:[function(e,t,n){"use strict";cc._RF.push(t,"bfb68mYdtVN64wIHYOvXCc1","basePlatform"),kf.addModule("logic.basePlatform",function(){var e=function(e){this.platform=e.platform||"base",this.clientEvent=kf.require("basic.clientEvent"),this.constants=kf.require("shared.constants"),this.lang=kf.require("basic.lang"),this.network=kf.require("basic.network"),this.user=null};return e.prototype.initSdk=function(){console.warn("\u5f53\u524d\u5e73\u53f0\u6ca1\u6709\u5b9e\u73b0\u52a0\u8f7dsdk\u529f\u80fd")},e.prototype.login=function(){console.warn("\u5f53\u524d\u5e73\u53f0\u6ca1\u6709\u5b9e\u73b0\u767b\u5f55\u529f\u80fd")},e.prototype.shareAppMessage=function(){console.warn("\u5f53\u524d\u5e73\u53f0\u6ca1\u6709\u5b9e\u73b0\u70b9\u51fb\u5206\u4eab\u529f\u80fd")},e}),cc._RF.pop()},{}],browserPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"13a38pt7ixEhYLjUwAcRb1c","browserPlatform"),kf.addModule("logic.browserPlatform",function(){var e=new(kf.require("logic.basePlatform"))({platform:"browser"});e.shareAppMessage=function(e,t,n,a,i,r,o){var s=kf.require("logic.user"),c=kf.require("shared.constants");s.updateTaskData(c.taskId.video),a&&(console.log("[logic browserPlatform] \u6d4f\u89c8\u5668\u5e73\u53f0\u76f4\u63a5\u8f6c\u53d1\u6210\u529f\uff01"),a())},e.getOrCreateAccount=function(){var e=kf.require("basic.configuration"),t=e.getAccount();return t||(t=e.getGuestAccount(),e.setGuestAccount(t),e.setAccountInfo(t,""),e.save()),t},e.login=function(t){if(e.logined)cc.warn("user is already logined");else{this.initSdk();var n={userInfo:{}};n.userInfo.avatarUrl="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2595323780,2898738274&fm=26&gp=0.jpg",n.userInfo.nickName="\u5c0f\u660e",n.userInfo.gender=1,n.userInfo.country="China",n.userInfo.province="Fujian",n.userInfo.city="Xiamen",n.openId=e.getOrCreateAccount(),t(n)}};return e.initSdk=function(){e.sdkInited&&console.warn("sdk is already init")},e.showLoginBtn=function(){},e.createGameClubButton=function(){},e.showGameClubButton=function(){},e.hideGameClubButton=function(){},e.setNavigateToMiniProgram=function(e){},e.showBannerAd=function(e){},e.hideBannerAd=function(e){},e.loadAds=function(){},e.refreshBanner=function(e){},e.getEtag=function(){},e.getFromShareId=function(){},e}),cc._RF.pop()},{}],checkNetwork:[function(e,t,n){"use strict";cc._RF.push(t,"84deb2uowBLMIw1CHwPeitq","checkNetwork"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),this.heartbeat=kf.require("basic.heartbeat"),this.reconnect=kf.require("basic.reconnect")},update:function(e){this.heartbeat.checkNetwork(e),this.reconnect.connectNetwork(e)}}),cc._RF.pop()},{}],clickTipPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"9e103eP+QZCHrvFjSNIyGkg","clickTipPanelLogic"),kf.addModule("clickTipPanel.clickTipPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],clickTipPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"15819wngqdFk6nlGskRovE+","clickTipPanelUIEvent");kf.require("clickTipPanel.clickTipPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("shared.constants"),kf.require("logic.user")),r=(kf.require("basic.lang"),kf.require("component.panel")),o=cc.Class({extends:r,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){this.widget.rightButton.on("click",function(){i.setAudio("click",!1),a.dispatchEvent("hidePanel","clickTipPanel"),this.cancelFunc&&this.cancelFunc()}.bind(this)),this.widget.leftButton.on("click",function(){i.setAudio("click",!1),a.dispatchEvent("hidePanel","clickTipPanel"),this.result&&this.result()}.bind(this))},registerEvent:function(){},show:function(e,t,n){this._super(),this.result=t,this.cancelFunc=n,this.widget.tip.getComponent(cc.Label).string=e}});kf.addModule("clickTipPanel.clickTipPanelUIEvent",function(){return o}),cc._RF.pop()},{}],clientEvent:[function(e,t,n){"use strict";cc._RF.push(t,"f4d97340SRO26auFBLMJBOK","clientEvent"),kf.addModule("basic.clientEvent",function(){var e=kf.require("basic.eventListener"),t={},n=["testEvent","showPanel","hidePanel","showPanelOver","hidePanelOver","dispatchWxEvent","wxSubPanelStart","wxSubPanelStop","showNetLoading","hideNetLoading","updateNetworkState","userlogined","updateUserDataDisplay","addFan","killPlayerLogic","killPlayerUI","timeOver","levelUp","levelDown","_touchStartEvent","showGestures","updateNavigateData","showLoginBtn","speedUpGuide"];for(var a in t.EVENT_TYPE={},n){var i=n[a];t.EVENT_TYPE[i]=1}return t.init=function(){this.eventListener=e.create("multi")},t.addEvent=function(e){t.EVENT_TYPE[e]?cc.error("already have the event "+e):t.EVENT_TYPE[e]=1},t.on=function(e,t){"string"==typeof e&&this.eventListener.on(e,t)},t.off=function(e,t){"string"==typeof e&&this.eventListener.off(e,t)},t.dispatchEvent=function(){for(var e,n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var r=a[0];"string"==typeof r&&(t.EVENT_TYPE[r]?(e=this.eventListener).dispatch.apply(e,a):cc.error("please add"+r+"the event into clientEvent.js"))},t.bindEventListener=function(){this.eventListener=e.create("multi")},t}),cc._RF.pop()},{}],cloudPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"7c0caGyco5FoaBzQnuC+8fv","cloudPanelLogic"),kf.addModule("cloudPanel.cloudPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],cloudPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"8f55apinctEKbyOJlTlIdD1","cloudPanelUIEvent");kf.require("cloudPanel.cloudPanelLogic"),kf.require("basic.clientEvent"),kf.require("basic.network"),kf.require("basic.lang");var a=kf.require("component.panel"),i=kf.require("logic.user"),r=cc.Class({extends:a,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){},registerEvent:function(){},show:function(){var e=this;this._super();var t=i.getOrCreateAccount();this.widget.accountTxt.getComponent(cc.Label).string=t,kf.require("basic.cloud").initAccount("crowdCity",t,function(t,n){t||(e.widget.resultTxt.getComponent(cc.Label).string=JSON.stringify(n))})},writeToCloud:function(){var e=this;kf.require("basic.cloud").uploadToCloud({txt:"current time: "+(new Date).toLocaleTimeString()},function(t){t||(e.widget.resultTxt.getComponent(cc.Label).string="\u5199\u5165\u6210\u529f")})},readFromCloud:function(){var e=this;kf.require("basic.cloud").getCloudInfo(function(t,n){t||(e.widget.resultTxt.getComponent(cc.Label).string=JSON.stringify(n))})}});kf.addModule("cloudPanel.cloudPanelUIEvent",function(){return r}),cc._RF.pop()},{}],cloud:[function(e,t,n){"use strict";cc._RF.push(t,"d619cJqhc5HxpkjEyH2iDfX","cloud");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};kf.addModule("basic.cloud",function(){var e={};return e.initAccount=function(e,t,n){this.gameName=e,this.account=t,this.fileUrl="wechatgame/"+e+"/"+this.account,this.getCloudInfo(n)},e.getCloudInfo=function(e,t){if(this.account){var n=this.fileUrl;t&&(n=t),cc.loader.load("https://1923914575990624.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/wechatgame/getCityData/?fileUrl="+n,function(t,n){if(console.log("getCityDataErr= ",t),!t&&n){console.log(n);var a=JSON.parse(n),i=a.url;if(console.log(a.url),window.wx)wx.request({url:i,header:{"content-type":" "},success:function(t){var n=t.data;try{var a=null;if(a=n,a=decodeURIComponent(a),console.log("result="+n),console.log("str="+a),n.indexOf("NoSuchKey")>-1)n={gameData:{}};else if("null"===a||""===a.trim())n={};else try{n=JSON.parse(a)}catch(e){console.error(e),n={}}}catch(t){return console.error(t),void(e&&e(t,n))}e&&e(null,n)},fail:function(e){var t=kf.require("basic.clientEvent"),n=kf.require("logic.platform");t.dispatchEvent("hidePanel","netLoadingPanel"),t.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin")),n.showLoginBtn()}});else{var r=new XMLHttpRequest;r.open("GET",i),r.setRequestHeader("content-type"," "),r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var t=r.responseText;try{var n=null;n=t,n=decodeURIComponent(n),console.log("result="+t),console.log("str="+n),t=""===n||"null"===n?{}:JSON.parse(n)}catch(n){return console.error(n),void(e&&e(n,t))}e&&e(null,t)}else 4==r.readyState&&404===r.status&&e&&e(null,{gameData:{}})}.bind(this),r.send()}}else console.error("\u83b7\u53d6\u73a9\u5bb6oss url \u5931\u8d25:gameName="+this.gameName+"&account="+this.account)}.bind(this))}},e.uploadToCloud=function(e,t,n){"object"===(void 0===e?"undefined":a(e))&&(e=JSON.stringify(e)),e=encodeURIComponent(e);try{var i=this.fileUrl;n&&(i=n);var r={fileUrl:i,newData:e},o=new XMLHttpRequest;o.open("POST","https://1923914575990624.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/wechatgame/updateCityData/"),o.onreadystatechange=function(e,n){4==o.readyState&&o.status>=200&&o.status<400?t&&t(null,{}):4==o.readyState&&404===o.status&&t&&t(null,{})}.bind(this),o.send(JSON.stringify(r))}catch(e){console.error(e),t&&t(e)}},e.getInvitationInfo=function(e,t){var n="wechatgame/"+this.gameName+"/"+e+"_invitation";this.getCloudInfo(t,n)},e.setInvitationInfo=function(e,t,n){var a="wechatgame/"+this.gameName+"/"+e+"_invitation";this.uploadToCloud(t,n,a)},e}),cc._RF.pop()},{}],code:[function(e,t,n){"use strict";cc._RF.push(t,"b3a5ecHoWBHb5EG81KkV8lA","code"),kf.addModule("shared.code",function(){return{OK:200,FAIL:502,NOT_LOGIN:503,PARAM_ERROR:600,LOGIN:{FA_TOKEN_INVALID:1001,FA_TOKEN_EXPIRE:1002,FA_USER_NOT_EXIST:1003,FA_DUPLICATE_LOGIN:1004,FA_USERID_REQUIRED:1005,FA_CHANNEL_REQUIRED:1006}}}),cc._RF.pop()},{}],commonFunction:[function(e,t,n){"use strict";cc._RF.push(t,"b68365Oj19AVLI3SD1vlkYI","commonFunction");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};kf.addModule("shared.commonFunction",function(){var e={};return t.exports&&(e=t.exports),e.clone=function(t,n){var i=n;if(null===t||"object"!==(void 0===t?"undefined":a(t)))return t;if(void 0===i&&(i=10),i<=0)return t instanceof Array?[]:{};i--;var r={};for(var o in t.constructor===Array&&(r=[]),t)t.hasOwnProperty&&t.hasOwnProperty(o)&&(r[o]=e.clone(t[o],i));return r},e.objectToArray=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},e.arrayToObject=function(e,t){var n={};for(var a in e)e.hasOwnProperty(a)&&e[a][t]&&(n[e[a][t]]=e[a]);return n},e.copyProperty=function(e,t){var n=t;for(var a in e)"function"!=typeof e[a]&&(n[a]=e[a])},e.copyAllToTarget=function(e,t){var n=t;for(var a in e)n[a]=e[a]},e.isHitRate=function(e){return Math.floor(100*Math.random())<=e},e.prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)},e}),cc._RF.pop()},{}],configManager:[function(e,t,n){(function(n){"use strict";cc._RF.push(t,"5021aETUp9CiYv3TZriWhsw","configManager"),kf.addModule("shared.configManager",function(){var a=[",",";","\t","|","^"],i=["\r\n","\r","\n"],r=function(e,t,n,a){return n instanceof Array?"number"===n[t]?Number(a[t]):"boolean"===n[t]?"true"===a[t]||"t"===a[t]||"1"===a[t]:a[t]:Number.isNaN(Number(e))?"false"===e||"true"===e||"t"===e||"f"===e?"true"===a[t]||"t"===a[t]||'1"'===a[t]:a[t]:Number(a[t])},o={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:a[0],newline:i[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=Array.prototype.slice.call(t),i=a[0],r=a.slice(1),o=0,s=r.length;o<s;o++)for(var c in r[o])i[c]=r[o][c];return i},map:function(e,t){for(var n=[],a=0,i=e.length;a<i;a++)n[a]=t(e[a],a);return n},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,n){return function(a){var i={},o=function(e,t){return i[e]=t,t};return n?e.forEach(function(e,i){o(e,r(t[i],i,n,a))}):e.forEach(function(e,n){o(e,r(t[n],n,null,a))}),i}},buildArrayConstructor:function(e,t,n){return function(a){var i=new Array(t.length),o=function(e,t){return i[e]=t,t};return n?e.forEach(function(e,i){o(e,r(t[i],i,n,a))}):e.forEach(function(e,n){o(e,r(t[n],n,null,a))}),i}},frequency:function(e,t,n){void 0===n&&(n=!1);for(var a=0,i=0,r=this.getLimit(n,e.length);i<r&&-1!==(i=e.indexOf(t,i));)i+=1,a++;return a},mostFrequent:function(e,t,n){for(var a=void 0,i=t.length-1;i>=0;i--)this.frequency(e,t[i],n)>0&&(a=t[i]);return a||t[0]},unsafeParse:function(e,t,n){if(e.split)var a=e.split(t.newline);else a=e.text.split(t.newline);t.skip>0&&a.splice(t.skip);var i=void 0,r=void 0;function o(e){var n=e.shift();if(n.indexOf('"')>=0){for(var a=0,i=0,r=0;e.length>0&&(-1!==(a=n.indexOf('"',i))||r%2!=0);)-1!==a?(i=a+1,r++):n=n+t.newline+e.shift();var o=[],s=void 0,c=0,l=0,d=0,h=n.length;for(var u in n)if(n.hasOwnProperty(u)){var g=n[u=parseInt(u)];0===u&&'"'===g&&(c++,l=1),'"'===g&&(c++,n[u-1]===t.delimiter&&l===u&&l++),'"'===g&&c%2==0&&(n[u+1]!==t.delimiter&&u+1!==h||(d=u,s=n.substring(l,d),o.push(s),d=l=d+2)),g===t.delimiter&&c%2==0&&((d=u)>l?(s=n.substring(l,d),o.push(s),d=l=d+1):d===l&&(o.push(""),d=l=d+1))}return(d=h)>=l&&(s=n.substring(l,d),o.push(s)),o}return n.split(t.delimiter)}for(t.header?(!0===t.header?(t.comment=o(a),t.cast=o(a),i=o(a)):"Array"===this.getType(t.header)&&(i=t.header),r=this.buildObjectConstructor(i,a[0].split(t.delimiter),t.cast)):r=this.buildArrayConstructor(i,a[0].split(t.delimiter),t.cast);a.length>0;){var s=o(a);s.length>1&&n(r(s),i[0])}return!0},safeParse:function(e,t,n){t.delimiter;var a=t.newline,i=e.split(a);return t.skip>0&&i.splice(t.skip),!0},encodeCells:function(e,t,n){for(var a=e.slice(0),i=0,r=a.length;i<r;i++)-1!==a[i].indexOf(this.quoteMark)&&(a[i]=a[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===a[i].indexOf(t)&&-1===a[i].indexOf(n)||(a[i]=this.quoteMark+a[i]+this.quoteMark);return a.join(t)},encodeArrays:function(e,t,n){var a=t.delimiter.delimiter,i=t.newline.newline;t.header&&"Array"===this.getType(t.header)&&n(this.encodeCells(t.header,a,i));for(var r=0,o=this.getLimit(t.limit,e.length);r<o;r++)n(this.encodeCells(e[r],a,i));return!0},encodeObjects:function(e,t,n){var a=t.delimiter.delimiter,i=t.newline.newline,r=[],o=[];for(var s in e[0])r.push(s),o.push(e[0][s]);!0===t.header?n(this.encodeCells(r,a,i)):"Array"===this.getType(t.header)&&n(this.encodeCells(t.header,a,i)),n(this.encodeCells(o,a));for(var c=1,l=this.getLimit(t.limit,e.length);c<l;c++){o=[];for(var d=0,h=r.length;d<h;d++)o.push(e[c][r[d]]);n(this.encodeCells(o,a,i))}return!0},parse:function(e,t,n){var r=void 0;if("Function"===this.getType(t)?(n=t,t={}):"Function"!==this.getType(n)?n=(r=[]).push.bind(r):r=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var o=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,a,o),t.newline=t.newline||this.mostFrequent(e,i,o)}return this.unsafeParse(e,t,n)&&(!(r.length>0)||r)},encode:function(e,t,n){var a=void 0;return"Function"===this.getType(t)?(n=t,t={}):"Function"!==this.getType(n)&&(n=(a=[]).push.bind(a)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,n)&&(!(a.length>0)||a.join(t.newline))}},s={init:function(){this.csvTables={},this.csvTableForArr={},this.tableCast={},this.tableComment={}},addTable:function(e,t,n){if(!this.csvTables[e]||n){var a={},i=[];o.parse(t,{header:!0},function(e,t){a[e[t]]=e,i.push(e)}),this.tableCast[e]=o.opts.cast,this.tableComment[e]=o.opts.comment,this.csvTables[e]=a,this.csvTableForArr[e]=i}},getTableArr:function(e){return this.csvTableForArr[e]},getTable:function(e){return this.csvTables[e]},queryOne:function(e,t,n){var a=this.getTable(e);if(!a)return null;if(t)for(var i in a)if(a.hasOwnProperty(i)&&a[i][t]===n)return a[i];return a[n]},queryByID:function(e,t){return this.queryOne(e,null,t)},queryAll:function(e,t,n){var a=this.getTable(e);if(!a||!t)return null;var i={};for(var r in a)a.hasOwnProperty(r)&&a[r][t]===n&&(i[r]=a[r]);return i}};return"undefined"==typeof cc&&t.exports&&function(){s.init();var t=e("fs"),a=e("path"),i=n+"/../../../data";i=a.normalize(i),t.existsSync(i)||(i=n+"/../data",t.existsSync(i)||(i=n+"/../../data",t.existsSync(i)||(i=n+"/../config/data")),i=a.normalize(i));for(var r=[],o=[],c=t.readdirSync(i),l=0;l<c.length;l++){var d=c[l];if(-1!==d.indexOf(".csv")&&-1===d.indexOf(".meta")){var h=d.split(".")[0],u=i+"/"+d;t.lstatSync(u).isDirectory()||(o.push(h),r.push(u))}}for(var g={},f=function(e,n){var a=(new Date).getTime();if(!(g[n]&&a-g[n]<1e3)){g[n]=a;var i=t.readFileSync(n);i.length<=0||(s.addTable(e,i.toString(),!0),console.log("init table:"+n))}},p=0;p<o.length;p++)f(o[p],r[p]),function(e,n){t.watch(n,function(t,a){"change"===t&&setTimeout(function(){f(e,n)},100)})}(o[p],r[p])}(),s}),cc._RF.pop()}).call(this,"/library/imports/50")},{fs:void 0,path:1}],config:[function(e,t,n){"use strict";cc._RF.push(t,"ab6501TH8NH77rqzxL3dfRx","config"),window.gameconfig={gameServer:"res.anyh5.com:9203"},t.exports.isCompress=!1,cc._RF.pop()},{}],configuration:[function(e,t,n){"use strict";cc._RF.push(t,"00a9aqRHXNBZ444W3QFEXLa","configuration"),kf.addModule("basic.configuration",function(){var e={};return e.init=function(){this.jsonData={account:"",password:"",serverIndex:1},this.path=this.getConfigPath();var e=void 0;cc.sys.isNative?e=jsb.fileUtils.getValueMapFromFile(this.path).kfConfig:e=cc.sys.localStorage.getItem("kfConfig");if(e&&e.length)try{var t=JSON.parse(e);this.jsonData=t}catch(e){}},e.clearAllData=function(){var e=this.jsonData.account;this.jsonData[e+this.jsonData.serverId]={},this.save()},e.setConfigData=function(e,t){var n=this.jsonData.account;this.jsonData[n+this.jsonData.serverId]?this.jsonData[n+this.jsonData.serverId][e]=t:console.error("no account can not save")},e.getConfigData=function(e){var t=this.jsonData.account;return this.jsonData[t+this.jsonData.serverId]?this.jsonData[t+this.jsonData.serverId][e]:(console.error("no account can not load"),"")},e.setGlobalData=function(e,t){this.jsonData[e]=t},e.getGlobalData=function(e){return this.jsonData[e]},e.setAccountInfo=function(e,t,n){this.jsonData.account=e,this.jsonData.password=t,void 0!==n&&(this.jsonData.serverId=n),this.jsonData[e+this.jsonData.serverId]||(this.jsonData[e+this.jsonData.serverId]={})},e.getAccount=function(){return this.jsonData.account},e.save=function(){var t=JSON.stringify(this.jsonData);if(cc.sys.isNative){var n={};n.kfConfig=t,jsb.fileUtils.writeToFile(n,e.path)}else{window.wx?wx.setStorage({key:"kfConfig",data:t}):cc.sys.localStorage.setItem("kfConfig",t)}},e.getGuestAccount=function(){return this.jsonData.guest_account?this.jsonData.guest_account:(this.jsonData.guest_account=(new Date).getTime()+""+(0|(Math.random(),10)),this.jsonData.guest_account)},e.setGuestAccount=function(e){this.jsonData.guest_account=e},e.getConfigPath=function(){var e=cc.sys;return e===cc.sys.OS_WINDOWS?"src/conf":e===cc.sys.OS_LINUX?"./conf":cc.sys.isNative?jsb.fileUtils.getWritablePath()+"conf":"src/conf"},e}),cc._RF.pop()},{}],constants:[function(e,t,n){"use strict";cc._RF.push(t,"7b02aph0aJJxZT65qgQL2K8","constants"),kf.addModule("shared.constants",function(){var e={MODE_VALUE:{POMELO_MODE:1,NORMAL_MODE:2},aDayTime:864e5,aDaySeconds:86400,integrationLeng:30,TIMEARR:{seconds:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5},AnimationState:{PLAY:"play",STOP:"stop",PAUSE:"pause",RESUME:"resume",LASTFRAME:"lastframe",FINISHED:"finished"},KICK_TYPE:{KICK_BY_LOGIN:"kick by login",KICK_BY_GM:"kick by gm",KICK_BY_SYSTEM:"kick by system",KICK_BY_LOGOUT:"kick by logout"},LOGIN:{OLD_USER:1,NEW_USER:2},level:{baseScore:100,times:1.2},props:{giftBag:999,gold:1,skin:2,speed:3,sprint:4},skinType:{gold:1,login:2,continuousLogin:3,share:4,video:5,game:6,invite:7,oneGameFans:8,oneGamePlayer:9,continuousNo1:10,signIn:11},taskId:{continuousLogin:6,video:7,game:8,invite:13,oneGameFans:10,oneGamePlayer:11,continuousNo1:12,signIn:2},maxMathcingImageNums:101,getAwardFrom:{dailyWelfare:1,dailyLogin:2,luckyWheel:3,gameOver:4,secretGift:5},shareId:{dailyWelfare:0,superStart:1,revive:2,gameOver:3,secretGift:4,dailyLogin:5,dailyLoginGetAgain:6,luckyWheel:7,wheelTicket:8,powerfulProp:9,overtime:10,inviteFriend:11,defaultShare:12,speedPropertyTrain:13,shareToFriend:14,superWelfare:15,sprintPropertyTrain:16,dailyLoginTodayGet:17,speed:18,skinTry:19,playAgain:20},shareControl:{close:"1",shareOnly:"2",videoOnly:"3",shareVideo:"4",videoShare:"5",timeControl:"6"},adPlaceName:{mainPanel:"mainPanel",gameOverPanel:"gameOverPanel",uiGamePanel:"uiGamePanel",luckyWheelAward:"luckyWheelAward",gameOverAward:"gameOverAward",dailyWelfarePanel:"dailyWelfarePanel",dailyLoginAward:"dailyLoginAward",uiTimeOver:"uiTimeOver",crazySpotAward:"crazySpotAward",matchingPanel:"matchingPanel",trialSkinPanel:"trialSkinPanel",superStartPanel:"superStartPanel"},videoAdPlaceName:{superWelfareVideo:"superWelfareVideo",superStartVideo:"superStartVideo",propertyVideo:"propertyVideo",luckyWheelTicketVideo:"luckyWheelTicketVideo",dailyLoginTodayGetVideo:"dailyLoginTodayGetVideo"},channelLocation:{hutuiqiang:"1",jifenqiang:"2",cainixihuan:"3",gengduohaowan:"4",lunbo:"5"},getSkinNum:1,matchingDesc:["\u5c5e\u6027\u57f9\u517b\u53ef\u4ee5\u6c38\u4e45\u63d0\u5347\u901f\u5ea6\uff01","\u4e3b\u9875\u7684\u76ae\u80a4\u91cc\u9762\u6709\u53ea\u6728\u4e43\u4f0a\uff01","\u636e\u8bf4\u53ea\u6709\u957f\u5f97\u597d\u770b\u7684\u4eba\u624d\u80fd\u62e5\u6709\u7edd\u7248\u76ae\u80a4\uff01"],crazyProgressArr:[.5,.3,.2],speedGold:300,speedGoldAddPra:180,speedGoldMaxNum:2,speedGoldTime:3,speedType:{shard:0,gold:1},ossGameName:"pyyqzCrowdCity",shardImageUrl:"pyyqzShareImage",allAppIdArr:["wx28e5c5f7766c6d59","wx2d490c3492bd5d0f","wx34ff123eae6af1d4","wxc2db54436fb7257a","wxff0c7ad894fce9f2","wx90e2ef15223f5548","wxee1a8cd162d00943","wxf6d89dfd693f4128"],APP:{appId:"wx61576de10e6dc735"},barnerAdId:{mainPanel:"adunit-001d06390ab10d2d",gameOverPanel:"adunit-cf951ae6073bfb1b",uiGamePanel:"adunit-7d472679ac8d7e80",luckyWheelAward:"adunit-418f14d62f242c05",gameOverAward:"adunit-3f8fbd7ef3aaff8e",dailyWelfarePanel:"adunit-d4bc075ceada1430",dailyLoginAward:"adunit-1d671a8355abe0fe",uiTimeOver:"adunit-59452fee11ca9747",crazySpotAward:"adunit-77b71eb33b9a1744",matchingPanel:"adunit-77b71eb33b9a1744",trialSkinPanel:"adunit-77b71eb33b9a1744",superStartPanel:"adunit-77b71eb33b9a1744"},randomBannerAdIds:{banner1:"adunit-001d06390ab10d2d",banner2:"adunit-cf951ae6073bfb1b",banner3:"adunit-7d472679ac8d7e80",banner4:"adunit-418f14d62f242c05",banner5:"adunit-3f8fbd7ef3aaff8e",banner6:"adunit-d4bc075ceada1430",banner7:"adunit-1d671a8355abe0fe",banner8:"adunit-59452fee11ca9747",banner9:"adunit-77b71eb33b9a1744"},randomBannerAdIdsTT:{banner1:"q7ba74r4fil15upju2",banner2:"1be4f00aceai319mbg",banner3:"3bhu830206h7hhj4qj",banner4:"7f675akjh9752ints6",banner5:"jq0cjb8348h1s10iwp",banner6:"73j3la02622j64mml3",banner7:"3i3c0n8n63e354i6k5",banner8:"g975lnollr12md5c94"}};return e.videoAdPlaceName={superWelfareVideo:"superWelfareVideo",superStartVideo:"superStartVideo",propertyVideo:"propertyVideo",luckyWheelTicketVideo:"luckyWheelTicketVideo",dailyLoginTodayGetVideo:"dailyLoginTodayGetVideo"},e.videoAdId={superWelfareVideo:"adunit-a31d8cec09ce0bdd"},e.videoAdIdTT={superWelfareVideo:"d427j72ag8k31m6i90"},e.channelLocation={hutuiqiang:"1",jifenqiang:"2",cainixihuan:"3",gengduohaowan:"4",lunbo:"5"},e.getSkinNum=1,e.matchingDesc=["\u5c5e\u6027\u57f9\u517b\u53ef\u4ee5\u6c38\u4e45\u63d0\u5347\u901f\u5ea6\uff01","\u4e3b\u9875\u7684\u76ae\u80a4\u91cc\u9762\u6709\u53ea\u6728\u4e43\u4f0a\uff01","\u636e\u8bf4\u53ea\u6709\u957f\u5f97\u597d\u770b\u7684\u4eba\u624d\u80fd\u62e5\u6709\u7edd\u7248\u76ae\u80a4\uff01"],e.crazyProgressArr=[.5,.3,.2],e.speedGold=300,e.speedGoldAddPra=180,e.speedGoldMaxNum=2,e.speedGoldTime=3,e.speedType={shard:0,gold:1},e}),cc._RF.pop()},{}],dailyLoginPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"b23cfchXwFK8Ll56yUGZe9+","dailyLoginPanelLogic"),kf.addModule("dailyLoginPanel.dailyLoginPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],dailyLoginPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"f090b5Z7YZOnLIFBEztUGcs","dailyLoginPanelUIEvent");kf.require("dailyLoginPanel.dailyLoginPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=kf.require("shared.configManager"),o=kf.require("shared.constants"),s=kf.require("logic.user"),c=kf.require("logic.platform"),l=cc.Class({extends:i,properties:{goldImg:cc.SpriteFrame,defaultSkinImg:cc.SpriteFrame,dragonWarriorSkinImg:cc.SpriteFrame,sprintImg:cc.SpriteFrame,getImg:cc.SpriteFrame,gotImg:cc.SpriteFrame,getAgainImg:cc.SpriteFrame},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.todayIndex=(new Date).getDay(),this.dailyLoginArr=r.getTableArr("dailyLogin"),this.skinArr=r.getTableArr("skin"),this.initDailyLogin()},initDailyLogin:function(){var e=this,t=function(t){switch(e.widget.loginView["day"+t.ID].getBtn.getComponent(cc.Sprite).spriteFrame=e.getImg,e.widget.loginView["day"+t.ID].gotBtn.getComponent(cc.Sprite).spriteFrame=e.gotImg,e.widget.loginView["day"+t.ID].getAgainBtn.getComponent(cc.Sprite).spriteFrame=e.getAgainImg,t.type){case o.props.gold:e.widget.loginView["day"+t.ID].img.getComponent(cc.Sprite).spriteFrame=e.goldImg,e.widget.loginView["day"+t.ID].desc.getComponent(cc.Label).string=""+t.show;break;case o.props.skin:2==t.prizeId?(e.widget.loginView["day"+t.ID].img.getComponent(cc.Sprite).spriteFrame=e.defaultSkinImg,e.widget.loginView["day"+t.ID].img.color=cc.color("#FF4655"),e.widget.loginView["day"+t.ID].img.scale=.5):13==t.prizeId&&(e.widget.loginView["day"+t.ID].img.getComponent(cc.Sprite).spriteFrame=e.dragonWarriorSkinImg,e.widget.loginView["day"+t.ID].img.scale=.85),e.widget.loginView["day"+t.ID].desc.getComponent(cc.Label).string=""+t.show;break;case o.props.sprint:e.widget.loginView["day"+t.ID].img.getComponent(cc.Sprite).spriteFrame=e.sprintImg,e.widget.loginView["day"+t.ID].desc.getComponent(cc.Label).string=""+t.show,e.widget.loginView["day"+t.ID].img.scale=.9;break;case o.props.giftBag:e.widget.loginView["day"+t.ID].img1.getComponent(cc.Sprite).spriteFrame=e.goldImg,e.widget.loginView["day"+t.ID].desc1.getComponent(cc.Label).string="+1000",e.widget.loginView["day"+t.ID].img1.x=0,e.widget.loginView["day"+t.ID].desc1.x=0,e.widget.loginView["day"+t.ID].img2.active=!1,e.widget.loginView["day"+t.ID].desc2.active=!1;break;default:cc.error("\u5956\u54c1\u7c7b\u578b\u9519\u8bef")}e.widget.loginView["day"+t.ID].getBtn.on("click",function(){s.setAudio("btnClick"),t.ID>this.todayIndex||0===t.ID&&0!=this.todayIndex?a.dispatchEvent("showPanel","tipsPanel","\u8fd8\u4e0d\u80fd\u9886\u53d6\u54e6\uff01"):(this.getAward(t),s.data.gameData.dailyLoginGet["day"+t.ID]=1,this.widget.loginView["day"+t.ID].getBtn.active=!1,this.widget.loginView["day"+t.ID].getAgainBtn.active=!1,this.widget.loginView["day"+t.ID].gotBtn.active=!0,0==s.dailyLoginCanGetCount&&this.hideThisPanel())}.bind(e)),e.widget.loginView["day"+t.ID].getAgainBtn.on("click",function(){var e=this;s.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u8865\u9886\u6309\u94ae"),c.shareAppMessage({title:"\u8865\u9886\u6bcf\u65e5\u767b\u5f55\u5956\u52b1"},function(){e.isValid&&(e.getAward(t),s.data.gameData.dailyLoginGet["day"+t.ID]=1,e.widget.loginView["day"+t.ID].getBtn.active=!1,e.widget.loginView["day"+t.ID].getAgainBtn.active=!1,e.widget.loginView["day"+t.ID].gotBtn.active=!0,0==s.dailyLoginCanGetCount&&e.hideThisPanel())},function(){a.dispatchEvent("showPanel","tipsPanel","\u8f6c\u53d1\u5931\u8d25")},o.shareId.dailyLoginGetAgain)}.bind(e)),e.widget.loginView["day"+t.ID].gotBtn.on("click",function(){s.setAudio("btnClick"),a.dispatchEvent("showPanel","tipsPanel","\u5df2\u7ecf\u9886\u8fc7\u5566\uff01")}.bind(e))},n=!0,i=!1,r=void 0;try{for(var l,d=this.dailyLoginArr[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){t(l.value)}}catch(e){i=!0,r=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw r}}},getAward:function(e){switch(s.dailyLoginCanGetCount--,e.type){case o.props.gold:a.dispatchEvent("showPanel","getAwardPanel",{from:o.getAwardFrom.dailyLogin,type:o.props.gold,num:e.num,title:"\u606d\u559c\u83b7\u5f97",desc:e.show});break;case o.props.skin:s.data.gameData.skinData["s"+e.prizeId]==o.getSkinNum?(s.data.gameData.gold+=e.exchangeGold,a.dispatchEvent("showPanel","tipsPanel","\u60a8\u5df2\u7ecf\u83b7\u5f97\u8be5\u76ae\u80a4\uff0c\u81ea\u52a8\u8f6c\u6362\u6210"+e.exchangeGold+"\u91d1\u5e01")):(a.dispatchEvent("showPanel","getSkinPanel",this.skinArr[e.prizeId-1]),s.data.gameData.skinData["s"+e.prizeId]=o.getSkinNum,s.isRefreshSkinData=!0);break;case o.props.sprint:this.nextSprintData=dataFunc.queryByID("growUpLevel",s.data.gameData.sprintLevel+1),this.nextSprintData?(s.data.gameData.sprintLevel++,a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u6210\u529f")):(s.data.gameData.gold+=e.exchangeGold,a.dispatchEvent("showPanel","tipsPanel","\u60a8\u5df2\u7ecf\u8d85\u795e\u4e86\uff0c\u81ea\u52a8\u8f6c\u6362\u6210"+e.exchangeGold+"\u91d1\u5e01"));break;case o.props.giftBag:a.dispatchEvent("showPanel","getAwardPanel",{from:o.getAwardFrom.dailyLogin,type:o.props.giftBag,num:1e3,title:"\u606d\u559c\u83b7\u5f97",desc:"\u91d1\u5e01\uff1a1000"});break;default:cc.error("\u5956\u54c1\u7c7b\u578b\u9519\u8bef")}},updateGetState:function(){this.dailyLoginArr=r.getTableArr("dailyLogin");var e=!0,t=!1,n=void 0;try{for(var a,i=this.dailyLoginArr[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var c=a.value;this.widget.loginView["day"+c.ID].invalid.active=!1,s.data.gameData.dailyLoginGet["day"+c.ID]?(this.widget.loginView["day"+c.ID].getBtn.active=!1,this.widget.loginView["day"+c.ID].gotBtn.active=!0,this.widget.loginView["day"+c.ID].getAgainBtn.active=!1):c.ID===this.todayIndex?(s.dailyLoginCanGetCount++,s.todayCanGet=!0,this.widget.loginView["day"+c.ID].getBtn.active=!1,this.widget.loginView["day"+c.ID].gotBtn.active=!1,this.widget.loginView["day"+c.ID].getAgainBtn.active=!1,this.widget.closeBtn.active=!1,this.widget.getBtn.active=!0,c.type==o.props.gold?(this.widget.doubleGetBtn.active=!0,s.setShareState(o.shareId.dailyLoginTodayGet,this.widget.doubleGetBtn.layout.icon)):this.widget.doubleGetBtn.active=!1):c.ID<this.todayIndex&&0!=this.todayIndex&&0!=c.ID||c.ID>this.todayIndex&&0===this.todayIndex?(s.dailyLoginCanGetCount++,this.widget.loginView["day"+c.ID].getBtn.active=!1,this.widget.loginView["day"+c.ID].gotBtn.active=!1,this.widget.loginView["day"+c.ID].getAgainBtn.active=!0):(this.widget.loginView["day"+c.ID].getBtn.active=!1,this.widget.loginView["day"+c.ID].gotBtn.active=!1,this.widget.loginView["day"+c.ID].getAgainBtn.active=!1,this.widget.loginView["day"+c.ID].invalid.active=!0)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.closeBtn.clickArea.on("click",function(){s.setAudio("btnClick"),this.hideThisPanel()}.bind(this)),this.widget.getBtn.clickArea.on("click",function(){s.setAudio("btnClick"),this.getTodayAward(!1)}.bind(this)),this.widget.doubleGetBtn.on("click",function(){var e=this;s.setAudio("btnClick"),c.shareAppMessage({title:"\u53cc\u500d\u5956\u52b1"},function(){e.isValid&&e.getTodayAward(!0)},function(){a.dispatchEvent("showPanel","tipsPanel","\u9886\u53d6\u5931\u8d25")},o.shareId.dailyLoginTodayGet)}.bind(this))},getTodayAward:function(e){if(this.isValid){var t=this.dailyLoginArr[this.todayIndex];t.type!=o.props.gold?this.getAward(t):(this.num=t.num,e&&(this.num*=2),a.dispatchEvent("showPanel","tipsPanel","\u83b7\u5f97"+this.num+"\u91d1\u5e01"),s.todayCanGet=!1,s.data.gameData.gold+=this.num,s.dailyLoginCanGetCount--),s.data.gameData.dailyLoginGet["day"+this.todayIndex]=1,this.widget.loginView["day"+this.todayIndex].getBtn.active=!1,this.widget.loginView["day"+this.todayIndex].getAgainBtn.active=!1,this.widget.loginView["day"+this.todayIndex].gotBtn.active=!0,this.widget.getBtn.active=!1,this.widget.doubleGetBtn.active=!1,this.widget.closeBtn.active=!0,0==s.dailyLoginCanGetCount&&this.hideThisPanel()}},hideThisPanel:function(){this.skinCb&&this.skinCb(),c.showGameClubButton(),s.writeToCloud(),a.dispatchEvent("updateUserDataDisplay"),a.dispatchEvent("hidePanel","dailyLoginPanel")},registerEvent:function(){},show:function(e,t,n){var a=this;if(this._super(),window.wx&&wx.aldSendEvent("\u7b7e\u5230\u754c\u9762"),t&&t(),this.skinCb=n,s.underReview){cc.loader.loadRes("/singleColor",cc.SpriteFrame,function(e,t){a.widget.bg.getComponent(cc.Sprite).spriteFrame=t}),this.widget.bg.color=cc.color("#00D8FF")}e&&e.showProperty&&(this.showProperty=e.showProperty),this.widget.getBtn.active=!1,this.widget.doubleGetBtn.active=!1,c.showBannerAd(o.adPlaceName.gameOverPanel),s.dailyLoginCanGetCount=0,this.updateGetState(),this.widget.closeBtn.clickArea.height=s.clickAreaHeight2,this.widget.getBtn.clickArea.height=s.clickAreaHeight1}});kf.addModule("dailyLoginPanel.dailyLoginPanelUIEvent",function(){return l}),cc._RF.pop()},{}],en:[function(e,t,n){"use strict";cc._RF.push(t,"2e5a2F08LxJhon0dT49DyiL","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={language:"English",i18nPanel:{test:"Test",dynamic:"Dynamic",close:"Close"},failLogin:"Login fail!"},cc._RF.pop()},{}],eventListener:[function(e,t,n){"use strict";cc._RF.push(t,"bb0f5HsPcFGGrzfC20VbjQa","eventListener"),kf.addModule("basic.eventListener",function(){var e={on:function(e,t){this[e]&&console.error(e+"had already register"),this[e]=t},dispatch:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=t[0],i=this[a],r=[],o=1;o<t.length;o++)r.push(t[o]);if(i)try{i.apply(this,r)}catch(e){console.error(e)}else cc.log("not register "+a+"    callback func")}},t={on:function(e,t){var n=this.handlers[e];n||(n=[],this.handlers[e]=n);for(var a=0;a<n.length;a++)if(!n[a])return n[a]=t,a;return n.push(t),n.length},dispatch:function(e){var t=this.handlers[e],n=void 0;if(t){for(var a=t.length,i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(n=0;n<a;n++){var s=t[n];if(s)try{s.apply(void 0,r)}catch(e){console.error(e)}}}},off:function(e,t){var n=this.handlers[e];if(n)for(var a=0;a<n.length;a++){if(n[a]===t){n.splice(a,1);break}}}},n={create:function(n){var a={};return"multi"===n?(a=Object.create(t)).handlers={}:a=Object.create(e),a}};return n}),cc._RF.pop()},{}],gameBoxPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"526e3mhFkBDuaFKlhXM2gJ7","gameBoxPanelLogic"),kf.addModule("gameBoxPanel.gameBoxPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],gameBoxPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"7e0ccjUXY9Febj62Rx7ud/S","gameBoxPanelUIEvent");kf.require("gameBoxPanel.gameBoxPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=(kf.require("shared.configManager"),kf.require("basic.pool")),o=kf.require("shared.constants"),s=kf.require("logic.user"),c=(kf.require("logic.platform"),cc.Class({extends:i,properties:{gameBoxItemPrefab:cc.Prefab},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),r.createPrefabPool(this.gameBoxItemPrefab),s.getChannelData(o.channelLocation.hutuiqiang,function(e){this.gameData=e,this.itemArr=[],this.initItems()}.bind(this))},initItems:function(){if(this.isValid){this.widget.contentView.layout.removeAllChildren(!0),this.itemArr=[];for(var e=0;e<this.gameData.length;e++){var t=r.getPrefab(this.gameBoxItemPrefab.name);if(t.getChildByName("label").getComponent(cc.Label).string=this.gameData[e].name,t.getChildByName("playerNum").getComponent(cc.Label).string=this.gameData[e].people_play,1===this.gameData[e].logo_status){var n=this.gameData[e].logo;(function(e){s.headImage(n,e.getChildByName("image"))})(t)}else for(var a=0;a<GameManager.appIcons.length;a++)if(GameManager.appIcons[a].name===this.gameData[e].client_logo){t.getChildByName("image").getComponent(cc.Sprite).spriteFrame=GameManager.appIcons[a];break}this.widget.contentView.layout.addChild(t),this.itemArr.push(t),function(e){t.on("click",function(){console.log("\u70b9\u51fb\u4e86"+e),window.wx&&(this.gameId=this.gameData[e].id,wx.aldSendEvent("\u5356\u91cf-\u6e38\u620f\u76d2\u5b50"),wx.aldSendEvent("\u5356\u91cf-"+this.gameData[e].name),wx.navigateToMiniProgram({appId:this.gameData[e].appid,path:this.gameData[e].path||"",success:function(e){s.reportChannelData(this.gameId)}.bind(this)}))}.bind(this))}.bind(this)(e)}}},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.closeBtn.on("click",function(){s.setAudio("btnClick"),a.dispatchEvent("hidePanel","gameBoxPanel")}.bind(this))},registerEvent:function(){},show:function(e){this._super()}}));kf.addModule("gameBoxPanel.gameBoxPanelUIEvent",function(){return c}),cc._RF.pop()},{}],getAwardPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"0bd09xb9IxIgpr2IK6z4vpW","getAwardPanelLogic"),kf.addModule("getAwardPanel.getAwardPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],getAwardPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"dce80EDleNCv4e+1gd/Lyq/","getAwardPanelUIEvent");kf.require("getAwardPanel.getAwardPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=kf.require("shared.constants"),o=kf.require("logic.user"),s=kf.require("logic.platform"),c=(kf.require("shared.configManager"),cc.Class({extends:i,properties:{goldImg:cc.SpriteFrame,skinImg:cc.SpriteFrame,giftBagImg:cc.SpriteFrame},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.getBtnOriY=this.widget.getBtn.y,this.doubleGetBtnOriY=this.widget.doubleGetBtn.y,this.crazySpotTimes=5,this.crazySpotClickTimes=0,this.BannerTimer=null,this.closeBtnTimer=null,this.crazyProgressBar=this.widget.crazyNode.crazyProgress.getComponent(cc.ProgressBar),this.crazyProgressBar1=this.widget.crazyNode.crazyProgress1.getComponent(cc.ProgressBar)},showProperty:function(){var e=o.data.gameData,t=e.playerLevel,n=e.sprintLevel;t<this.playerLevelArr.length||this.sprintLevelArr.length},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.getBtn.clickArea.on("click",function(){o.setAudio("btnClick"),this.getAward(),this.widget.image.active=!0,this.from!==r.getAwardFrom.secretGift&&(this.from!==r.getAwardFrom.dailyWelfare||o.underReview||o.offLineReward(),a.dispatchEvent("hidePanel","getAwardPanel"))}.bind(this)),this.widget.doubleGetBtn.on("click",function(){var e=this;o.setAudio("btnClick"),s.shareAppMessage({title:"\u53cc\u500d\u5956\u52b1"},function(){e.isValid&&(e.num*=2,e.isDoubleGet=!0,e.getAward(),e.widget.image.active=!0,e.from!==r.getAwardFrom.secretGift&&(e.from!==r.getAwardFrom.dailyWelfare||o.underReview||o.offLineReward(),a.dispatchEvent("hidePanel","getAwardPanel")))},function(){a.dispatchEvent("showPanel","tipsPanel","\u9886\u53d6\u5931\u8d25")},this.shareId)}.bind(this)),this.widget.CrazySpotBtn.on("click",function(){this.setCloseBtnTimer(),this.crazySpotClickTimes++;var e=this.crazyProgressBar.progress;this.crazyProgressBar.progress=e+r.crazyProgressArr[2]<1?e+r.crazyProgressArr[2]:1;var t=this.crazyProgressBar1.progress;this.crazyProgressBar1.progress=t+r.crazyProgressArr[2]<1?t+r.crazyProgressArr[2]:1,this.crazySpotClickTimes>this.crazySpotTimes&&(this.crazySpotClickTimes=0,this.widget.CrazySpotBtn.active=!1,this.widget.crazyNode.active=!1,this.crazyProgressInterVal&&(clearInterval(this.crazyProgressInterVal),this.crazyProgressInterVal=null),this.crazyProgressInterVal1&&(clearInterval(this.crazyProgressInterVal1),this.crazyProgressInterVal1=null),this.closeBtnTimer&&(clearTimeout(this.closeBtnTimer),this.closeBtnTimer=null),this.widget.getBtn.y=this.getBtnOriY,this.widget.doubleGetBtn.y=this.doubleGetBtnOriY,this.widget.getBtn.active=!0,this.widget.doubleGetBtn.active=!0,this.widget.desc.active=!0,this.widget.image.active=!1,this.widget.closeBtn.active=!1,this.widget.gestures.getComponent(cc.Animation).stop("gestures"),this.widget.gestures.active=!1,this.widget.gift.getComponent(cc.Animation).play("giftOpen"),this.barnerAdPlaceName=r.adPlaceName.crazySpotAward,s.showBannerAd(this.barnerAdPlaceName))}.bind(this)),this.widget.closeBtn.on("click",function(){this.closeBtnTimer&&(clearTimeout(this.closeBtnTimer),this.closeBtnTimer=null),this.crazySpotClickTimes=0,this.widget.CrazySpotBtn.active=!1,this.widget.crazyNode.active=!1,this.crazyProgressInterVal&&(clearInterval(this.crazyProgressInterVal),this.crazyProgressInterVal=null),this.crazyProgressInterVal1&&(clearInterval(this.crazyProgressInterVal1),this.crazyProgressInterVal1=null),this.widget.getBtn.y=this.getBtnOriY,this.widget.doubleGetBtn.y=this.doubleGetBtnOriY,this.widget.getBtn.active=!0,this.widget.doubleGetBtn.active=!0,this.widget.desc.active=!0,this.widget.image.active=!0,this.widget.gestures.getComponent(cc.Animation).stop("gestures"),this.widget.gestures.active=!1,a.dispatchEvent("hidePanel","getAwardPanel"),a.dispatchEvent("showPanel","gameOverPanel")}.bind(this))},setCloseBtnTimer:function(){this.closeBtnTimer&&(clearTimeout(this.closeBtnTimer),this.closeBtnTimer=null),this.closeBtnTimer=setTimeout(function(){this.isValid&&(this.widget.closeBtn.active=!0,clearTimeout(this.closeBtnTimer),this.closeBtnTimer=null)}.bind(this),5e3)},registerEvent:function(){},getAward:function(){switch(this.type){case r.props.gold:a.dispatchEvent("showPanel","tipsPanel","\u83b7\u5f97"+this.num+"\u91d1\u5e01"),o.data.gameData.gold+=this.num,this.from===r.getAwardFrom.dailyWelfare&&(o.data.gameData.dailyWelfareGet=1);break;case r.props.skin:a.dispatchEvent("showPanel","tipsPanel","\u83b7\u5f97\u76ae\u80a4\u788e\u7247X"+this.num);break;case r.props.giftBag:a.dispatchEvent("showPanel","tipsPanel","\u83b7\u5f97"+this.num+"\u91d1\u5e01"),o.data.gameData.gold+=this.num;break;default:cc.error("\u5956\u54c1\u7c7b\u578b\u9519\u8bef")}if(a.dispatchEvent("updateUserDataDisplay"),this.from!==r.getAwardFrom.dailyLogin)return this.from===r.getAwardFrom.gameOver?(window.wx&&(this.isDoubleGet?wx.aldSendEvent("Y\u7ed3\u7b97\u91d1\u5e01\u53cc\u500d\u9886\u53d6\u6309\u94ae"):wx.aldSendEvent("Y\u7ed3\u7b97\u91d1\u5e01\u666e\u901a\u9886\u53d6\u6309\u94ae")),o.gameNum++,void(o.gameNum%2==0?this.showCrazySpot():a.dispatchEvent("showPanel","gameOverPanel"))):this.from===r.getAwardFrom.secretGift?(window.wx&&(this.isDoubleGet?wx.aldSendEvent("Y\u795e\u79d8\u5927\u793c\u53cc\u500d\u9886\u53d6\u6309\u94ae"):wx.aldSendEvent("Y\u795e\u79d8\u5927\u793c\u666e\u901a\u9886\u53d6\u6309\u94ae")),a.dispatchEvent("hidePanel","getAwardPanel"),void a.dispatchEvent("showPanel","gameOverPanel")):void o.writeToCloud()},showCrazySpot:function(){var e=this;this.BannerTimer&&(clearTimeout(this.BannerTimer),this.BannerTimer=null),s.hideBannerAd(),this.widget.getBtn.active=!1,this.widget.doubleGetBtn.active=!1,this.widget.image.active=!1,this.widget.desc.active=!1,this.crazySpotTimes=Math.floor(5*Math.random()+10),this.widget.CrazySpotBtn.active=!0,this.widget.crazyNode.active=!0,this.crazyProgressBar.progress=r.crazyProgressArr[0],this.crazyProgressBar1.progress=r.crazyProgressArr[0],this.crazyProgressInterVal&&(clearInterval(this.crazyProgressInterVal),this.crazyProgressInterVal=null),this.crazyProgressInterVal1&&(clearInterval(this.crazyProgressInterVal1),this.crazyProgressInterVal1=null),this.crazyProgressInterVal=setInterval(function(){if(e.isValid){var t=e.crazyProgressBar.progress;e.crazyProgressBar.progress=t-r.crazyProgressArr[1]/10>0?t-r.crazyProgressArr[1]/10:0}else e.crazyProgressInterVal&&(clearInterval(e.crazyProgressInterVal),e.crazyProgressInterVal=null)},100),this.crazyProgressInterVal1=setInterval(function(){if(e.isValid){var t=e.crazyProgressBar1.progress;e.crazyProgressBar1.progress=t-r.crazyProgressArr[1]/10>0?t-r.crazyProgressArr[1]/10:0}else e.crazyProgressInterVal1&&(clearInterval(e.crazyProgressInterVal1),e.crazyProgressInterVal1=null)},100),this.widget.gestures.active=!0,this.widget.gestures.getComponent(cc.Animation).play("gestures"),this.widget.gift.active=!0;var t=Math.ceil(100*Math.random())+180;this.initUI({from:r.getAwardFrom.secretGift,type:r.props.giftBag,num:t,title:"\u795e\u79d8\u5927\u793c",desc:"\u83b7\u5f97\u91d1\u5e01\uff1a"+t},!0),this.setCloseBtnTimer()},initUI:function(e,t){this.from=e.from,this.type=e.type,this.num=e.num;var n=e.title,a=e.desc;switch(this.widget.getBtn.clickArea.height=o.clickAreaHeight2,this.isDoubleGet=!1,this.widget.title.label.getComponent(cc.Label).string=n,this.widget.desc.getComponent(cc.Label).string=a,this.type===r.props.gold?this.widget.image.getComponent(cc.Sprite).spriteFrame=this.goldImg:this.type===r.props.skin?this.widget.image.getComponent(cc.Sprite).spriteFrame=this.skinImg:this.type===r.props.giftBag&&(this.widget.image.getComponent(cc.Sprite).spriteFrame=this.giftBagImg),this.widget.getBtn.Label.color=cc.color("#928D8D"),this.barnerAdPlaceName=r.adPlaceName.dailyWelfarePanel,this.changeBtnPosition=!1,this.from){case r.getAwardFrom.dailyWelfare:o.showDailyWelfareRiskyBtn&&(this.changeBtnPosition=!0),this.widget.getBtn.Label.color=cc.color("#FFFFFF"),this.shareId=r.shareId.dailyWelfare,this.barnerAdPlaceName=r.adPlaceName.dailyWelfarePanel,window.wx&&wx.aldSendEvent("\u6bcf\u65e5\u798f\u5229\u9886\u53d6\u754c\u9762");break;case r.getAwardFrom.dailyLogin:o.showDailyLoginAwardRiskyBtn&&(this.changeBtnPosition=!0),this.shareId=r.shareId.dailyLogin,this.barnerAdPlaceName=r.adPlaceName.dailyLoginAward,window.wx&&wx.aldSendEvent("\u8865\u9886\u91d1\u5e01\u9886\u53d6\u754c\u9762");break;case r.getAwardFrom.luckyWheel:o.showLuckyWheelAwardRiskyBtn&&(this.changeBtnPosition=!0),this.shareId=r.shareId.luckyWheel,this.barnerAdPlaceName=r.adPlaceName.luckyWheelAward,window.wx&&wx.aldSendEvent("\u8f6c\u76d8\u91d1\u5e01\u9886\u53d6\u754c\u9762");break;case r.getAwardFrom.gameOver:o.showGameOverAwardRiskyBtn&&(this.changeBtnPosition=!0),this.shareId=r.shareId.gameOver,this.barnerAdPlaceName=r.adPlaceName.gameOverAward,window.wx&&wx.aldSendEvent("\u7ed3\u7b97\u91d1\u5e01\u9886\u53d6\u754c\u9762");break;case r.getAwardFrom.secretGift:this.changeBtnPosition=!1,this.shareId=r.shareId.secretGift,window.wx&&wx.aldSendEvent("\u795e\u79d8\u5927\u793c\u754c\u9762");break;default:cc.error("\u7c7b\u578b\u9519\u8bef")}o.setShareState(this.shareId,this.widget.doubleGetBtn.layout.icon),t||(this.showAdTime=0,this.changeBtnPosition?(this.showAdTime=1e3,this.widget.doubleGetBtn.y-=200,this.widget.getBtn.y-=200):this.widget.getBtn.active=!0,this.BannerTimer&&(clearTimeout(this.BannerTimer),this.BannerTimer=null),this.BannerTimer=setTimeout(function(){this.isValid&&(s.showBannerAd(this.barnerAdPlaceName),this.changeBtnPosition&&(this.widget.doubleGetBtn.y+=200,this.widget.getBtn.y+=200))}.bind(this),this.showAdTime))},show:function(e,t){var n=this;if(this._super(),t&&t(),o.underReview){cc.loader.loadRes("/singleColor",cc.SpriteFrame,function(e,t){n.isValid&&(n.widget.bg.getComponent(cc.Sprite).spriteFrame=t)}),this.widget.bg.color=cc.color("#00D8FF")}s.hideBannerAd(),this.widget.CrazySpotBtn.active=!1,this.widget.crazyNode.active=!1,this.crazyProgressInterVal&&(clearInterval(this.crazyProgressInterVal),this.crazyProgressInterVal=null),this.crazyProgressInterVal1&&(clearInterval(this.crazyProgressInterVal1),this.crazyProgressInterVal1=null),this.widget.gestures.active=!1,this.widget.gift.active=!1,this.widget.closeBtn.active=!1,e.showCrazySpot?this.showCrazySpot():this.initUI(e)},hide:function(){switch(this._super(),this.from){case r.getAwardFrom.luckyWheel:s.showBannerAd(r.adPlaceName.gameOverPanel)}}}));kf.addModule("getAwardPanel.getAwardPanelUIEvent",function(){return c}),cc._RF.pop()},{}],getSkinPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"2f1caSxeJJDpLmgUo1Ow6kE","getSkinPanelLogic"),kf.addModule("getSkinPanel.getSkinPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],getSkinPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"62d21GErU9MNrY1PRLn/dFg","getSkinPanelUIEvent");kf.require("getSkinPanel.getSkinPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.sureBtn.on("click",function(){a.dispatchEvent("hidePanel","getSkinPanel")}.bind(this))},registerEvent:function(){},show:function(e){var t=this;this._super(),this.skinData=e,cc.loader.loadRes("mainSkins/"+this.skinData.prefabName,cc.Prefab,function(e,n){if(!e&&t.isValid){t.widget.skin.image.removeAllChildren(!0);var a=cc.instantiate(n);a.getChildByName("image").color=cc.color(t.skinData.characterColorValue),t.widget.skin.image.addChild(a),t.widget.skin.getComponent(cc.Animation).play().on("finished",function(){}.bind(t))}})}});kf.addModule("getSkinPanel.getSkinPanelUIEvent",function(){return r}),cc._RF.pop()},{}],gmPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"fee01PcNBdDdr+KQ3USZOD9","gmPanelLogic"),kf.addModule("gmPanel.gmPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],gmPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"5cbdcOmR2ZLEbet8rsyJS3A","gmPanelUIEvent");kf.require("gmPanel.gmPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("shared.constants"),kf.require("logic.user"),kf.require("basic.lang"),kf.require("basic.configuration")),r=e("CryptoJS"),o=kf.require("component.panel"),s=cc.Class({extends:o,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){this.widget.clean.on("click",function(){a.dispatchEvent("showPanel","clickTipPanel","\u662f\u5426\u6e05\u9664\u6e38\u620f\u6570\u636e\uff1f",function(){a.dispatchEvent("hidePanel","gmPanel"),a.dispatchEvent("showPanel","tipsPanel","\u5f00\u59cb\u6e05\u9664\uff0c\u6e05\u4e0d\u8981\u64cd\u4f5c\uff0c2\u79d2\u540e\u5c06\u81ea\u52a8\u9000\u51fa"),i.clearAllData(),kf.require("basic.cloud").uploadToCloud({gameData:{}},function(e){e?console.log("reset error : "+e):setTimeout(function(){window.wx?wx.exitMiniProgram({success:function(){}}):window.location.href=window.location.href}.bind(this),2e3)})}.bind(this))}.bind(this)),this.widget.close.on("click",function(){a.dispatchEvent("hidePanel","gmPanel")}.bind(this)),this.widget.pass.sureBtn.on("click",function(){var e=this.widget.pass.passTxt.getComponent(cc.EditBox).string;"be28f3501720ef5aeab04b790c0701f6"===r.MD5(e).toString(r.enc.Hex)?this.widget.pass.active=!1:a.dispatchEvent("showPanel","tipsPanel","\u5bc6\u7801\u9519\u8bef~")}.bind(this))},registerEvent:function(){},show:function(e){this._super()}});kf.addModule("gmPanel.gmPanelUIEvent",function(){return s}),cc._RF.pop()},{CryptoJS:"CryptoJS"}],growUpPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"87f06+agMhGUZxKNKRhjNxl","growUpPanelLogic"),kf.addModule("growUpPanel.growUpPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],growUpPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"bad307rXcxH4ZTuBgS/4IG1","growUpPanelUIEvent");kf.require("growUpPanel.growUpPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel"),kf.require("component.subPanel")),r=kf.require("logic.user"),o=kf.require("logic.platform"),s=kf.require("shared.constants"),c=cc.Class({extends:i,properties:{fansCountNode:cc.Node,offlineNode:cc.Node,sprintNode:cc.Node,speedNode:cc.Node,currentBar:cc.Node,speedLevelUpLayout:cc.Node,offLineLevelUpLayout:cc.Node,fansLevelUpLayout:cc.Node,chongciLevelUpLayout:cc.Node},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.speedLevelUpIcon=this.speedLevelUpLayout.getChildByName("icon"),this.offLineLevelUpIcon=this.offLineLevelUpLayout.getChildByName("icon"),this.fansLevelUpIcon=this.fansLevelUpLayout.getChildByName("icon"),this.chongciLevelUpIcon=this.chongciLevelUpLayout.getChildByName("icon"),this.speedLevelUpLabel=this.speedLevelUpLayout.getChildByName("Label"),this.offLineLevelUpLabel=this.offLineLevelUpLayout.getChildByName("Label"),this.fansLevelUpLabel=this.fansLevelUpLayout.getChildByName("Label"),this.chongciLevelUpLabel=this.chongciLevelUpLayout.getChildByName("Label"),this.goldText="<outline color=#B45500 width=1><color=#B45500>\u5347\u7ea7</color></outline>",this.videoText="<outline color=#B45500 width=1><color=#B45500>\u8fde\u5347</color><size=50>3</size><color=#B45500>\u7ea7</color></outline>",this.refreshUI(),this.showBar(0)},closePanel:function(){a.dispatchEvent("hidePanel","growUpPanel")},registerWidgetEvent:function(){var e=this;this.widget.selectNode.speedBtn.on("touchend",function(){e.currentBar.x=e.widget.selectNode.speedBtn.x-8,e.showBar(0)}),this.widget.selectNode.fansBtn.on("touchend",function(){e.currentBar.x=e.widget.selectNode.fansBtn.x-8,e.showBar(1)}),this.widget.selectNode.sprintBtn.on("touchend",function(){e.currentBar.x=e.widget.selectNode.sprintBtn.x-8,e.showBar(2)}),this.widget.selectNode.offlineBtn.on("touchend",function(){e.currentBar.x=e.widget.selectNode.offlineBtn.x,e.showBar(3)})},showBar:function(e){for(var t=[this.speedNode,this.fansCountNode,this.sprintNode,this.offlineNode],n=0;n<t.length;n++)t[n].active=n===e},registerEvent:function(){},onLevelUp:function(e,t){switch(r.setAudio("btnClick"),t){case"offline":r.data.gameData.gold<this.nextOfflineData.offlineLevelCost?(r.setShareState(s.shareId.sprintPropertyTrain,this.offLineLevelUpIcon),this.playVideoToLevelUp(t)):this.nextOfflineData.offlineLevelCost>0&&(a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u6210\u529f"),r.data.gameData.gold-=this.nextOfflineData.offlineLevelCost,r.data.gameData.offlineLevel+=1,r.offlineUpgradeCount++,a.dispatchEvent("updateUserDataDisplay"),r.writeToCloud(),this.refreshUI());break;case"fans":r.data.gameData.gold<this.nextCountData.fansCoin?(r.setShareState(s.shareId.sprintPropertyTrain,this.fansLevelUpIcon),this.playVideoToLevelUp(t)):this.nextCountData.fansCoin>0&&(a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u6210\u529f"),r.data.gameData.gold-=this.nextCountData.fansCoin,r.data.gameData.fansCountLevel+=1,r.fansUpgradeCount++,a.dispatchEvent("updateUserDataDisplay"),r.writeToCloud(),this.refreshUI());break;case"sprint":r.data.gameData.gold<this.nextSprintData.sprintCoin?(r.setShareState(s.shareId.sprintPropertyTrain,this.chongciLevelUpIcon),this.playVideoToLevelUp(t)):this.nextSprintData.sprintCoin>0&&(a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u6210\u529f"),r.data.gameData.gold-=this.nextSprintData.sprintCoin,r.data.gameData.sprintLevel+=1,r.sprintUpgradeCount++,a.dispatchEvent("updateUserDataDisplay"),r.writeToCloud(),this.refreshUI());break;case"speed":r.data.gameData.gold<this.nextPlayerData.coin?(r.setShareState(s.shareId.sprintPropertyTrain,this.speedLevelUpIcon),this.playVideoToLevelUp(t)):this.nextPlayerData&&(a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u6210\u529f"),r.data.gameData.gold-=this.nextPlayerData.coin,r.data.gameData.playerLevel+=1,r.speedUpgradeCount++,a.dispatchEvent("updateUserDataDisplay"),r.writeToCloud(),this.refreshUI())}},playVideoToLevelUp:function(e){var t=this,n="\u79bb\u7ebf\u89c6\u9891",i="";switch(e){case"offline":console.log("\u79bb\u7ebf\u89c6\u9891\u64ad\u653e"),n="\u79bb\u7ebf\u89c6\u9891",i=s.shareId.sprintPropertyTrain;break;case"fans":console.log("\u4eba\u6570\u89c6\u9891\u64ad\u653e"),n="\u4eba\u6570\u89c6\u9891",i=s.shareId.sprintPropertyTrain;break;case"sprint":console.log("\u51b2\u523a\u89c6\u9891\u64ad\u653e"),n="\u51b2\u523a\u89c6\u9891",i=s.shareId.sprintPropertyTrain;break;case"speed":console.log("\u901f\u5ea6\u89c6\u9891\u64ad\u653e"),n="\u901f\u5ea6\u89c6\u9891",i=s.shareId.sprintPropertyTrain}o.shareAppMessage({title:n},function(){switch(a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u6210\u529f"),e){case"offline":console.log("\u79bb\u7ebf\u89c6\u9891\u6210\u529f"),r.data.gameData.offlineLevel+=3,r.data.gameData.offlineLevel>60&&(r.data.gameData.offlineLevel=60),r.offlineUpgradeCount=0,a.dispatchEvent("updateUserDataDisplay"),t.refreshUI();break;case"fans":console.log("\u4eba\u6570\u89c6\u9891\u6210\u529f"),r.data.gameData.fansCountLevel+=3,r.data.gameData.fansCountLevel>30&&(r.data.gameData.fansCountLevel=30),r.fansUpgradeCount=0,a.dispatchEvent("updateUserDataDisplay"),t.refreshUI();break;case"sprint":console.log("\u51b2\u523a\u89c6\u9891\u6210\u529f"),r.data.gameData.sprintLevel+=3,r.data.gameData.sprintLevel>30&&(r.data.gameData.sprintLevel=30),r.sprintUpgradeCount=0,a.dispatchEvent("updateUserDataDisplay"),t.refreshUI();break;case"speed":console.log("\u901f\u5ea6\u89c6\u9891\u6210\u529f"),r.data.gameData.playerLevel+=3,r.data.gameData.playerLevel>60&&(r.data.gameData.playerLevel=60),r.speedUpgradeCount=0,a.dispatchEvent("updateUserDataDisplay"),t.refreshUI()}r.writeToCloud()},function(){a.dispatchEvent("showPanel","tipsPanel","\u5347\u7ea7\u5931\u8d25")},i)},refreshUI:function(){r.data.gameData.offlineLevel||(r.data.gameData.offlineLevel=1),r.data.gameData.sprintLevel||(r.data.gameData.sprintLevel=1),r.data.gameData.fansCountLevel||(r.data.gameData.fansCountLevel=1),r.data.gameData.playerLevel||(r.data.gameData.playerLevel=1);var e=r.data.gameData;this.offlineLevel=e.offlineLevel,this.sprintLevel=e.sprintLevel,this.fansCountLevel=e.fansCountLevel,this.playerLevel=e.playerLevel,this.curOfflineData=dataFunc.queryByID("growUpLevel",e.offlineLevel),this.curSprintData=dataFunc.queryByID("growUpLevel",e.sprintLevel),this.curFansCountData=dataFunc.queryByID("growUpLevel",e.fansCountLevel),this.curPlayerData=dataFunc.queryByID("growUpLevel",e.playerLevel),this.nextOfflineData=dataFunc.queryByID("growUpLevel",e.offlineLevel+1),this.nextSprintData=dataFunc.queryByID("growUpLevel",e.sprintLevel+1),this.nextCountData=dataFunc.queryByID("growUpLevel",e.fansCountLevel+1),this.nextPlayerData=dataFunc.queryByID("growUpLevel",e.playerLevel+1),this.setFansCountData(),this.setOfflineData(),this.setSprintData(),this.setPlayerData(),r.playerLevel=r.data.gameData.playerLevel,r.sprintLevel=r.data.gameData.sprintLevel,r.fansCountLevel=r.data.gameData.fansCountLevel},setPlayerData:function(){var e=this.speedNode.getChildByName("title").getComponent(cc.Label),t=this.speedNode.getChildByName("tips").getComponent(cc.Label),n=this.speedNode.getChildByName("count").getComponent(cc.Label),a=this.speedNode.getChildByName("growUp"),i=this.speedNode.getChildByName("ic_gold");if(this.nextPlayerData){e.string="\u4e0b\u4e00\u7ea7\uff1a"+(this.playerLevel+1)+"\u7ea7";var o=this.nextPlayerData.speed/380*100-100;o<1&&(o=1),t.string="\u589e\u52a0"+(this.playerLevel+1)+"%\u7684\u79fb\u52a8\u901f\u5ea6",n.string="\u6d88\u8017\uff1a"+this.nextPlayerData.coin,a.active=!0,i.active=!0,r.data.gameData.gold<this.nextPlayerData.coin?(this.widget.selectNode.speedBtn.canUpgrade.active=!1,this.speedLevelUpIcon.active=!0,r.setShareState(s.shareId.sprintPropertyTrain,this.speedLevelUpIcon),this.speedLevelUpLabel.getComponent(cc.RichText).string=this.videoText):(this.widget.selectNode.speedBtn.canUpgrade.active=!0,this.speedLevelUpIcon.active=!1,this.speedLevelUpLabel.getComponent(cc.RichText).string=this.goldText)}else e.string="\u6ee1\u7ea7",t.string="\u589e\u52a0"+(this.playerLevel+1)+"%\u7684\u79fb\u52a8\u901f\u5ea6",n.string="",a.active=!1,i.active=!1,this.widget.selectNode.speedBtn.canUpgrade.active=!1},setSprintData:function(){var e=this.sprintNode.getChildByName("title").getComponent(cc.Label),t=this.sprintNode.getChildByName("tips").getComponent(cc.Label),n=this.sprintNode.getChildByName("count").getComponent(cc.Label),a=this.sprintNode.getChildByName("growUp"),i=this.sprintNode.getChildByName("ic_gold");this.nextSprintData&&this.nextSprintData.sprintCoin?(e.string="\u4e0b\u4e00\u7ea7\uff1a"+(this.sprintLevel+1)+"\u7ea7",t.string="\u6bcf\u5c40\u53ef\u7528"+this.nextSprintData.sprintCount+"\u6b21\uff0c\u6bcf\u6b21\u6301\u7eed"+this.nextSprintData.sprintTime+"\u79d2",n.string="\u6d88\u8017\uff1a"+this.nextSprintData.sprintCoin,a.active=!0,i.active=!0,r.data.gameData.gold<this.nextSprintData.sprintCoin?(this.widget.selectNode.sprintBtn.canUpgrade.active=!1,this.chongciLevelUpIcon.active=!0,r.setShareState(s.shareId.sprintPropertyTrain,this.chongciLevelUpIcon),this.chongciLevelUpLabel.getComponent(cc.RichText).string=this.videoText):(this.widget.selectNode.sprintBtn.canUpgrade.active=!0,this.chongciLevelUpIcon.active=!1,this.chongciLevelUpLabel.getComponent(cc.RichText).string=this.goldText)):(e.string="\u6ee1\u7ea7",t.string="\u6bcf\u5c40\u53ef\u7528"+this.curSprintData.sprintCount+"\u6b21\uff0c\u6bcf\u6b21\u6301\u7eed"+this.curSprintData.sprintTime+"\u79d2",n.string="",a.active=!1,i.active=!1,this.widget.selectNode.sprintBtn.canUpgrade.active=!1)},setOfflineData:function(){var e=this.offlineNode.getChildByName("title").getComponent(cc.Label),t=this.offlineNode.getChildByName("tips").getComponent(cc.Label),n=this.offlineNode.getChildByName("count").getComponent(cc.Label),a=this.offlineNode.getChildByName("growUp"),i=this.offlineNode.getChildByName("ic_gold");this.nextOfflineData&&this.nextOfflineData.offlineLevelCost?(e.string="\u4e0b\u4e00\u7ea7\uff1a"+(this.offlineLevel+1)+"\u7ea7",t.string="\u589e\u52a0"+2*(this.offlineLevel+1)+"%\u7684\u79bb\u7ebf\u6536\u76ca",n.string="\u6d88\u8017\uff1a"+this.nextOfflineData.offlineLevelCost,a.active=!0,i.active=!0,r.data.gameData.gold<this.nextOfflineData.offlineLevelCost?(this.widget.selectNode.offlineBtn.canUpgrade.active=!1,this.offLineLevelUpIcon.active=!0,r.setShareState(s.shareId.sprintPropertyTrain,this.offLineLevelUpIcon),this.offLineLevelUpLabel.getComponent(cc.RichText).string=this.videoText):(this.widget.selectNode.offlineBtn.canUpgrade.active=!0,this.offLineLevelUpIcon.active=!1,this.offLineLevelUpLabel.getComponent(cc.RichText).string=this.goldText)):(e.string="\u6ee1\u7ea7",t.string="\u589e\u52a0"+2*(this.offlineLevel+1)+"%\u7684\u79bb\u7ebf\u6536\u76ca",n.string="",a.active=!1,i.active=!1,this.widget.selectNode.offlineBtn.canUpgrade.active=!1)},setFansCountData:function(){var e=this.fansCountNode.getChildByName("title").getComponent(cc.Label),t=this.fansCountNode.getChildByName("tips").getComponent(cc.Label),n=this.fansCountNode.getChildByName("count").getComponent(cc.Label),a=this.fansCountNode.getChildByName("growUp"),i=this.fansCountNode.getChildByName("ic_gold");this.nextCountData&&this.nextCountData.fansCoin?(e.string="\u4e0b\u4e00\u7ea7\uff1a"+(this.fansCountLevel+1)+"\u7ea7",t.string="\u5f00\u5c40\u589e\u52a0"+(this.fansCountLevel+1)+"\u4e2a\u5c0f\u5f1f",n.string="\u6d88\u8017\uff1a"+this.nextCountData.fansCoin,a.active=!0,i.active=!0,r.data.gameData.gold<this.nextCountData.fansCoin?(this.widget.selectNode.fansBtn.canUpgrade.active=!1,this.fansLevelUpIcon.active=!0,r.setShareState(s.shareId.sprintPropertyTrain,this.fansLevelUpIcon),this.fansLevelUpLabel.getComponent(cc.RichText).string=this.videoText):(this.widget.selectNode.fansBtn.canUpgrade.active=!0,this.fansLevelUpIcon.active=!1,this.fansLevelUpLabel.getComponent(cc.RichText).string=this.goldText)):(e.string="\u6ee1\u7ea7",t.string="\u5f00\u5c40\u589e\u52a0"+(this.fansCountLevel+1)+"\u4e2a\u5c0f\u5f1f",n.string="",a.active=!1,i.active=!1,this.widget.selectNode.fansBtn.canUpgrade.active=!1)},show:function(){this._super()}});kf.addModule("growUpPanel.growUpPanelUIEvent",function(){return c}),cc._RF.pop()},{}],guessYouLike:[function(e,t,n){"use strict";cc._RF.push(t,"98f71ddNJNKcYf+2C/d4Oie","guessYouLike");kf.require("basic.clientEvent"),kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel");var a=kf.require("component.subPanel"),i=kf.require("logic.user"),r=(kf.require("logic.platform"),kf.require("shared.constants")),o=cc.Class({extends:a,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.scroll=!0,this.durT=0,this.direction=1,this.scrollWidth=this.widget.scrollView.width,this.scontent=this.widget.scrollView.getComponent(cc.ScrollView).content,this.showMoreMaxCd=3,this.showMoreCurCd=this.showMoreMaxCd},registerWidgetEvent:function(){this.widget.scrollView.on("scroll-began",function(){this.stopScroll()}.bind(this)),this.widget.scrollView.on("scroll-ended",function(){this.scheduleOnce(function(){this.isValid&&this.startScroll()}.bind(this),1)}.bind(this))},registerEvent:function(){},show:function(){this._super(),this.guessGameData?this.widget.scrollView.getComponent("reuseScrollView").setData(this.guessGameData):i.getChannelData(r.channelLocation.cainixihuan,function(e){this.isValid&&(this.guessGameData=e,this.widget.scrollView.getComponent("reuseScrollView").setData(this.guessGameData))}.bind(this)),this.startScroll()},lateUpdate:function(e){if(this.guessGameData&&!(this.guessGameData.length<6)&&this.scroll&&(this.durT+=e,this.durT>.03)){this.durT=0;var t=-this.scrollWidth/2,n=-(this.scontent.width-Math.abs(t));this.scontent.x<=n?(this.direction=1,this.scontent.x=n+5):this.scontent.x>=t?(this.direction=-1,this.scontent.x=t-5):this.scontent.x+=2*this.direction}},startScroll:function(){this.scroll=!0;var e=-this.scrollWidth/2-(this.scontent.width- -this.scrollWidth/2)/2;this.scontent.x<e?this.direction=-1:this.direction=1},stopScroll:function(){this.scroll=!1}});kf.addModule("mainPanel.guessYouLike",function(){return o}),cc._RF.pop()},{}],inviteSkinPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"ad308t2/L5OBYupwjlPQCXj","inviteSkinPanelLogic"),kf.addModule("inviteSkinPanel.inviteSkinPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],inviteSkinPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"3ed69zH2IxGCIIagK1ORz5W","inviteSkinPanelUIEvent");kf.require("inviteSkinPanel.inviteSkinPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=kf.require("logic.user"),o=kf.require("logic.platform"),s=kf.require("shared.constants"),c=cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},initInvitationData:function(){r.getInvitationInfo(function(e){if(e&&e.invitation){for(var t=0;t<e.invitation.length;t++)if(e.invitation[t]){var n=e.invitation[t].avatarUrl;r.headImage(n,this.widget.invitees["invitee"+(t+1)].image)}this.widget.inviteNumLabel.num.getComponent(cc.Label).string=""+(3-e.invitation.length),r.data.gameData.skinData["s"+s.taskId.invite]===s.getSkinNum?(this.widget.inviteNumLabel.getComponent(cc.Label).string="\u5df2\u83b7\u5f97",this.widget.inviteNumLabel.num.active=!1):3===e.invitation.length&&(this.widget.inviteNumLabel.getComponent(cc.Label).string="\u5df2\u83b7\u5f97",this.widget.inviteNumLabel.num.active=!1)}}.bind(this))},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.closeBtn.on("click",function(){r.setAudio("btnClick"),a.dispatchEvent("hidePanel","inviteSkinPanel")}.bind(this)),this.widget.inviteBtn.on("click",function(){r.setAudio("btnClick"),window.wx&&wx.aldSendEvent("J\u7edd\u7248\u76ae\u80a4\u9080\u8bf7\u6309\u94ae"),1===r.data.gameData.skinData.s13&&a.dispatchEvent("showPanel","tipsPanel","\u5df2\u83b7\u5f97\u8be5\u76ae\u80a4"),o.shareAppMessage({title:"\u7edd\u7248\u76ae\u80a4",query:"type=invite&inviter="+r.data.user.openId},function(){a.dispatchEvent("showPanel","tipsPanel","\u6210\u529f\u53d1\u9001\u7ed9\u597d\u53cb")},function(){a.dispatchEvent("showPanel","tipsPanel","\u8f6c\u53d1\u5931\u8d25")},s.shareId.inviteFriend)}.bind(this))},registerEvent:function(){},show:function(e){this._super(),this.initInvitationData()}});kf.addModule("inviteSkinPanel.inviteSkinPanelUIEvent",function(){return c}),cc._RF.pop()},{}],lang:[function(e,t,n){"use strict";cc._RF.push(t,"3bb64sOmctC9JKVzpTYrodI","lang"),kf.addModule("basic.lang",function(){var t=e("LanguageData");return t.get=function(){return t.t.apply(t,arguments)},t}),cc._RF.pop()},{LanguageData:"LanguageData"}],loadConfig:[function(e,t,n){"use strict";cc._RF.push(t,"30f90p/ifpPYbo6tUuKvf6O","loadConfig"),kf.addModule("logic.loadConfig",function(){var t=kf.require("shared.configManager");return{_callback:null,loadConfig:function(e,t){this._callback=t,this.loadCSV(e)},loadCSV:function(n){var a=this;if(this._skills={},this.currentLoad=0,"undefined"!=typeof cc){var i=["goodsProducts","dailyLogin","prize","skin","nickName","growUpLevel"];this.cntLoad=i.length,i.forEach(function(r,o){cc.loader.loadRes("data/"+r,function(s,c){s?cc.error(s.message||s):(e("config").isCompress&&(c.text=e("xxtea").decryptToString(c.text,"")),n(o+1,i.length),t.addTable(r,c.text),a.tryToCallbackOnFinished())})})}},tryToCallbackOnFinished:function(){this._callback&&(this.currentLoad++,this.currentLoad>=this.cntLoad&&this._callback())},getServerList:function(){return window.serverConfig?window.serverConfig.serverList:{1:{ip:"gm.xxzsgame.com",name:"\u5a03\u5a03\u673a\u6d4b\u8bd5\u670d",port:4001}}}}}),cc._RF.pop()},{config:"config",xxtea:void 0}],loadingPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"2c52dkY1dNHsaZja1gdm20k","loadingPanelLogic"),kf.addModule("loading.loadingPanelLogic",function(){var e={init:function(){}};return e}),cc._RF.pop()},{}],loadingPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"865d27ovN1C8KHzpNnb2SlO","loadingPanelUIEvent");kf.require("loading.loadingPanelLogic");var a=kf.require("component.panel"),i=kf.require("basic.clientEvent");cc.Class({extends:a,properties:{},onLoad:function(){this.widget||(this._super(),this.registerWidgetEvent(),this.registerEvent())},registerWidgetEvent:function(){this.widget.loadingNode.loginBtn.on("click",function(){var e=kf.require("logic.user");e.setAudio("btnClick"),e.login()}.bind(this))},registerEvent:function(){var e=this;i.on("showMainPanelOver",function(){e.widget.loadingNode.active=!1}),i.on("showLoginBtn",function(){e.widget.loadingNode.loginBtn.active=!0,window.wx&&wx.showModal({title:"\u51fa\u9519\u5566\uff01",content:"\u7f51\u7edc\u9519\u8bef\uff0c\u70b9\u51fb\u786e\u5b9a\u91cd\u8bd5\u3002",showCancel:!1,success:function(e){e.confirm&&kf.require("logic.user").login()}})})},show:function(){var e=this;if(this.widget||this.onLoad(),this._super(),kf.require("logic.user").underReview){cc.loader.loadRes("/singleColor",cc.SpriteFrame,function(t,n){e.widget.jiazaiditu.getComponent(cc.Sprite).spriteFrame=n}),this.widget.jiazaiditu.color=cc.color("#00D8FF")}this.widget.loadingNode.active=!0,this.widget.loadingNode.gameBar.getComponent(cc.ProgressBar).progress=0,window.tt?this.widget.danmu.active=!1:this.widget.danmu.active=!0},setProgress:function(e,t){e>t&&(e=t),this.widget.loadingNode.gameBar.getComponent(cc.ProgressBar).progress=e/t,this.widget.loadingNode.gameBarTxt.getComponent(cc.Label).string=(e/t*100|0)+"%"},setMessage:function(e){this.widget.loadingNode.gameBar.getComponent(cc.ProgressBar).progress=1,this.widget.loadingNode.gameBarTxt.getComponent(cc.Label).string=e}}),cc._RF.pop()},{}],mainPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"32f8elNnClHxJi7oMowYN8t","mainPanelLogic"),kf.addModule("mainPanel.mainPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],mainPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"8d8cbF1SNhPQafbr1P4z217","mainPanelUIEvent");kf.require("mainPanel.mainPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=kf.require("shared.configManager"),o=kf.require("logic.user"),s=kf.require("logic.platform"),c=kf.require("shared.constants"),l=kf.require("basic.configuration"),d=kf.require("basic.pool"),h=cc.Class({extends:i,properties:{levelImages:{default:[],type:cc.SpriteFrame},skinLockImage:cc.Node,startVideoImage:cc.Node,progressBlockPref:cc.Prefab},onLoad:function(){this._super(),this.isRoleUnlock=!1,this.showMoreMaxCd=3,this.showMoreCurCd=this.showMoreMaxCd,d.createPrefabPool(this.progressBlockPref),this.registerWidgetEvent(),this.registerEvent(),o.firstLogin&&o.isNew?(this.widget.guideMask.active=!0,this.widget.gestures.active=!0):(this.widget.guideMask.active=!1,this.widget.gestures.active=!1),o.firstLogin&&(!o.isNew||o.isNew&&o.showDailyWelfareNewUser)&&!o.underReview&&(o.dailyLoginCanGetCount=0,this.todayIndex=(new Date).getDay(),this.updateGetState(),o.data.gameData.dailyWelfareGet?o.offLineReward():(o.todayFirstLogin=!0,a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","getAwardPanel",{from:c.getAwardFrom.dailyWelfare,type:c.props.gold,num:500,title:"\u6bcf\u65e5\u798f\u5229",desc:"\u83b7\u5f97\u91d1\u5e01\uff1a500"},function(){a.dispatchEvent("hidePanel","maskPanel")}))),o.isNew||o.continuousLogin?o.updateTaskData(c.taskId.continuousLogin):o.updateTaskData(c.taskId.continuousLogin,1),o.getInvitationInfo(),this.clickGoldBtnNum=0},update:function(e){this.showMoreCurCd-=e,this.showMoreCurCd<0&&this.showMoreOtherGame()},updateGetState:function(){this.dailyLoginArr=r.getTableArr("dailyLogin");var e=!0,t=!1,n=void 0;try{for(var a,i=this.dailyLoginArr[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=a.value;o.data.gameData.dailyLoginGet["day"+s.ID]||(s.ID===this.todayIndex?o.dailyLoginCanGetCount++:(s.ID<this.todayIndex&&0!=this.todayIndex&&0!=s.ID||s.ID>this.todayIndex&&0===this.todayIndex)&&o.dailyLoginCanGetCount++)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},showMoreOtherGame:function(){if(this.showMoreCurCd=this.showMoreMaxCd,GameManager.isSubpackExist("main"))this.randomIndex1+=1,this.randomIndex1>=o.otherGameData.length&&(this.randomIndex1=0),this.showOtherGameBtn(1);else var e=setTimeout(function(){clearTimeout(e),this.isValid&&this.showOtherGameBtn(1)}.bind(this),1e3)},showOtherGameBtn:function(e){var t=this.randomIndex1;if(t=1==e?this.randomIndex1:this.randomIndex2,o.otherGameData){isNaN(t)&&(this.randomIndex1=0,this.randomIndex2=1,t=0);var n=o.otherGameData[t];if(1===n.logo_status)o.headImage(n.logo,this.widget["otherGameBtn"+e].image);else for(var i=0;i<GameManager.appIcons.length;i++)if(GameManager.appIcons[i].name===n.client_logo){this.widget["otherGameBtn"+e].image.getComponent(cc.Sprite).spriteFrame=GameManager.appIcons[i];break}this.widget["otherGameBtn"+e].Label.getComponent(cc.Label).string=n.name}else a.dispatchEvent("updateUserDataDisplay"),o.getChannelData(c.channelLocation.lunbo,function(e){o.otherGameData=e})},navigateToMiniProgram:function(e){this.gameId=o.otherGameData[e].id,console.log("#######"+this.gameId),wx.aldSendEvent("\u5356\u91cf-\u4e3b\u754c\u9762-\u8f6e\u64ad"),wx.aldSendEvent("\u5356\u91cf-"+o.otherGameData[e].name),wx.navigateToMiniProgram({appId:o.otherGameData[e].appid,path:o.otherGameData[e].path,success:function(e){s.setNavigateToMiniProgram(!0),o.reportChannelData(this.gameId)}.bind(this)})},checkIsClick:function(){return!(this.clickTime&&(new Date).getTime()-this.clickTime<500)&&(this.clickTime=(new Date).getTime(),!0)},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.startBtn.on("click",function(){if(this.checkIsClick()){window.wx&&wx.aldSendEvent("Z\u5f00\u59cb\u6309\u94ae"),this.widget.guideMask.active=!1,this.widget.gestures.active=!1,o.setAudio("btnClick");var e=function(){this.labelInterval&&(clearInterval(this.labelInterval),this.labelInterval=null),this.labelTimeout&&(clearTimeout(this.labelTimeout),this.labelTimeout=null),o.inGame=!0,s.hideBannerAd(c.adPlaceName.mainPanel),a.dispatchEvent("showPanel","maskPanel");var e=!1;this.isRoleUnlock&&(this.skinArr=r.getTableArr("skin"),this.skinData=o.data.gameData.skinData,this.skinArrNoOwn=this.skinArr.filter(function(e){return!(e.ID<9)&&(!this.skinData["s"+e.ID]||this.skinData["s"+e.ID]!=c.getSkinNum)}.bind(this)),this.skinArrNoOwn.length>0&&(e=!0));var t=!0;e&&!o.underReview?(t=1!=o.superStart||Math.random()>.5,2==o.welfareConfig&&(t=!0)):t=!1,t?a.dispatchEvent("showPanel","trialSkinPanel",function(){a.dispatchEvent("hidePanel","maskPanel")}):1==o.superStart&&o.showSuperWelfare?(window.wx&&wx.aldSendEvent("Z\u8d85\u7ea7\u798f\u5229\u6309\u94ae"),a.dispatchEvent("showPanel","superStartPanel",function(){a.dispatchEvent("hidePanel","maskPanel")})):a.dispatchEvent("showPanel","matchingPanel",function(){a.dispatchEvent("hidePanel","maskPanel")}),a.dispatchEvent("hidePanel","mainPanel"),s.hideGameClubButton()}.bind(this),t=!1,n=this.widget.player.playerName.getComponent(cc.EditBox).string;!o.underReview&&window.wx&&(n=o.getString(n),t=!o.playerName||o.playerName!=n),t?o.msgSecCheck(n,function(t){87014!=t.errcode?(o.playerName=n,l.setConfigData("playerName",o.playerName),l.save(),this.isRoleUnlock?e():s.shareAppMessage({title:"\u76ae\u80a4\u8bd5\u7528-\u4e3b\u754c\u9762"},function(){e()}.bind(this),function(){},c.shareId.skinTry)):a.dispatchEvent("showPanel","tipsPanel","\u4f60\u7684\u540d\u5b57\u5305\u542b\u654f\u611f\u8bcd\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165")}.bind(this)):(o.playerName=n,this.isRoleUnlock?e():s.shareAppMessage({title:"\u76ae\u80a4\u8bd5\u7528-\u4e3b\u754c\u9762"},function(){e()}.bind(this),function(){},c.shareId.skinTry))}}.bind(this)),this.widget.superStartBtn.on("click",function(){var e=this;this.checkIsClick()&&(o.setAudio("btnClick"),20!=o.superStart&&(window.wx&&wx.aldSendEvent("Z\u5f00\u5c40\u9635\u5bb9\u5347\u7ea7\u6309\u94ae"),s.shareAppMessage({title:"\u8d85\u7ea7\u5f00\u5c40-\u4e3b\u754c\u9762"},function(){e.isValid&&(1==o.superStart?(o.superStart=10,e.widget.superStartBtn.content.Label.getComponent(cc.RichText).string="<b>\u5f00\u5c40<size=50>\u518d</size>+10</b>",e.widget.superStartBtn.content2.Label.getComponent(cc.RichText).string="<b>\u5f00\u5c40<size=50>\u518d</size>+10</b>"):(o.superStart=20,e.widget.superStartBtn.active=!1),e.labelInterval&&(clearInterval(e.labelInterval),e.labelInterval=null),e.labelTimeout&&(clearTimeout(e.labelTimeout),e.labelTimeout=null),e.createRoleNode(),a.dispatchEvent("showPanel","tipsPanel","\u9635\u5bb9\u5347\u7ea7\u5566\uff01"))},function(){a.dispatchEvent("showPanel","tipsPanel","\u9886\u53d6\u5931\u8d25")},c.shareId.superStart)))}.bind(this)),this.widget.rankBtn.on("click",function(){this.checkIsClick()&&(window.wx&&wx.aldSendEvent("Z\u6392\u884c\u699c\u6309\u94ae"),o.setAudio("btnClick"),s.hideGameClubButton(),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","rankPanel",{fromGameOver:!1},function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.dailyLoginBtn.on("click",function(){this.checkIsClick()&&(window.wx&&wx.aldSendEvent("Z\u6bcf\u65e5\u7b7e\u5230\u6309\u94ae"),o.setAudio("btnClick"),s.hideGameClubButton(),s.hideBannerAd(),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","dailyLoginPanel",function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.luckyWheelBtn.on("click",function(){this.checkIsClick()&&(o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u5e78\u8fd0\u8f6c\u76d8\u6309\u94ae"),s.hideGameClubButton(),s.hideBannerAd(),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","luckyWheelPanel",{fromGameOver:!1},function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.skinBtn.on("click",function(){this.checkIsClick()&&(o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u76ae\u80a4\u6309\u94ae"),s.hideGameClubButton(),s.hideBannerAd(c.adPlaceName.mainPanel),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","skinPanel",function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.recommendBtn.on("click",function(){this.checkIsClick()&&GameManager.isSubpackExist("main")&&(this.widget.recommendBtn.dot.active=!1,o.recommendDot=!1,o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u4e92\u63a8\u5899\u6309\u94ae"),s.hideGameClubButton(),s.hideBannerAd(c.adPlaceName.mainPanel),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","popularPanel",{fromGameOver:!1},function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.playerColor.lastBtn.on("click",function(){o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u5207\u6362\u76ae\u80a4\u5de6\u6309\u94ae"),o.useSkinIndexOwn--,o.useSkinIndexOwn<0&&(o.useSkinIndexOwn=this.skinArr.length-1),o.data.gameData.skinData.useSkinIndex=this.skinArr[o.useSkinIndexOwn].ID,o.skinId=o.data.gameData.skinData.useSkinIndex,a.dispatchEvent("updateUserDataDisplay")}.bind(this)),this.widget.playerColor.nextBtn.on("click",function(){o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u5207\u6362\u76ae\u80a4\u53f3\u6309\u94ae"),o.useSkinIndexOwn++,o.useSkinIndexOwn>this.skinArr.length-1&&(o.useSkinIndexOwn=0),o.data.gameData.skinData.useSkinIndex=this.skinArr[o.useSkinIndexOwn].ID,o.skinId=o.data.gameData.skinData.useSkinIndex,a.dispatchEvent("updateUserDataDisplay")}.bind(this)),this.widget.playerColor.skin.on("click",function(){window.wx&&wx.aldSendEvent("\u70b9\u51fb\u4eba\u7269\u6253\u5f00\u76ae\u80a4\u754c\u9762"),this.checkIsClick()&&(console.log("\u70b9\u51fb\u4eba\u7269\u6253\u5f00\u76ae\u80a4\u754c\u9762"),o.setAudio("btnClick"),s.hideGameClubButton(),s.hideBannerAd(c.adPlaceName.mainPanel),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","skinPanel",function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.moreGameBtn.on("click",function(){window.tt?kf.require("basic.clientEvent").dispatchEvent("showPanel","tipsPanel","\u6682\u672a\u5f00\u653e\uff0c\u656c\u8bf7\u671f\u5f85"):this.checkIsClick()&&(o.setAudio("btnClick"),this.widget.moreGameBtn.dot.active=!1,o.moreGameDot=!1,window.wx&&wx.aldSendEvent("Z\u79ef\u5206\u5899\u9886\u91d1\u5e01\u6309\u94ae"),s.hideGameClubButton(),s.hideBannerAd(c.adPlaceName.mainPanel),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","moreGamePanel",function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.settingBtn.on("click",function(){this.checkIsClick()&&(window.wx&&wx.aldSendEvent("Z\u8bbe\u7f6e\u6309\u94ae"),o.setAudio("btnClick"),s.hideGameClubButton(),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","settingPanel",function(){a.dispatchEvent("hidePanel","maskPanel")}))}.bind(this)),this.widget.customBtn.on("click",function(){this.checkIsClick()&&(window.wx&&wx.aldSendEvent("Z\u5ba2\u670d\u6309\u94ae"),o.setAudio("btnClick"),s.hideGameClubButton(),o.wxCustomerClick())}.bind(this)),this.widget.propertyBtn.on("click",function(){this.checkIsClick()&&(o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u5c5e\u6027\u517b\u6210\u6309\u94ae"),s.hideGameClubButton())}.bind(this)),this.widget.level.on("click",function(){o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u6bb5\u4f4d\u6309\u94ae"),a.dispatchEvent("showPanel","tipsPanel","\u8fd8\u9700"+this.needScore+"\u5206\u5347\u661f\uff01")}.bind(this)),this.widget.player.changeNameBtn.on("click",function(){o.setAudio("btnClick"),window.wx&&wx.aldSendEvent("Z\u5207\u6362\u6635\u79f0\u6309\u94ae"),this.nickNameArr=r.getTableArr("nickName");var e=Math.floor(Math.random()*this.nickNameArr.length);this.widget.player.playerName.getComponent(cc.EditBox).string=this.nickNameArr[e].nickName}.bind(this)),this.widget.otherGameBtn1.on("click",function(){o.setAudio("btnClick"),window.wx&&this.navigateToMiniProgram(this.randomIndex1),console.log("open game:"+o.otherGameData[this.randomIndex1].name),this.showMoreOtherGame()}.bind(this)),this.widget.otherGameBtn2.on("click",function(){o.setAudio("btnClick"),window.wx&&this.navigateToMiniProgram(this.randomIndex2),console.log("open game:"+o.otherGameData[this.randomIndex2].name),this.showMoreOtherGame()}.bind(this)),this.widget.gold.bg.on("click",function(){++this.clickGoldBtnNum>=10&&(this.clickGoldBtnNum=0,a.dispatchEvent("showPanel","gmPanel"))}.bind(this)),this.widget.guideMask.on("click",function(){}.bind(this))},registerEvent:function(){this.registerClientEvent("updateUserDataDisplay",function(){var e=o.data.gameData,t=(e.playerLevel,e.wheelTicket);e.gold;if(this.widget.gold.num.getComponent(cc.Label).string=o.data.gameData.gold,this.widget.bestScore.score.getComponent(cc.Label).string=o.data.gameData.bestScore,o.dailyLoginCanGetCount>0?this.widget.dailyLoginBtn.dot.active=!0:this.widget.dailyLoginBtn.dot.active=!1,this.widget.luckyWheelBtn.dot.active=t>0,this.widget.recommendBtn.dot.active=!!o.recommendDot,this.displaySkinRole(),this.widget.player.playerName.getComponent(cc.EditBox).fontColor=cc.color(this.skinArr[o.useSkinIndexOwn].uiColorValue),o.addToMyMiniProgram||!window.wx||window.tt)this.widget.addToMiniProgramBtn.active=!1;else{this.widget.addToMiniProgramBtn.active=!0;var n=wx.getSystemInfoSync().SDKVersion;if(o.compareVersion(n,"2.1.0")>=0&&wx.getMenuButtonBoundingClientRect){var a=wx.getMenuButtonBoundingClientRect(),i=window.wx.getSystemInfoSync(),r=720/i.windowWidth;this.widget.addToMiniProgramBtn.y=(i.windowHeight/2-(a.top+a.height/2))*r}}this.widget.growUpPanel.getComponent("growUpPanelUIEvent").refreshUI()}.bind(this)),this.registerClientEvent("hidePanel",function(e){"moreGamePanel"===e?setTimeout(function(){o.moreGameDot=!0,a.dispatchEvent("updateUserDataDisplay")},6e4):"recommendPanel"===e&&setTimeout(function(){o.recommendDot=!0,a.dispatchEvent("updateUserDataDisplay")},6e4)})},superStartLabelAnimation:function(){this.labelInterval&&(clearInterval(this.labelInterval),this.labelInterval=null),this.labelTimeout&&(clearTimeout(this.labelTimeout),this.labelTimeout=null);var e=["<b><size=50>\u5f00</size>\u5c40\u9635\u5bb9\u5347\u7ea7</b>","<b>\u5f00<size=50>\u5c40</size>\u9635\u5bb9\u5347\u7ea7</b>","<b>\u5f00\u5c40<size=50>\u9635</size>\u5bb9\u5347\u7ea7</b>","<b>\u5f00\u5c40\u9635<size=50>\u5bb9</size>\u5347\u7ea7</b>","<b>\u5f00\u5c40\u9635\u5bb9<size=50>\u5347</size>\u7ea7</b>","<b>\u5f00\u5c40\u9635\u5bb9\u5347<size=50>\u7ea7</size></b>","<b>\u5f00\u5c40\u9635\u5bb9\u5347\u7ea7</b>"],t=0;this.labelInterval=setInterval(function(){if(!this.isValid)return clearInterval(this.labelInterval),this.labelInterval=null,clearTimeout(this.labelTimeout),void(this.labelTimeout=null);this.widget.superStartBtn.Label.getComponent(cc.RichText).string=e[t],++t>=e.length&&(t=0,clearInterval(this.labelInterval),this.labelInterval=null,this.labelTimeout=setTimeout(function(){this.superStartLabelAnimation()}.bind(this),2e3))}.bind(this),200)},displaySkinRole:function(){this.skinArr=r.getTableArr("skin"),this.skinArrOwn=this.skinArr,this.skinData=o.data.gameData.skinData,this.skinArrOwn=this.skinArrOwn.filter(function(e){return!(!this.skinData["s"+e.ID]||this.skinData["s"+e.ID]!=c.getSkinNum)}.bind(this));for(var e=0;e<this.skinArr.length;e++)if(o.skinId==this.skinArr[e].ID){o.useSkinIndexOwn=e;break}this.isRoleUnlock=!1;for(e=0;e<this.skinArrOwn.length;e++)if(o.skinId==this.skinArrOwn[e].ID){this.isRoleUnlock=!0;break}this.skinLockImage.active=!this.isRoleUnlock,this.startVideoImage.active=!this.isRoleUnlock,this.createRoleNode(),this.updateSkinAddition()},createRoleNode:function(){var e=this,t=[cc.v2(-46,0),cc.v2(0,0)],n=[cc.v2(-32,63),cc.v2(17,60),cc.v2(70,76),cc.v2(57,17),cc.v2(117,66),cc.v2(-72,107),cc.v2(-126,63),cc.v2(-110,22),cc.v2(-46,0),cc.v2(0,0)],a=[cc.v2(-11,160),cc.v2(100,180),cc.v2(46,202),cc.v2(-63,178),cc.v2(-9,145),cc.v2(-30,115),cc.v2(30,131),cc.v2(15,39),cc.v2(-15,39),cc.v2(-109,125),cc.v2(106,131),cc.v2(-49,90),cc.v2(49,90),cc.v2(-95,55),cc.v2(79,60),cc.v2(125,49),cc.v2(-130,49),cc.v2(-60,3),cc.v2(60,3),cc.v2(0,0)];cc.loader.loadRes("mainSkins/"+this.skinArr[o.skinId-1].prefabName,cc.Prefab,function(i,r){if(!i&&e.isValid){var s=[];s=10==o.superStart?n:20==o.superStart?a:t,e.widget.playerColor.morePlayer.removeAllChildren();for(var c=0;c<s.length;c++){var l=cc.instantiate(r);l.getChildByName("image").color=cc.color(e.skinArr[o.skinId-1].characterColorValue),e.widget.playerColor.morePlayer.addChild(l),l.setPosition(s[c]),c!==s.length-1?l.setScale(.5):l.setScale(.7),o.skinId<=8?e.isRoleUnlock?l.getChildByName("mask").active=!1:l.getChildByName("mask").active=!0:e.isRoleUnlock?l.getChildByName("image").color=cc.color("#FFFFFF"):l.getChildByName("image").color=cc.color("#898989")}}}),o.setShareState(c.shareId.superStart,this.widget.superStartBtn.content.icon),o.setShareState(c.shareId.superStart,this.widget.superStartBtn.content2.icon)},updateSkinAddition:function(){d.putChildInPool(this.widget.skinAddition.fans.progress),d.putChildInPool(this.widget.skinAddition.speed.progress),d.putChildInPool(this.widget.skinAddition.sprint.progress);for(var e=this.skinArr[o.skinId-1],t=0;t<e.fansAddition;t++){var n=d.getPrefab(this.progressBlockPref.name);this.widget.skinAddition.fans.progress.addChild(n)}for(t=0;t<e.speedAddition;t++){n=d.getPrefab(this.progressBlockPref.name);this.widget.skinAddition.speed.progress.addChild(n)}for(t=0;t<e.sprintAddition;t++){n=d.getPrefab(this.progressBlockPref.name);this.widget.skinAddition.sprint.progress.addChild(n)}},getRolePosition:function(){for(var e="",t=this.widget.playerColor.morePlayer.children,n=0;n<t.length;n++)e+="cc.v2"+t[n].getPosition()+",";console.log(e)},show:function(e){var t=this;if(this._super(),window.wx&&wx.aldSendEvent("\u4e3b\u754c\u9762"),window.tt&&(this.widget.customBtn.active=!1,this.widget.rankBtn.active=!1,this.widget.otherGameBtn1.active=!1,this.widget.otherGameBtn2.active=!1,this.widget.recommendBtn.active=!1),o.playerLevel=o.data.gameData.playerLevel,o.sprintLevel=o.data.gameData.sprintLevel,o.fansCountLevel=o.data.gameData.fansCountLevel,s.showBannerAd(c.adPlaceName.mainPanel),20==o.superStart?this.widget.superStartBtn.active=!1:10==o.superStart?(this.widget.superStartBtn.active=!0,this.widget.superStartBtn.content.Label.getComponent(cc.RichText).string="<b>\u5f00\u5c40<size=50>\u518d</size>+10</b>",this.widget.superStartBtn.content2.Label.getComponent(cc.RichText).string="<b>\u5f00\u5c40<size=50>\u518d</size>+10</b>"):(this.widget.superStartBtn.active=!0,this.widget.superStartBtn.content.Label.getComponent(cc.RichText).string="<b>\u5f00\u5c40+10</b>",this.widget.superStartBtn.content2.Label.getComponent(cc.RichText).string="<b>\u5f00\u5c40+10</b>"),o.underReview){this.widget.player.active=!1,o.playerName="Player",this.widget.playerColor.active=!1,this.widget.propertyBtn.active=!1,this.widget.superStartBtn.active=!1,this.widget.recommendBtn.active=!1,this.widget.light.active=!1,this.widget.light2.active=!1,this.widget.moreGameBtn.active=!1,this.widget.otherGameBtn1.active=!1,this.widget.otherGameBtn2.active=!1,this.widget.luckyWheelBtn.active=!1,this.widget.dailyLoginBtn.active=!1,this.widget.skinBtn.active=!1,this.widget.growUpPanel.active=!1,this.widget.skinAddition.active=!1,this.startVideoImage.active=!1;cc.loader.loadRes("/singleColor",cc.SpriteFrame,function(e,n){t.widget.bg.getComponent(cc.Sprite).spriteFrame=n}),this.widget.bg.color=cc.color("#00D8FF")}else{if(null!=l.getConfigData("playerName")&&""!=l.getConfigData("playerName"))this.widget.player.playerName.getComponent(cc.EditBox).string=l.getConfigData("playerName"),o.playerName=l.getConfigData("playerName");else{this.nickNameArr=r.getTableArr("nickName");var n=Math.floor(Math.random()*this.nickNameArr.length);this.widget.player.playerName.getComponent(cc.EditBox).string=this.nickNameArr[n].nickName}e&&!window.tt&&(this.fromGameOver=e.fromGameOver,this.fromGameOver&&(s.hideGameClubButton(),s.hideBannerAd(c.adPlaceName.mainPanel),a.dispatchEvent("showPanel","maskPanel"),a.dispatchEvent("showPanel","popularPanel",{fromGameOver:!1},function(){a.dispatchEvent("hidePanel","maskPanel")})))}this.widget.moreGameBtn.active=!1,this.widget.luckyWheelBtn.active=!1,this.widget.level.active=!1,this.widget.otherGameBtn2.active=!1,this.displaySkinRole(),this.randomIndex1=0,this.randomIndex2=1,this.showMoreOtherGame(),s.createGameClubButton(this.widget.superStartBtn.getPosition(),this.widget.superStartBtn.getContentSize()),s.showGameClubButton(),a.dispatchEvent("updateUserDataDisplay");var i=o.calculateLevel();console.log("####"+JSON.stringify(i)),this.needScore=i.needScore,i.levelIndex>o.levelData.levelIndex?(a.dispatchEvent("showPanel","tipsPanel","\u5347\u6bb5\u4e86"),o.levelData=i):i.levelStar>o.levelData.levelStar&&(a.dispatchEvent("showPanel","tipsPanel","\u5347\u661f\u4e86"),o.levelData=i),this.widget.level.levelName.getComponent(cc.Label).string=i.levelName,this.widget.level.levelImage.getComponent(cc.Sprite).spriteFrame=this.levelImages[i.levelIndex],this.widget.level.star.getComponent(cc.Sprite).fillRange=i.levelStar/5,this.widget.level.starProgress.getComponent(cc.ProgressBar).progress=i.starProgress,o.inviter&&o.inviter!==o.data.user.openId&&!o.data.user.avatarUrl&&o.btnLogin(function(){o.setInvitationInfo()}),o.addToMyMiniProgram||!window.wx||window.tt?this.widget.addToMiniProgramBtn.active=!1:this.widget.addToMiniProgramBtn.active=!0,o.bannerError&&this.showGuessYouLike()},showGuessYouLike:function(){var e=this;o.underReview||window.tt||this.guessNode||cc.loader.loadRes("panel/mainPanel/guessYouLike",cc.Prefab,function(t,n){t||e.isValid&&(e.guessNode=cc.instantiate(n),e.guessNode.setPosition(cc.v2(0,-520)),e.node.addChild(e.guessNode),e.guessNode.getComponent("guessYouLike").show())})},lateUpdate:function(e){this.guessNode&&this.guessNode.getComponent("guessYouLike").lateUpdate(e)}});kf.addModule("mainPanel.mainPanelUIEvent",function(){return h}),cc._RF.pop()},{}],mainSkinInfo:[function(e,t,n){"use strict";cc._RF.push(t,"914ffcbIqRDjKsd1WTgKWhK","mainSkinInfo"),cc.Class({extends:cc.Component,properties:{image:cc.Sprite,idle:[cc.SpriteFrame]},onLoad:function(){kf.require("logic.user");this.idle.spriteFrameIndex=0,this.dangerDetectDistance=1e3,this.deltaAnimFrame=.33,this.anim=this.idle},update:function(e){this.playAnimation(e)},playAnimation:function(e){this.curAnimFrame?this.curAnimFrame+=e:this.curAnimFrame=e,this.curAnimFrame<this.deltaAnimFrame||(this.curAnimFrame=0,this.anim.spriteFrameIndex++,this.anim.spriteFrameIndex>=this.idle.length&&(this.anim.spriteFrameIndex=0),this.image.spriteFrame=this.idle[this.anim.spriteFrameIndex])}}),cc._RF.pop()},{}],maskPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"fb491u8o+5PCIMENZYvhpX6","maskPanelLogic"),kf.addModule("maskPanel.maskPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],maskPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"aaa572EOxZEHpaP8S85+L1Z","maskPanelUIEvent");kf.require("maskPanel.maskPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=kf.require("basic.panelCenter"),o=cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.widget.loadNode.active=!1},registerWidgetEvent:function(){},registerEvent:function(){},show:function(e){var t=this;this._super(),this.loadTimeOut&&(clearTimeout(this.loadTimeOut),this.loadTimeOut=null),this.widget.loadNode.active=!1,this.loadTimeOut=setTimeout(function(){r.getSubPanelStack().length>0?a.dispatchEvent("hidePanel","maskPanel"):(t.widget.loadNode.active=!0,t.loadTimeOut=null)},1e3)},hide:function(){this.loadTimeOut&&(clearTimeout(this.loadTimeOut),this.loadTimeOut=null)}});kf.addModule("maskPanel.maskPanelUIEvent",function(){return o}),cc._RF.pop()},{}],moreGameItem:[function(e,t,n){"use strict";cc._RF.push(t,"d7b5622w6NBmIMLnwAE/aTy","moreGameItem");var a=kf.require("component.subPanel"),i=kf.require("logic.user"),r=(kf.require("moreGamePanel.moreGamePanelLogic"),cc.Class({extends:a,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent()},registerWidgetEvent:function(){this.widget.tryBtn.on("click",function(){i.setAudio("btnClick"),console.log(this.itemIndex),window.wx&&(i.navigateID=this.itemIndex,this.appId=this.gameData.appid,this.gameId=this.gameData.id,wx.aldSendEvent("\u5356\u91cf-\u4e3b\u754c\u9762-\u9886\u91d1\u5e01"),wx.aldSendEvent("\u5356\u91cf-"+this.gameData.name),wx.navigateToMiniProgram({appId:this.gameData.appid,path:this.gameData.path||"",success:function(e){(console.log("###moreGameData:"+i.data.gameData.moreGameData["g"+this.gameId]+"###"+this.appId),console.log("###"+(i.data.gameData.moreGameData["g"+this.gameId]!=this.appId)),i.data.gameData.moreGameData["g"+this.gameId]!=this.appId)&&kf.require("logic.platform").setNavigateToMiniProgram(!0);i.reportChannelData(this.gameId)}.bind(this)}))}.bind(this))},show:function(){if(this._super(),this.gameData=this.getData(),this.widget.gameName.getComponent(cc.Label).string=this.gameData.name,this.widget.award.num.getComponent(cc.Label).string=this.gameData.reward_value,i.data.gameData.moreGameData["g"+this.gameData.id]===this.gameData.appid&&(this.widget.award.label.getComponent(cc.Label).string="\u5df2\u9886\u53d6"),1===this.gameData.logo_status){var e=this.gameData.logo;i.headImage(e,this.widget.image)}else for(var t=0;t<GameManager.appIcons.length;t++)if(GameManager.appIcons[t].name===this.gameData.client_logo){this.widget.image.getComponent(cc.Sprite).spriteFrame=GameManager.appIcons[t];break}},getString:function(e){for(var t=e,n=0,a="",i=0,r=t.length;i<r;i++){if(n+=t.charCodeAt(i)<=255?1:2,a+=t.charAt(i),n>=10)return a+"..."}return a}}));kf.addModule("moreGamePanel.moreGameItem",function(){return r}),cc._RF.pop()},{}],moreGamePanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"47c28AZaM9BPa7Eso5A09t4","moreGamePanelLogic"),kf.addModule("moreGamePanel.moreGamePanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],moreGamePanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"58f13yuwVRHto1iVmq7Fw1N","moreGamePanelUIEvent");kf.require("moreGamePanel.moreGamePanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=kf.require("logic.platform"),o=(kf.require("shared.configManager"),kf.require("basic.pool")),s=kf.require("shared.constants"),c=kf.require("logic.user"),l=cc.Class({extends:i,properties:{itemPrefab:cc.Prefab},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),c.navigateID=0,this.itemArr=[]},initItems:function(){if(this.isValid)for(var e=0;e<this.gameData.length;e++){var t=o.getPrefab(this.itemPrefab.name);if(t.getChildByName("gameName").getComponent(cc.Label).string=this.gameData[e].name,t.getChildByName("award").getChildByName("num").getComponent(cc.Label).string=this.gameData[e].reward_value,c.data.gameData.moreGameData["g"+this.gameData[e].id]===this.gameData[e].appid&&(t.getChildByName("award").getChildByName("label").getComponent(cc.Label).string="\u5df2\u9886\u53d6\u5956\u52b1"),1===this.gameData[e].logo_status){var n=this.gameData[e].logo;(function(e){c.headImage(n,e.getChildByName("image"))})(t)}else{var a=this.gameData[e].client_logo;(function(e){cc.loader.loadRes(a,cc.SpriteFrame,function(t,n){e.getChildByName("image").getComponent(cc.Sprite).spriteFrame=n})})(t)}this.widget.contentView.layout.addChild(t),this.itemArr.push(t),function(e){t.getChildByName("tryBtn").on("click",function(){console.log("\u70b9\u51fb\u4e86"+e),window.wx&&(this.navigateID=e,this.appId=this.gameData[e].appid,this.gameId=this.gameData[e].id,wx.navigateToMiniProgram({appId:this.gameData[e].appid,path:this.gameData[e].path||"",success:function(e){console.log("###moreGameData:"+c.data.gameData.moreGameData["g"+this.gameId]+"###"+this.appId),console.log("###"+(c.data.gameData.moreGameData["g"+this.gameId]!=this.appId)),c.data.gameData.moreGameData["g"+this.gameId]!=this.appId&&r.setNavigateToMiniProgram(!0),c.reportChannelData(this.gameId)}.bind(this)}))}.bind(this))}.bind(this)(e)}},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.contentView.closeBtn.on("click",function(){c.setAudio("btnClick"),this.fromSkinPanel||(r.showGameClubButton(),r.showBannerAd(s.adPlaceName.mainPanel)),a.dispatchEvent("hidePanel","moreGamePanel")}.bind(this))},registerEvent:function(){this.registerClientEvent("updateNavigateData",function(){console.log("updateNavigateData:"+c.navigateID),console.log("updateNavigateData_ID:"+this.gameData[c.navigateID].id),a.dispatchEvent("showPanel","tipsPanel","\u83b7\u5f97"+this.gameData[c.navigateID].reward_value+"\u91d1\u5e01"),c.data.gameData.moreGameData["g"+this.gameData[c.navigateID].id]=this.gameData[c.navigateID].appid,c.data.gameData.gold+=parseInt(this.gameData[c.navigateID].reward_value),this.widget.contentView.scrollView.getComponent("reuseScrollView").setData(this.gameData),a.dispatchEvent("updateUserDataDisplay"),c.writeToCloud()}.bind(this))},show:function(e,t){this._super(),window.wx&&wx.aldSendEvent("\u9886\u91d1\u5e01\u754c\u9762"),e&&e(),this.gameData?this.widget.contentView.scrollView.getComponent("reuseScrollView").setData(this.gameData):c.getChannelData(s.channelLocation.jifenqiang,function(e){this.isValid&&(this.gameData=e,this.widget.contentView.scrollView.getComponent("reuseScrollView").setData(this.gameData))}.bind(this)),this.fromSkinPanel=t?t.fromSkinPanel:null}});kf.addModule("moreGamePanel.moreGamePanelUIEvent",function(){return l}),cc._RF.pop()},{}],netLoadingPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"a3c4fpBU79Iy7tY5QgNqRuB","netLoadingPanelLogic"),kf.addModule("netLoading.netLoadingPanelLogic",function(){var e={init:function(){},userLogin:function(){}};return e}),cc._RF.pop()},{}],netLoadingPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"cb17e/VL8VIsZu5LSJVRWr7","netLoadingPanelUIEvent");var a=kf.require("component.panel"),i=kf.require("basic.panelCenter");cc.Class({extends:a,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){i.addClickMaskEvent(this.widget.layout)},registerEvent:function(){},show:function(){this._super()}}),cc._RF.pop()},{}],network:[function(e,t,n){"use strict";cc._RF.push(t,"47321heZzRNrYNaEhxqjO8/","network"),kf.addModule("basic.network",function(){var e={init:function(){this.netListener=kf.require("basic.eventListener").create()},chooseNetworkMode:function(e){},on:function(e,t){this.netListener.on(e,t)},dispatch:function(e,t){this.netListener.dispatch(e,t)}};return e}),cc._RF.pop()},{}],panelCenter:[function(e,t,n){"use strict";cc._RF.push(t,"ed75f15+N5H2YDzjhncL7/j","panelCenter"),kf.addModule("basic.panelCenter",function(){var e=kf.require("basic.clientEvent"),t={},n=cc.Enum({SUB_SCENE_ZORDER:0,BATTLE_ROOM_ZORDER:3,SUB_PANEL_ZORDER:4,COMMON_MASK_ZORDER:1e3,WORLD_PANEL_ZORDER:2e3,WORLD_ANIMATION_ZORDER:3e3,MODAL_PANEL_ZORDER:4e3,GLOBAL_FLOATING_PANEL_ZORDER:5e3,LOADING_PANEL_ZORDER:6e3,ALERT_PANEL_ZORDER:7e3});return t.init=function(){},t.setMaskNodeHide=function(){this.maskNode.opacity=0},t.setMaskNodeShow=function(){this.maskNode.opacity=150},t.addClickMaskEvent=function(e){e.on("touchstart",function(e){e.stopPropagation()}),e.on("touchend",function(e){e.stopPropagation()}),e.on("touchmove",function(e){e.stopPropagation()}),e.on("touchcancel",function(e){e.stopPropagation()}),e.on("mousedown",function(e){e.stopPropagation()}),e.on("mouseenter",function(e){e.stopPropagation()}),e.on("mousemove",function(e){e.stopPropagation()}),e.on("mouseleave",function(e){e.stopPropagation()}),e.on("touchend",function(e){e.stopPropagation()}),e.on("mousewheel",function(e){e.stopPropagation()})},t.initGraphic=function(t,a,i){this.clearEvent(),this.subScenes={},this.subPanels={},this.subPanelActives={},this.newestSubPanelName="",this.runningScene=t,this.initEventDispatcherStack(),e.bindEventListener(),this.curActiveSubScene=i,this.maskNode=a,this.maskNode.active=!1,this.maskNode.width=cc.winSize.width,this.maskNode.height=cc.winSize.height,this.addClickMaskEvent(this.maskNode),this.curCommonSubPanelZorder=n.WORLD_PANEL_ZORDER,this.curModalSubPanelZorder=n.MODAL_PANEL_ZORDER,this.registerEvent()},t.clearEvent=function(){this.subScenes={},this.subPanels={},this.newestSubPanelName="",this.initEventDispatcherStack()},t.getWinSize=function(){return this.curActiveSubScene?this.curActiveSubScene.getContentSize():this.runningScene.getContentSize()},t.initEventDispatcherStack=function(){this.subPanelStack=[],this.curActiveSubScene=null,this.nextSubScene=null,this.subPanelStackIndex=-1,this.subSceneStack=[],this.subSceneStackIndex=0,this.eventDispatcherStack=[],this.eventDispatcherStackIndex=0},t.pushEventDispatcher=function(e){this.eventDispatcherStackIndex=this.eventDispatcherStackIndex+1,this.eventDispatcherStack[this.eventDispatcherStackIndex]=e,cc.director.setEventDispatcher(e)},t.popEventDispatcher=function(){this.eventDispatcherStackIndex=this.eventDispatcherStackIndex-1;var e=this.eventDispatcherStack[this.eventDispatcherStackIndex];cc.director.setEventDispatcher(e)},t.getSubPanel=function(e){return this.subPanels[e]},t.getPanelIsVisible=function(e){return!!this.subPanelActives[e]||!!(this.getSubPanel(e)&&this.getSubPanel(e)&&this.getSubPanel(e).active)},t.getAndCreateSubPanel=function(e,t){var a=this,i=void 0;i=this.curActiveSubScene?this.curActiveSubScene:this.runningScene;var r=function(r){var o=r;if(o)if(o.getComponent("panel")){var s=o.getComponent("panel");o.setName(e.replace(/\//g,".")),a.subPanels[e]=o,o.getParent()!==i&&(o.parent=i,s.isModal?o.zIndex=n.MODAL_PANEL_ZORDER:s.customFlag&&s.customOrder?o.zIndex=s.customOrder:o.zIndex=n.WORLD_PANEL_ZORDER),t(o)}else cc.error(e,"\u6ca1\u6709\u52a0\u8f7dpanel\u811a\u672c");else cc.error("can not find sub panel class ",e)},o=this.subPanels[e];if(o)r(o);else{var s=e,c=[];c=cc.loader._resources.getAllPaths?cc.loader._resources.getAllPaths():Object.keys(cc.loader._resources._pathToUuid);for(var l=0;l<c.length;l++){var d=c[l],h=d.split("/");if(h[h.length-1]===e){s=d;break}}cc.loader.loadRes(s,cc.Prefab,function(t,n){o=null,a.subPanels[e]?o=a.subPanels[e]:t||(cc.supportJit?(cc.supportJit=!1,o=cc.instantiate(n),cc.supportJit=!0):o=cc.instantiate(n),o.active=!1),r(o)})}},t.getAndCreateSubPanelNotHide=function(e,t){this.curActiveSubScene?this.curActiveSubScene:this.runningScene;var n=function(n){if(n)if(n.getComponent("panel")){n.getComponent("panel");n.setName(e.replace(/\//g,".")),this.subPanels[e]=n,t(n)}else cc.error(e,"\u6ca1\u6709\u52a0\u8f7dpanel\u811a\u672c");else cc.error("can not find sub panel class ",e)}.bind(this),a=this.subPanels[e];if(a)n(a);else{var i=e,r=[];r=cc.loader._resources.getAllPaths?cc.loader._resources.getAllPaths():Object.keys(cc.loader._resources._pathToUuid);for(var o=0;o<r.length;o++){var s=r[o],c=s.split("/");if(c[c.length-1]===e){i=s;break}}cc.loader.loadRes(i,cc.Prefab,function(t,i){a=null,this.subPanels[e]?a=this.subPanels[e]:t||(cc.supportJit?(cc.supportJit=!1,a=cc.instantiate(i),cc.supportJit=!0):a=cc.instantiate(i)),n(a)}.bind(this))}},t.finishChangeSubScene=function(){this.curActiveSubScene&&(this.curActiveSubScene.hide(this.nextSubScene.getName()),this.curActiveSubScene.setPosition(0,0)),this.curActiveSubScene=this.nextSubScene,this.nextSubScene=null,this.subPanelStack=[],this.subPanelStackIndex=-1,cc.eventManager.setEnabled(!0)},t.registerEvent=function(){for(var t=this,n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];e.on("showSubScene",function(e){t.hideAllSubPanel(),cc.log("show_world_subScene:"+e);var n=t.getSubScene(e);if(!n.active){t.nextSubScene=n,t.curActiveSubScene&&(n.isRememberFromScene()?t.pushSubScene(t.curActiveSubScene):t.subSceneStackIndex=0),t.finishChangeSubScene();for(var i=[],r=1;r<a.length;r++)i.push(a[r]);n.show(a)}}),e.on("showPanel",function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var r=a[0],o=[],s=void 0;for(s=1;s<a.length;++s)o[o.length]=a[s];t.subPanelActives[r]=!0,t.getAndCreateSubPanel(r,function(n){var i=n;if(i){if(console.log("showPanel:"+r),t.subPanelActives[r]){t.newestSubPanelName=r,i.active&&e.dispatchEvent("hidePanel",r),s=0;var c=i.getComponent("panel");if(c.isModal){var l=-1;for(s=0;s<=t.subPanelStackIndex;s++)if(t.subPanelStack[s].getName()===i.getName()){l=s;break}-1!==l&&(t.subPanelStack.splice(l,1),t.subPanelStackIndex=t.subPanelStackIndex-1,t.curModalSubPanelZorder=t.curModalSubPanelZorder-1),t.curModalSubPanelZorder=t.curModalSubPanelZorder+2,t.pushSubPanel(i),i.zIndex=t.curModalSubPanelZorder}else c.customFlag&&c.customOrder?i.zIndex=c.customOrder:(t.curCommonSubPanelZorder=t.curCommonSubPanelZorder+2,i.zIndex=t.curCommonSubPanelZorder);c.show&&c.show.apply(c,o),e.dispatchEvent.apply(e,["showPanelOver"].concat(a))}}else cc.error("can't find "+r)})}),e.on("hidePanel",function(n){t.subPanelActives[n]=!1,t.getAndCreateSubPanel(n,function(a){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var s=r,c=a,l=c.getComponent("panel");if(c&&(c.active||l.isModal)){c.active=!1;var d=void 0,h=void 0;do{if(l.isModal){if(!(h=t.subPanelStack[t.subPanelStackIndex])&&t.subPanelStack.length>0&&(t.subPanelStackIndex=t.subPanelStack.length-1,h=t.subPanelStack[t.subPanelStackIndex]),!h)break;if(h.getName()!==n){var u=-1;for(d=0;d<=t.subPanelStackIndex;d++)if((h=t.subPanelStack[d]).getName()===c.getName()){u=d;break}if(u>=0){for(d=u+1;d<=t.subPanelStackIndex;d++){var g=(h=t.subPanelStack[d]).zIndex;h.zIndex=g-2}t.subPanelStack.splice(u,1),t.subPanelStackIndex=t.subPanelStackIndex-1,t.curModalSubPanelZorder=t.curModalSubPanelZorder-2,t.maskNode.zIndex=t.curModalSubPanelZorder-1}break}t.popSubPanel(),h=t.subPanelStack[t.subPanelStackIndex],t.curModalSubPanelZorder=t.curModalSubPanelZorder-2,h?t.showMaskNode(h):t.maskNode.active=!1}}while(0);l.hide&&l.hide.apply(l,s),e.dispatchEvent("hidePanelOver",n)}else c&&l.hide&&l.hide.apply(l,s)})})},t.pushSubPanel=function(e){this.subPanelStackIndex=this.subPanelStackIndex+1,this.subPanelStack[this.subPanelStackIndex]=e,this.showMaskNode(e)},t.showMaskNode=function(e){this.maskNode.parent=e.getParent(),this.maskNode.zIndex=this.curModalSubPanelZorder-1,this.maskNode.active=!0},t.popSubPanel=function(){var e=this.subPanelStack.splice(this.subPanelStackIndex,1)[0];return this.subPanelStackIndex=this.subPanelStackIndex-1,e},t.getSubPanelStack=function(){return this.subPanelStack},t.hideAllSubPanel=function(){for(var t=this.subPanelStack,n=this.subPanelStackIndex;n>=0;n--)e.dispatchEvent("hidePanel",t[n].__name);this.subPanelStackIndex=-1},t.getNewestPanel=function(){return this.newestSubPanelName},t.getCurSubScene=function(){return this.curActiveSubScene},t.shakePanel=function(e,t){var n=t/4;e.runAction(cc.sequence(cc.delayTime(.07),cc.scaleTo(n,1.01,1.01),cc.jumpBy(n,cc.p(0,0),5,12),cc.scaleTo(n,.99,.99),cc.scaleTo(n,1,1)))},t}),cc._RF.pop()},{}],panel:[function(e,t,n){"use strict";cc._RF.push(t,"e9e6ex5oE9L9o2JyyJzCllS","panel");var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=cc.Enum({SUB_SCENE_ZORDER:0,BATTLE_ROOM_ZORDER:3,SUB_PANEL_ZORDER:4,COMMON_MASK_ZORDER:1e3,WORLD_PANEL_ZORDER:2e3,WORLD_ANIMATION_ZORDER:3e3,MODAL_PANEL_ZORDER:4e3,GLOBAL_FLOATING_PANEL_ZORDER:5e3,LOADING_PANEL_ZORDER:6e3,ALERT_PANEL_ZORDER:7e3}),r=cc.Enum({"\u7a7a":i.SUB_SCENE_ZORDER,"\u7f6e\u9876\u663e\u793a":i.ALERT_PANEL_ZORDER,"\u4e3b\u573a\u666f\u52a8\u753b":i.WORLD_ANIMATION_ZORDER,"\u6d6e\u52a8\u63d0\u793a\u6846":i.GLOBAL_FLOATING_PANEL_ZORDER,"\u8bfb\u6761\u754c\u9762":i.LOADING_PANEL_ZORDER}),o=cc.Class({extends:cc.Component,_customFlag:!1,properties:{isModal:{default:!0,displayName:"\u6a21\u6001\u5bf9\u8bdd\u6846",tooltip:"\u70b9\u5f00\u4ee5\u540e\u4e0d\u80fd\u64cd\u4f5c\u5bf9\u8bdd\u6846\u540e\u9762"},customFlag:{default:!1,displayName:"\u81ea\u5b9a\u4e49\u5c42\u7ea7",tooltip:"\u5f39\u51fa\u6846\u5e38\u7528",visible:function(){return!this.isModal}},_customOrder:i.SUB_SCENE_ZORDER,customOrder:{get:function(){return this._customOrder},set:function(e){this._customOrder=e},type:r,tooltip:"\u9009\u62e9\u9002\u5408\u7684\u5c42\u7ea7\u5173\u7cfb",displayName:"\u7c7b\u578b",visible:function(){return this.customFlag}}},onLoad:function(){this.widget={};(function e(t,n,a){for(var i=n,r=t.getChildren(),o=0,s=r.length;o<s;o++){var c=r[o].getName();c&&(a&&i[c],i[c]=r[o],r[o].getChildren()&&r[o].getChildren().length>0&&e(r[o],i[c],a))}})(this.node,this.widget,!0)},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},onDestroy:function(){this.clearAllEvent()},getRootNode:function(){return this.node},setPosition:function(){var e;(e=this.node).setPosition.apply(e,arguments)},getPosition:function(){return this.node.getPosition()},registerClientEvent:function(e,t,n){var a=this;"string"==typeof e&&(this.eventObj||(this.eventObj={}),this.eventObj[e]?console.error("already have the same event in this panel"):(this.eventObj[e]=function(){(a.getRootNode().activeInHierarchy||n)&&t.apply(void 0,arguments)},kf.require("basic.clientEvent").on(e,this.eventObj[e])))},unregisterClientEvent:function(e){"string"==typeof e&&(this.eventObj[e]?(kf.require("basic.clientEvent").off(e,this.eventObj[e]),delete this.eventObj[e]):console.error("not found event in this panel"))},clearAllEvent:function(){var e=kf.require("basic.clientEvent");for(var t in this.eventObj)this.eventObj.hasOwnProperty(t)&&e.off(t,this.eventObj[t]);this.eventObj={}},aaddShowPanelClick:function(e,t){var n=kf.require("basic.clientEvent");!t||t.length<=0||n.dispatchEvent("showPanel",t)},ahidePanelClick:function(e,t){var n=t,a=kf.require("basic.clientEvent");(!n||n.length<=0)&&(n=this.node.getName()),a.dispatchEvent("hidePanel",n)},setSpriteFrame:function(e,t,n){var i=e;cc.textureCache.addImage(t,function(e){if(e instanceof cc.Texture2D)i.spriteFrame=new cc.SpriteFrame(e),n&&n(e);else{var r=t;if(-1!==r.indexOf("resources/")){var o=r.split("resources/");r=a(o,2)[1]}var s=cc.path.extname(r);s&&(r=r.slice(0,-s.length)),cc.loader.loadRes(r,cc.SpriteFrame,function(e,t){i.spriteFrame=t,n&&n(t)})}})}});kf.addModule("component.panel",function(){return o}),cc._RF.pop()},{}],platform:[function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"4b891vqV0RH/qBf5+8Zpu4J","platform"),kf.addModule("logic.platform",function(){var e=kf.require("basic.clientEvent"),t=kf.require("shared.constants"),n=(kf.require("basic.lang"),kf.require("basic.network")),i=null,r={logined:!1,sdkInited:!1,userInfoBtn:null,platforms:{tt:"tt",sdw:"sdw",wx:"wx",browser:"browser"},getCurrentPlatform:function(){var e=this.platforms.browser;return window.tt?e=this.platforms.tt:!window.tt&&window.wx&&window.SDWMiniSDK?e=this.platforms.sdw:window.wx&&(e=this.platforms.wx),e}},o=r.getCurrentPlatform();return o===r.platforms.browser?r.aPlatform=kf.require("logic.browserPlatform"):o===r.platforms.wx?r.aPlatform=kf.require("logic.wxPlatform"):o===r.platforms.tt&&(r.aPlatform=kf.require("logic.ttPlatform")),r.handleLogin=function(e,t){window.gameconfig.gameServer.split(":");var o,s=(a(o={channel:"1",name:e.userInfo.nickName,gender:e.userInfo.gender,isTest:i.isTest,avatarUrl:e.userInfo.avatarUrl||"",country:e.userInfo.country||"",province:e.userInfo.province||"",city:e.userInfo.city||""},"channel",e.userInfo.channel),a(o,"regtime",e.userInfo.regtime),o);t===r.platforms.browser?(s.openId=e.openId,s.account="",s.code=""):t===r.platforms.wx?(s.openId=e.openId,s.token=e.token,s.userTag=e.userTag,s.account=e.code):t===r.platforms.tt&&(console.log("loginRes:"),console.log(e),s.openId=e.code,s.token=e.token,s.userTag=e.userTag,s.account=e.code),n.dispatch("loginSuccess",s)},r.shareAppMessage=function(e,t,n,a,i){var o=e.title,s=void 0===o?"\u9ed8\u8ba4\u6807\u9898":o,c=e.imageUrl,l=void 0===c?"":c,d=e.query,h=void 0===d?"":d;r.aPlatform.shareAppMessage(s,l,h,t,n,a,i)},r.login=function(){t||(t=kf.require("shared.constants")),i||(i=kf.require("logic.user")),r.logined?cc.warn("user is already logined"):(r.initSdk(),r.aPlatform.login(function(e){r.handleLogin(e,o)}))},r.initSdk=function(){r.sdkInited?console.warn("sdk is already init"):(t||(t=kf.require("shared.constants")),e||(e=kf.require("basic.clientEvent")),r.aPlatform.initSdk(),r.sdkInited=!0)},r.init=function(){console.log("############init platform"),r.initSdk()},r.showLoginBtn=function(){console.log("############showLoginBtn"),r.aPlatform.showLoginBtn()},r.createGameClubButton=function(e,t){r.aPlatform.createGameClubButton(e,t)},r.showGameClubButton=function(){r.aPlatform.showGameClubButton()},r.hideGameClubButton=function(){r.aPlatform.hideGameClubButton()},r.setNavigateToMiniProgram=function(e){r.aPlatform.setNavigateToMiniProgram(e)},r.showBannerAd=function(e){r.aPlatform.showBannerAd(e)},r.hideBannerAd=function(e){r.aPlatform.hideBannerAd(e)},r.loadAds=function(){r.aPlatform.loadAds()},r.refreshBanner=function(e){r.aPlatform.refreshBanner(e)},r.getEtag=function(){return r.aPlatform.getEtag()},r.getFromShareId=function(){return r.aPlatform.getFromShareId()},r.getGameRecorder=function(e){return r.aPlatform.getGameRecorder(e)},r}),cc._RF.pop()},{}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"==(void 0===n?"undefined":a(n))?t.exports=i(e):e.Polyglot=i(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||r}function n(e,t,n){var a,r;return null!=n&&e?a=function(e){return e.replace(/^\s+|\s+$/g,"")}((r=e.split(o))[i(t,n)]||r[0]):a=e,a}function i(e,t){return s[function(e){var t=function(e){var t,n,a,i={};for(t in e)if(e.hasOwnProperty(t))for(a in n=e[t])i[n[a]]=t;return i}(c);return t[e]||t.en}(e)](t)}function r(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],t&&(i=t+"."+i),"object"==(void 0===n?"undefined":a(n))?this.extend(n,i):this.phrases[i]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var a,i;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?a=this.phrases[e]:"string"==typeof t._?a=t._:this.allowMissing?a=e:(this.warn('Missing translation for key: "'+e+'"'),i=e),"string"==typeof a&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),i=function(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}(i=n(a,this.currentLocale,t.smart_count),t)),i},t.prototype.has=function(e){return e in this.phrases};var o="||||",s={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},c={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],pool:[function(e,t,n){"use strict";cc._RF.push(t,"e8c08nMMjFGBoTNItwnEzBp","pool"),kf.addModule("basic.pool",function(){return{_name1:"Pool",_name2:"Prefab",init:function(){},getPool:function(e){return this[e+this._name1]},isPool:function(e){return this[e+this._name1]&&this[e+this._name2]},createPrefabPool:function(e,t){var n=t;this.isPool(e.name)||(this[e.name+this._name1]=new cc.NodePool,this[e.name+this._name2]=e);var a=this[e.name+this._name1];n=n||1,n-=a.size();for(var i=0;i<n;i++)this[e.name+this._name1].put(cc.instantiate(e))},getPrefab:function(e){var t=null;if(this.isPool(e)){var n=this[e+this._name1];t=n.size()>0?n.get():cc.instantiate(this[e+this._name2])}return t},getPrefabEx:function(e,t){var n=this.getPrefab(e);return n&&n.getComponent(e).setData(t),n},putInPool:function(e,t){this.isPool(e)&&this[e+this._name1].put(t)},putChildInPool:function(e){if(cc.isValid(e)&&0!==e.children.length)for(var t=e.children.length,n=0;n<t;n++){var a=e.children[0];this.isPool(a.name)&&(this.putChildInPool(a),this.putInPool(a.name,a))}}}}),cc._RF.pop()},{}],popularPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"fbbb0gqdOpBOpgBjZvHKEwO","popularPanelLogic"),kf.addModule("popularPanel.popularPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],popularPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"763faYExxVDYbFC0RPyNTZJ","popularPanelUIEvent");kf.require("popularPanel.popularPanelLogic");var a=kf.require("basic.clientEvent"),i=(kf.require("basic.network"),kf.require("basic.lang"),kf.require("component.panel")),r=(kf.require("shared.configManager"),kf.require("basic.pool")),o=kf.require("shared.constants"),s=kf.require("logic.user"),c=kf.require("logic.platform"),l=cc.Class({extends:i,properties:{popularItemPrefab:cc.Prefab},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),r.createPrefabPool(this.popularItemPrefab),s.getChannelData(o.channelLocation.hutuiqiang,function(e){this.gameData=e,this.itemArr=[],this.initItems()}.bind(this))},initItems:function(){if(this.isValid){this.widget.recommendView.layout.removeAllChildren(!0),this.itemArr=[];for(var e=0;e<this.gameData.length;e++){if(e>8)return;var t=r.getPrefab(this.popularItemPrefab.name);if(t.getChildByName("label").getComponent(cc.Label).string=this.gameData[e].name,1===this.gameData[e].logo_status){var n=this.gameData[e].logo;(function(e){s.headImage(n,e.getChildByName("image"))})(t)}else for(var a=0;a<GameManager.appIcons.length;a++)if(GameManager.appIcons[a].name===this.gameData[e].client_logo){t.getChildByName("image").getComponent(cc.Sprite).spriteFrame=GameManager.appIcons[a];break}t.getChildByName("redDot").active=this.gameData[e].redPoint,this.widget.recommendView.layout.addChild(t),this.itemArr.push(t),function(e){t.on("click",function(){var t=this;if(console.log("\u70b9\u51fb\u4e86"+e),this.gameId=this.gameData[e].id,this.gameId){s.popularGameDotState["g"+this.gameId]=!1;var n=this.itemArr[e];n.getChildByName("redDot").active=this.gameData[e].redPoint&&!!s.popularGameDotState["g"+this.gameId],setTimeout(function(){t.isValid&&(s.popularGameDotState["g"+t.gameId]=!0,t.node&&t.node.active&&(n.getChildByName("redDot").active=t.gameData[e].redPoint&&!!s.popularGameDotState["g"+t.gameId]))},45e3)}window.wx&&(this.gameId=this.gameData[e].id,this.fromGameOver?wx.aldSendEvent("\u5356\u91cf-\u7ed3\u7b97\u754c\u9762-\u62bd\u5c49"):wx.aldSendEvent("\u5356\u91cf-\u4e3b\u754c\u9762-\u62bd\u5c49"),wx.aldSendEvent("\u5356\u91cf-"+this.gameData[e].name),wx.navigateToMiniProgram({appId:this.gameData[e].appid,path:this.gameData[e].path||"",success:function(e){c.setNavigateToMiniProgram(!0),s.reportChannelData(this.gameId)}.bind(this)}))}.bind(this))}.bind(this)(e)}}},registerWidgetEvent:function(){this.widget.bg.on("click",function(){}.bind(this)),this.widget.recommendView.closeBtn.on("click",function(){s.setAudio("btnClick"),c.showGameClubButton(),this.fromGameOver?c.showBannerAd(o.adPlaceName.gameOverPanel):c.showBannerAd(o.adPlaceName.mainPanel),a.dispatchEvent("hidePanel","popularPanel")}.bind(this))},registerEvent:function(){},show:function(e,t){this._super(),t&&t(),this.fromGameOver=e.fromGameOver,this.gameData&&(this.gameData=this.rand(this.gameData),this.initItems())},rand:function(e){e.length;for(var t=e.length-1;t>=0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[n];e[n]=e[t],e[t]=a}return e}});kf.addModule("popularPanel.popularPanelUIEvent",function(){return l}),cc._RF.pop()},{}],reuseScrollView:[function(e,t,n){"use strict";cc._RF.push(t,"66857Eb5o1DG6vfaLZ1mgQw","reuseScrollView");var a=kf.require("basic.pool"),i=cc.Enum({TOP_BOTTOM:0,LEFT_RIGHT:1}),r=cc.Enum({"\u4e0a\u4e0b\u6ed1\u52a8":i.TOP_BOTTOM,"\u5de6\u53f3\u6ed1\u52a8":i.LEFT_RIGHT});cc.Class({extends:cc.Component,properties:{_scrollType:i.TOP_BOTTOM,modelType:{get:function(){return this._scrollType},set:function(e){this._scrollType=e},type:r,tooltip:"\u9009\u62e9\u6eda\u52a8\u6a21\u5f0f",displayName:"\u6eda\u52a8\u6a21\u5f0f"},itemTemplate:{default:null,type:cc.Prefab,tooltip:"\u88ab\u590d\u7528\u7684subPanel"},spawnCount:{default:0,type:cc.Integer,tooltip:"\u5b9e\u9645\u514b\u9686\u7684\u4e2a\u6570"},spacing:{default:0,type:cc.Float,tooltip:"\u6bcf\u4e2a\u4e4b\u95f4\u7684\u95f4\u9694"},topOrLeft:{default:0,type:cc.Float,tooltip:"\u9876\u90e8\u6216\u5de6\u8fb9\u7684\u504f\u79fb\u91cf"},bottomOrRight:{default:0,type:cc.Float,tooltip:"\u5e95\u90e8\u6216\u53f3\u8fb9\u7684\u504f\u79fb\u91cf"}},onLoad:function(){this.scrollView=this.node.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.scrollView.vertical=!0,this.scrollView.horizontal=!1,this.content.setAnchorPoint(.5,1);var e=this.content.getComponent(cc.Widget);e?(e.left=2.5,e.right=2.5,e.isAlignTop=!1,e.isAlignBottom=!1,this.content.y=this.node.getChildByName("view").height/2,this._scrollType===i.LEFT_RIGHT&&(this.scrollView.vertical=!1,this.scrollView.horizontal=!0,this.content.setAnchorPoint(0,.5),e.top=2.5,e.bottom=2.5,e.isAlignLeft=!1,e.isAlignRight=!1,e.isAlignTop=!0,e.isAlignBottom=!0),this.initialize()):console.warn("no widget component in content, please add it!")},setData:function(e){this.dataArr=e,this.totalCount=this.dataArr.length;var t=void 0;for(t=0;t<this.spawnCount&&!(t>=this.dataArr.length);++t)this._scrollType===i.LEFT_RIGHT?this.items[t].setPosition(this.topOrLeft+this.items[t].width*(.5+t)+this.spacing*(t+1),0):this.items[t].setPosition(0,-this.topOrLeft+-this.items[t].height*(.5+t)-this.spacing*(t+1)),this.items[t].getComponent(this.itemTemplate.name).itemIndex=t,this.items[t].getComponent(this.itemTemplate.name).setData(this.dataArr[t]),this.items[t].active=!0;for(t=this.dataArr.length;t<this.spawnCount;++t)this.items[t].active=!1;this._scrollType===i.LEFT_RIGHT?this.content.width=this.totalCount*(this.items[0].width+this.spacing)+this.spacing-this.topOrLeft+this.bottomOrRight:this.content.height=this.totalCount*(this.items[0].height+this.spacing)+this.spacing-this.topOrLeft+this.bottomOrRight},initialize:function(){a.createPrefabPool(this.itemTemplate);for(var e=0;e<this.spawnCount;++e){var t=a.getPrefab(this.itemTemplate.name);this.content.addChild(t),this._scrollType===i.LEFT_RIGHT?t.setPosition(this.topOrLeft+t.width*(.5+e)+this.spacing*(e+1),0):t.setPosition(0,-this.topOrLeft+-t.height*(.5+e)-this.spacing*(e+1)),t.active=!1,this.items.push(t)}},getPositionInView:function(e){var t=e.parent.convertToWorldSpaceAR(e.position);return this.scrollView.node.convertToNodeSpaceAR(t)},update:function(e){if(this.updateTimer+=e,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.items)),n=this.scrollView.content.y<this.lastContentPosY,a=(this.items[0].height+this.spacing)*t.length;this._scrollType===i.LEFT_RIGHT&&(n=this.scrollView.content.x>this.lastContentPosX,a=(this.items[0].width+this.spacing)*t.length);for(var r=void 0,o=void 0,s=0;s<t.length;++s){var c=this.getPositionInView(t[s]);if(n){var l=c.y<-(t[s].height+this.node.height/2+this.spacing)&&t[s].y+a<0;if(this._scrollType===i.LEFT_RIGHT&&(l=c.x>t[s].width+this.node.width/2+this.spacing&&t[s].x-a>0),l){if((o=(r=t[s].getComponent(this.itemTemplate.name)).itemIndex-t.length)<0)return;this._scrollType===i.LEFT_RIGHT?t[s].x-=a:t[s].y+=a,this.items[s].getComponent(this.itemTemplate.name).itemIndex=o,r.setData(this.dataArr[o])}}else{var d=c.y>this.node.height/2+t[s].height+this.spacing&&t[s].y-a>-this.content.height;if(this._scrollType===i.LEFT_RIGHT&&(d=-c.x>this.node.width/2+t[s].width+this.spacing&&t[s].x+a<this.content.width),d){if((o=(r=t[s].getComponent(this.itemTemplate.name)).itemIndex+t.length)>=this.dataArr.length)return;this._scrollType===i.LEFT_RIGHT?t[s].x+=a:t[s].y-=a,this.items[s].getComponent(this.itemTemplate.name).itemIndex=o,r.setData(this.dataArr[o])}}}this._scrollType===i.LEFT_RIGHT?this.lastContentPosX=this.scrollView.content.x:this.lastContentPosY=this.scrollView.content.y}},scrollEvent:function(e,t){}}),cc._RF.pop()},{}],sceneFactory:[function(e,t,n){"use strict";cc._RF.push(t,"eea35u3a6FN6Z3ZTOdfV72w","sceneFactory");var a=cc.Class({extends:cc.Component,properties:{maskNode:{default:null,type:cc.Node,displayName:"\u8499\u677f",readonly:!1},uiRoot:cc.Node},onLoad:function(){kf.require("basic.panelCenter").initGraphic(this.node,this.maskNode,this.uiRoot)}});kf.addModule("component.sceneFactory",function(){return a}),cc._RF.pop()},{}],skinInfo:[function(e,t,n){"use strict";cc._RF.push(t,"ee353garshLQYRoRvzBiL4u","skinInfo"),cc.Class({extends:cc.Component,properties:{Idle:[cc.SpriteFrame],Left:[cc.SpriteFrame],Up:[cc.SpriteFrame],LeftUp:[cc.SpriteFrame],Down:[cc.SpriteFrame],LeftDown:[cc.SpriteFrame]}}),cc._RF.pop()},{}],startGame:[function(e,t,n){"use strict";cc._RF.push(t,"71ccfqCn3RGEqdXdH4Ot+oN","startGame"),kf.require("logic.user");var a=cc.Enum({pomelo:1,"\u666e\u901a":2}),i=cc.Class({extends:cc.Component,properties:{loadingPanel:{type:cc.Node,default:null},fastLoadPanel:[cc.Prefab],startPanel:cc.Prefab,_networkMode:1,networkMode:{get:function(){return this._networkMode},set:function(e){this._networkMode=e},type:a,tooltip:"\u9009\u62e9\u5408\u9002\u7684\u7f51\u7edc\u6a21\u578b",displayName:"\u7f51\u7edc\u6a21\u578b"},gameManagerPrefab:cc.Prefab},onLoad:function(){window.tt?window.wx.navigateToMiniProgram=function(e){console.log("\u8df3\u8f6c\u7a0b\u5e8f\u81ea\u5b9a\u4e49\uff1a"+e)}:cc.game.setFrameRate(30),kf.require("basic.network").chooseNetworkMode(this.networkMode),e("LanguageData").init("zh")},start:function(){this.isReady=!1,this.clientEvent=kf.require("basic.clientEvent"),this.network=kf.require("basic.network");var e=kf.require("logic.user");if(this.clientEvent.dispatchEvent("hidePanel","maskPanel"),e.userlogined&&e.loadConfiged){if(e.firstLogin=!1,e.gameNum++,e.showCrazySpotPanel&&e.gameNum%2==0)this.clientEvent.dispatchEvent("showPanel","getAwardPanel",{showCrazySpot:!0});else kf.require("basic.clientEvent").dispatchEvent("showPanel","gameOverPanel");return this.loadingPanel.getChildByName("loadingNode").getChildByName("logo").active=!1,this.loadingPanel.getChildByName("loadingNode").getChildByName("gameBar").active=!1,void(this.loadingPanel.active=!1)}e.firstLogin=!0,this.loadSubpackageOK=!1,cc.instantiate(this.gameManagerPrefab).getComponent("GameManager").init(),window.wx?(console.log("\u5f00\u59cb\u52a0\u8f7d\u5b50\u5305:main"),GameManager.loadSubpackage("main",function(){this.isValid&&(GameManager.loadAppIcons(),this.loadSubpackageOK=!0,console.log("\u5f00\u59cb\u52a0\u8f7d\u5b50\u5305:core"),GameManager.loadSubpackage("core"))}.bind(this))):(GameManager.loadAppIcons(),this.loadSubpackageOK=!0),kf.require("logic.user").getShareData(function(){var t=this.loadingPanel.getComponent("loadingPanelUIEvent");t.show(),window.wx&&wx.aldSendEvent("\u52a0\u8f7d\u754c\u9762");var n=0;this.progressInterval=setInterval(function(){e.loadConfiged||e.userlogined||this.loadSubpackageOK?(e.loadConfiged&&(n+=.6),e.userlogined&&(n+=.8),this.loadSubpackageOK&&(n+=1.6)):n+=1;var a=Math.ceil(n);a=a>99?99:a,t.setProgress(a,100),n>=100&&e.loadConfiged&&e.userlogined&&(this.loadSubpackageOK?(clearInterval(this.progressInterval),this.progressInterval=null,this.loadingCompleted()):n>400&&(clearInterval(this.progressInterval),this.progressInterval=null,wx.showModal({title:"\u51fa\u9519\u5566\uff01",content:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8fdb\u5165\u6e38\u620f",showCancel:!1,success:function(e){e.confirm&&wx.exitMiniProgram()}})))}.bind(this),25),kf.require("logic.loadConfig").loadConfig(function(e,t){},function(){console.log("\u6e38\u620f\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210"),e.loadConfiged=!0})}.bind(this)),this.clientEvent.on("userlogined",function(){console.log("\u7528\u6237\u767b\u5f55\u5b8c\u6210"),e.userlogined=!0});e.getOrCreateAccount();var t=kf.require("basic.configuration");null!=t.getConfigData("addToMyMiniProgram")&&void 0!==t.getConfigData("addToMyMiniProgram")?e.addToMyMiniProgram=t.getConfigData("addToMyMiniProgram"):(e.addToMyMiniProgram=!1,t.setConfigData("addToMyMiniProgram",!1),t.save()),kf.require("logic.user").login()},loadingCompleted:function(){var e=kf.require("logic.user");!0===e.userlogined&&!0===e.loadConfiged&&(e.loadingCompleted=!0,clearInterval(this.progressInterval),this.progressInterval=null,this.startPanel&&this.clientEvent.dispatchEvent("showPanel",this.startPanel.name),this.loadingPanel.getChildByName("loadingNode").getChildByName("logo").active=!1,this.loadingPanel.getChildByName("loadingNode").getChildByName("gameBar").active=!1,this.loadingPanel.active=!1)},loadUnnecessaryPanel:function(e){var t=0,n=kf.require("basic.panelCenter"),a=function(){e[t]&&n.getAndCreateSubPanelNotHide(e[t],function(){t++,a()}.bind(this))}.bind(this);a()}});kf.addModule("component.startGame",function(){return i}),cc._RF.pop()},{LanguageData:"LanguageData"}],subPanel:[function(e,t,n){"use strict";cc._RF.push(t,"1e127q5TylG+I0f/w6Aq0ag","subPanel");var a=kf.require("component.panel"),i=cc.Class({extends:a,properties:{_dataReady:!1,_isShow:!1,isModal:{default:!1,visible:!1,override:!0},customFlag:{default:!1,visible:!1,override:!0}},onLoad:function(){this._super()},start:function(){this.onEnable()},setData:function(e){this._data=e,this._dataReady=!0,this._isShow&&this.show()},getData:function(){return this._data},isDataReady:function(){return this._dataReady},show:function(){},onDisable:function(){this._isShow=!1},onEnable:function(){this._isShow=!0,this.isDataReady()&&(this.show(),this._dataReady=!1)}});kf.addModule("component.subPanel",function(){return i}),cc._RF.pop()},{}],tipsPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"e27b4slN6hELZ9tGRtMvios","tipsPanelUIEvent");var a=kf.require("component.panel"),i=cc.Class({extends:a,properties:{tipsSubPanel:cc.Prefab},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.upTipArr=[],this.tipIndex=0,this.lastTab=null;for(var e=0;e<5;e++){var t=cc.instantiate(this.tipsSubPanel);this.node.addChild(t),t.active=!1,this.upTipArr[e]=t}this.tipMsgBak=[],this.isPlay=!1},registerWidgetEvent:function(){},registerEvent:function(){},show:function(e){if(this._super(),window.wx)wx.showToast({title:e,icon:"none",duration:1500});else{this.tipMsgBak.push(e);var t=this.tipMsgBak.length-10;t>0&&this.tipMsgBak.splice(1,t),this.isPlay||(this.isPlay=!0,this.lastTab=null,this.newTab())}},newTab:function(){var e=this;if(this.tipMsgBak.length<1)return this.isPlay=!1,void(this.lastTab=null);var t=this.tipMsgBak.shift();if(t){if(this.lastTab){var n=cc.moveBy(.3,cc.v2(0,50));this.lastTab.stopAllActions(),this.lastTab.getComponent("tipsSubPanelUIEvent").hideTxt(),this.lastTab.runAction(n)}this.upTipArr[this.tipIndex].active=!0,this.upTipArr[this.tipIndex].getComponent("tipsSubPanelUIEvent").setData(t),this.lastTab=this.upTipArr[this.tipIndex],this.tipIndex++,this.tipIndex>=5&&(this.tipIndex=0),this.newTabTimeOut=setTimeout(function(){e.newTab()},700)}else this.newTab()},hide:function(){this.newTabTimeOut&&(clearTimeout(this.newTabTimeOut),this.newTabTimeOut=null)}});kf.addModule("tipsPanel.tipsPanelUIEvent",function(){return i}),cc._RF.pop()},{}],tipsSubPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"a73d8KeEaBNi5JHSH3a0GCZ","tipsSubPanelUIEvent");var a=kf.require("component.subPanel"),i=cc.Class({extends:a,properties:{},onLoad:function(){this._super()},hideTxt:function(){var e=this;this.node.stopAllActions();var t=cc.fadeOut(1);this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.node.active=!1})))},show:function(){var e=this;this._super();var t=this.getData();this.node.opacity=255,this.node.stopAllActions(),this.node.position=cc.v2(0,0),this.widget.tipTxt.getComponent(cc.Label).string=t;var n=this.widget.tipTxt.getContentSize(),a=this.widget.tipBg.getContentSize(),i=n.width;i>cc.winSize.width&&(i=cc.winSize.width),this.widget.tipBg.setContentSize(80+i,a.height);var r=cc.sequence(cc.moveBy(.3,0,40).easing(cc.easeIn(.6)),cc.delayTime(.7),cc.callFunc(function(){e.hideTxt(function(){e.node.active=!1})}));this.node.runAction(r)}});kf.addModule("tipsPanel.tipsSubPanelUIEvent",function(){return i}),cc._RF.pop()},{}],trialSkinPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"a28922VwmRCiYCIAjL9IXBg","trialSkinPanelLogic"),kf.addModule("trialSkinPanel.trialSkinPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],trialSkinPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"c1406vJ7jZNO41ON94/ff2S","trialSkinPanelUIEvent");var a=kf.require("component.panel"),i=kf.require("logic.user"),r=kf.require("shared.configManager"),o=kf.require("shared.constants"),s=kf.require("basic.clientEvent"),c=kf.require("logic.platform"),l=kf.require("basic.pool"),d=cc.Class({extends:a,properties:{progressBlockPref:cc.Prefab},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.skin=null,this.skinArr=r.getTableArr("skin"),this.skinData=i.data.gameData.skinData,this.skinArrNoOwn=this.skinArr.filter(function(e){return!(e.ID<9)&&(!this.skinData["s"+e.ID]||this.skinData["s"+e.ID]!=o.getSkinNum)}.bind(this)),this.skinArrNoOwn.length>0&&(this.ranSkinIndex=dataFunc.randomNum(0,this.skinArrNoOwn.length-1),this.skin=this.skinArrNoOwn[this.ranSkinIndex],this.updateSkinDisplay(this.skin)),l.createPrefabPool(this.progressBlockPref)},updateSkinDisplay:function(e){var t=this;this.widget.player.removeAllChildren(),cc.loader.loadRes("mainSkins/"+e.prefabName,cc.Prefab,function(n,a){if(!n&&t.isValid){var i=cc.instantiate(a);i.getChildByName("image").color=cc.color(e.characterColorValue),t.widget.player.addChild(i)}}),this.updateSkinAddition()},updateSkinAddition:function(){l.putChildInPool(this.widget.skinAddition.fans.progress),l.putChildInPool(this.widget.skinAddition.speed.progress),l.putChildInPool(this.widget.skinAddition.sprint.progress);for(var e=this.skin,t=0;t<e.fansAddition;t++){var n=l.getPrefab(this.progressBlockPref.name);this.widget.skinAddition.fans.progress.addChild(n)}for(t=0;t<e.speedAddition;t++){n=l.getPrefab(this.progressBlockPref.name);this.widget.skinAddition.speed.progress.addChild(n)}for(t=0;t<e.sprintAddition;t++){n=l.getPrefab(this.progressBlockPref.name);this.widget.skinAddition.sprint.progress.addChild(n)}},registerWidgetEvent:function(){var e=function(){i.setAudio("btnClick"),2==i.welfareConfig?1==i.superStart?s.dispatchEvent("showPanel","superStartPanel",function(){s.dispatchEvent("hidePanel","maskPanel")}):10==i.superStart?s.dispatchEvent("showPanel","superStartPanel",{finalWelfare:!0},function(){s.dispatchEvent("hidePanel","maskPanel")}):s.dispatchEvent("showPanel","matchingPanel",function(){s.dispatchEvent("hidePanel","maskPanel")}):s.dispatchEvent("showPanel","matchingPanel",function(){s.dispatchEvent("hidePanel","maskPanel")}),s.dispatchEvent("hidePanel","trialSkinPanel")};this.widget.videoBtn.on("click",function(){var t=this;c.shareAppMessage({title:"\u76ae\u80a4\u8bd5\u7528"},function(){i.skinId=t.skin.ID,e()},function(){},o.shareId.skinTry)}.bind(this)),this.widget.closeBtn.clickArea.on("click",function(){e()}.bind(this)),this.widget.lastBtn.on("click",function(){i.setAudio("btnClick"),window.wx&&wx.aldSendEvent("\u70b9\u51fb\u5207\u6362\u76ae\u80a4\u5de6\u6309\u94ae-\u76ae\u80a4\u8bd5\u7528\u754c\u9762"),this.ranSkinIndex--,this.ranSkinIndex<0&&(this.ranSkinIndex=this.skinArrNoOwn.length-1),this.skin=this.skinArrNoOwn[this.ranSkinIndex],this.updateSkinDisplay(this.skin)}.bind(this)),this.widget.nextBtn.on("click",function(){i.setAudio("btnClick"),window.wx&&wx.aldSendEvent("\u70b9\u51fb\u5207\u6362\u76ae\u80a4\u53f3\u6309\u94ae-\u76ae\u80a4\u8bd5\u7528\u754c\u9762"),this.ranSkinIndex++,this.ranSkinIndex>this.skinArrNoOwn.length-1&&(this.ranSkinIndex=0),this.skin=this.skinArrNoOwn[this.ranSkinIndex],this.updateSkinDisplay(this.skin)}.bind(this))},registerEvent:function(){},show:function(e){this._super(),window.wx&&wx.aldSendEvent("\u8bd5\u7528\u76ae\u80a4\u754c\u9762"),e&&e(),c.showBannerAd(o.adPlaceName.trialSkinPanel),this.widget.closeBtn.active=!0,this.widget.closeBtn.clickArea.height=i.clickAreaHeight3}});kf.addModule("trialSkinPanel.trialSkinPanelUIEvent",function(){return d}),cc._RF.pop()},{}],ttPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"2c83dDIehZDD7mkdIn+tQRr","ttPlatform"),kf.addModule("logic.ttPlatform",function(){var e=new(kf.require("logic.basePlatform"))({platform:"tt",useLocalContent:!1,shareId:0});e.logined=!1,e.navigateToMiniProgram=!1,e.lastBarnerAdPlaceName=kf.require("shared.constants").adPlaceName.mainPanel,e.bannerRefreshTimes=0,e.bannerStatu={},e.shareAppMessage=function(t,n,a,i,r,o,s){e.isShare=!0,e.shareAppMessageSuccessCb=i,e.shareAppMessageFailCb=r,e.useLocalContent=s,e.shareTitle=t,e.title=t,e.trackingTitle=t,e.imageUrl=n,e.query=a,e.shareId=o;var c=kf.require("logic.user");e.query=a?"userTag="+c.data.user.userTag+"&"+a:"userTag="+c.data.user.userTag;if(void 0!==o&&c.shareData&&c.shareData[o]){var l=kf.require("shared.constants"),d=c.shareData[o];switch(c.underReview&&(d.shareControl=l.shareControl.close),c.areaShield&&d.shareControl!=l.shareControl.close&&(d.shareControl=l.shareControl.videoOnly),e.shareTitle=d.shareTitle,console.log("###\u5206\u4eab\u914d\u7f6e\uff1a"+d.shareControl),d.shareControl){case l.shareControl.close:e.isShare=!1,e.shareAppMessageSuccessCb&&e.shareAppMessageSuccessCb();break;case l.shareControl.shareOnly:e.doShare(d);break;case l.shareControl.videoOnly:e.showVideo(d,o);break;case l.shareControl.shareVideo:e.shareVideoId="shareVideo"+o,c["shareVideo"+o]&&"share"===c["shareVideo"+o]?e.showVideo(d,o):e.doShare(d);break;case l.shareControl.videoShare:e.videoShareId="videoShare"+o,c["videoShare"+o]?"share"===c["videoShare"+o]?e.showVideo(d,o):e.doShare(d):e.showVideo(d,o);break;case l.shareControl.timeControl:e.videoShareId="videoShare"+o,(new Date).getHours()<10?e.showVideo(d,o):c["videoShare"+o]?"share"===c["videoShare"+o]?e.showVideo(d,o):e.doShare(d):e.showVideo(d,o);break;default:cc.error("\u7c7b\u578b\u9519\u8bef")}}else e.doShare()},e.doShare=function(t){var n=kf.require("logic.user"),a=kf.require("shared.constants");if(t){var i=n.shareData;i=i.filter(function(e){return e.shareId!=a.shareId.defaultShare&&e.shareId!=a.shareId.shareToFriend&&18!=e.shareId&&19!=e.shareId&&20!=e.shareId}.bind(this));var r=Math.floor(Math.random()*i.length);console.log("\u968f\u673a\u5230\u7684\u5206\u4eab\u914d\u7f6e\uff1a"+i[r].shareId),e.useLocalContent||(e.title=i[r].shareDec),e.imageUrl&&0!=e.imageUrl.length||(e.imageUrl=i[r].shareImg),e.query="fromShareId="+i[r].shareId+"&"+e.query,wx.aldSendEvent(t.shareTitle+"-\u5206\u4eab")}tt.getSystemInfoSync().SDKVersion;e.reShare=!1,wx.aldShareAppMessage({title:e.title,imageUrl:e.imageUrl,query:e.query})},e.showVideo=function(t,n){console.log("##########\u64ad\u653e\u89c6\u9891\u5e7f\u544a"),t&&(e.useLocalContent||(e.title=t.shareDec),e.imageUrl&&0!=e.imageUrl.length||(e.imageUrl=t.shareImg),e.videoSendAldCb=function(){var n=kf.require("logic.user");n[e.shareVideoId]="video",n[e.videoShareId]="video",console.log("########\u89c6\u9891\u5e7f\u544a-"+t.shareTitle+"-"+(e.etag||"\u81ea\u7136\u7528\u6237"));var a=kf.require("shared.constants");e.shareId==a.shareId.skinTry?wx.aldSendEvent(t.shareTitle+"-\u89c6\u9891\u770b\u5b8c"):wx.aldSendEvent(e.trackingTitle+"-\u89c6\u9891\u770b\u5b8c")});var a=kf.require("shared.constants").videoAdPlaceName.superWelfareVideo;e.showRewardedVideoAd(a)},e.login=function(t){if(this.constants||(this.constants=kf.require("shared.constants")),this.user||(this.user=kf.require("logic.user")),e.logined)cc.warn("user is already logined");else{var n={userInfo:{}};window.tt.getSystemInfoSync();this.launchOptions=window.tt.getLaunchOptionsSync(),n.userInfo.avatarUrl="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2595323780,2898738274&fm=26&gp=0.jpg",n.userInfo.nickName="\u6e38\u5ba2",n.userInfo.gender=1,window.wx.login({success:function(a){console.log("wx login success:"+JSON.stringify(a)),n.code=a.code,e.getOpenId2(a.code,n,t)},fail:function(n){var a={userInfo:{}};a.userInfo.avatarUrl="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2595323780,2898738274&fm=26&gp=0.jpg",a.userInfo.nickName="\u6e38\u5ba2",a.userInfo.gender=1,a.userInfo.country="China",a.userInfo.province="Fujian",a.userInfo.city="Xiamen",a.openId=e.getOrCreateAccount(),t(a)}})}},e.getOrCreateAccount=function(){var e=kf.require("basic.configuration"),t=e.getAccount();return t||(t=e.getGuestAccount(),e.setGuestAccount(t),e.setAccountInfo(t,""),e.save()),t},e.createGameClubButton=function(t,n){if(kf.require("logic.user").showGameClubButton){e.gameClubButton&&e.gameClubButton.destroy();var a=cc.game.canvas.clientWidth/cc.winSize.width;wx.createGameClubButton&&(e.gameClubButton=wx.createGameClubButton({icon:"dark",style:{left:620*a,top:(cc.winSize.height/2-t.y)*a,width:80*a,height:80*a}}))}},e.showGameClubButton=function(){e.gameClubButton&&e.gameClubButton.show()},e.hideGameClubButton=function(){e.gameClubButton&&e.gameClubButton.hide()},e.getOpenId=function(e,t,n){cc.loader.load("https://1923914575990624.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/wechatgame/getOpenID/?code="+e,function(e,a){if(console.log("getOpenIdErr= ",e),!e&&a){console.log(a);var i=JSON.parse(a);console.log(i.openid),t.openId=i.openid,n(t)}else{var r=kf.require("basic.clientEvent");r.dispatchEvent("hidePanel","netLoadingPanel"),r.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin"))}}.bind(this))},e.getOpenId2=function(t,n,a){var i=e.fenglingUrl+"/api/code-login",r=0,o=0;e.query&&e.query.weixinadinfo&&(r=e.query.weixinadinfo.split(".")[0]),e.query&&e.query.gdt_vid&&(o=e.query.gdt_vid),kf.require("logic.user").inviter=e.query.inviter,wx.request({url:i,data:{code:t,etag:e.etag,invite_tag:e.inviteTag,share_id:1,share_type:99,aid:r,gdt_vid:o},header:{"content-type":"application/json"},method:"POST",success:function(e){var t=e.data;if(t)n.openId=t.openid,n.token=t.token,n.userTag=t.user_tag,n.userInfo.avatarUrl=t.avatarUrl,n.userInfo.nickName=t.nickName,n.userInfo.gender=t.gender,n.userInfo.regtime=t.regtime,n.userInfo.channel=t.channel,a(n);else{var i=kf.require("basic.clientEvent");i.dispatchEvent("showLoginBtn"),i.dispatchEvent("hidePanel","netLoadingPanel"),i.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin"))}},fail:function(e){var t=kf.require("basic.clientEvent");t.dispatchEvent("showLoginBtn"),t.dispatchEvent("hidePanel","netLoadingPanel"),t.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin"))}})};return e.initSdk=function(){e.sdkInited?console.warn("sdk is already init"):(this.constants||(this.constants=kf.require("shared.constants")),this.clientEvent||(this.clientEvent=kf.require("basic.clientEvent")),function(){kf.require("basic.network").on("showUserInfoBtn",function(){e.logined});var t=kf.require("basic.clientEvent"),n=null,a=null;console.info("set onShow"),wx.onShareAppMessage(function(e){console.log("wx.onShareAppMessage"),console.log(e)}),wx.onShow(function(i){if(console.log("\u5c0f\u6e38\u620f\u56de\u5230\u524d\u53f0"),e.isShare){var r=kf.require("logic.user");a=(new Date).getTime();var o=r.shareSuccessTime-1e3;if(console.log("##########user.shareTimes:"+r.shareTimes),e.reShare&&(o=r.shareSuccessTime),e.shareId==kf.require("shared.constants").shareId.powerfulProp&&(o=r.shareSuccessTimeProps),e.shareId!=kf.require("shared.constants").shareId.shareToFriend&&e.shareId!=kf.require("shared.constants").shareId.inviteFriend||(o=0),parseInt(a)-o>parseInt(n))console.log("\u5206\u4eab\u6210\u529f"),r.shareTimes++,e.isShare=!1,r[e.shareVideoId]="share",r[e.videoShareId]="share",e.shareAppMessageSuccessCb&&(wx.aldSendEvent(e.shareTitle+"-\u5206\u4eab\u6210\u529f"),e.shareAppMessageSuccessCb());else{if(console.log("\u5206\u4eab\u5931\u8d25"),console.log("##########"+e.shareId),console.log("##########"+kf.require("shared.constants").shareId.powerfulProp),e.shareId==kf.require("shared.constants").shareId.powerfulProp)return e.isShare=!1,void(e.shareAppMessageFailCb&&e.shareAppMessageFailCb());if(1!=r.shareFailTips)return e.isShare=!1,e.shareAppMessageFailCb&&e.shareAppMessageFailCb(),void t.dispatchEvent("showPanel","tipsPanel","\u5206\u4eab\u5931\u8d25");wx.showModal({title:"\u63d0\u793a",content:"\u5206\u4eab\u5931\u8d25\u3002",confirmText:"\u518d\u8bd5\u4e00\u4e0b",success:function(t){if(t.confirm)console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"),e.reShare=!0,wx.aldShareAppMessage({title:e.title,imageUrl:e.imageUrl,query:e.query});else if(t.cancel){if(!e)return;console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88"),e.isShare=!1,e.shareAppMessageFailCb&&e.shareAppMessageFailCb()}},fail:function(t){console.log("fail"),e.isShare=!1,e.shareAppMessageFailCb&&e.shareAppMessageFailCb()}})}}var s=i.scene;if(1103===s||1104===s){var c=kf.require("logic.user"),l=kf.require("basic.configuration");c.addToMyMiniProgram=!0,l.setConfigData("addToMyMiniProgram",!0),l.save(),t.dispatchEvent("updateUserDataDisplay")}if(console.log("########"+e.navigateToMiniProgram),e.navigateToMiniProgram){kf.require("logic.user");var d=kf.require("basic.clientEvent");a=(new Date).getTime(),e.navigateToMiniProgram=!1,parseInt(a)-15e3>parseInt(n)?(console.log("\u8bd5\u73a9\u6210\u529f"),d.dispatchEvent("updateNavigateData")):(console.log("\u8bd5\u73a9\u5931\u8d25"),d.dispatchEvent("showPanel","tipsPanel","\u9700\u8981\u5b8c\u6574\u4f53\u9a8c\u4e00\u4e0b\u6e38\u620f\u54e6"))}var h=i;console.log("###########launchOption"+JSON.stringify(h)),Object.keys(h.query).length>0&&"{}"!==JSON.stringify(h.query)&&("rank"===h.query.type?(console.log("###########rank"),h.shareTicket&&(console.log("###########shareTicket"),setTimeout(function(){t.dispatchEvent("showPanel","rankPanel",{fromGameOver:!1,shareTicket:h.shareTicket,showUserInfoBtn:!0})},500))):"invite"===h.query.type&&(kf.require("logic.user").inviter=h.query.inviter))}),wx.onHide(function(){console.log("\u5c0f\u6e38\u620f\u9690\u85cf\u5230\u540e\u53f0"),(e.isShare||e.navigateToMiniProgram)&&(n=(new Date).getTime())})}(),e.sdkInited=!0,e.fenglingUrl=this.constants.fenglingUrl,e.getReferrerAppId(),e.updateNewVersion())},e.updateNewVersion=function(){var e=wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log(e.hasUpdate)}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){console.log("onUpdateFailed")})},e.getReferrerAppId=function(){var t="";window.wx.getLaunchOptionsSync().referrerInfo&&window.wx.getLaunchOptionsSync().referrerInfo.appId&&(t=window.wx.getLaunchOptionsSync().referrerInfo.appId.toString()||""),e.query=window.wx.getLaunchOptionsSync().query,console.log("########platform.query:"+JSON.stringify(e.query)),e.inviteTag=e.query.userTag||"",e.fromShareId=e.query.fromShareId||"",e.referrerAppId=t,e.query.gdt_vid&&e.query.weixinadinfo?e.etag=e.query.etag:e.etag=""===t?e.query.etag:t},e.showLoginBtn=function(){},e.setNavigateToMiniProgram=function(t){console.log("############setNavigateToMiniProgram"),e.navigateToMiniProgram=t},e.createBannerAd=function(t){var n=kf.require("shared.constants"),a=Object.keys(n.barnerAdId);if(t){var i=a.indexOf(t);-1!==i&&a.splice(i,1)}for(var r=0;r<a.length;r++){var o=a[r];(function(t){e[t]&&e[t].destroy();var a=tt.getSystemInfoSync().windowWidth;t==n.adPlaceName.uiGamePanel&&(a*=.6),e[t]=tt.createBannerAd({adUnitId:n.barnerAdId[t],style:{left:0,top:0,width:a}}),e[t].onError(function(e){var t=this;console.log("****${barnerId}##banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),this.createBanerAdTime&&(clearTimeout(this.createBanerAdTime),this.createBanerAdTime=null),this.createBanerAdTime=setTimeout(function(){t.createBanerAdTime=null,t.createBannerAd()},6e4)}.bind(this)),e[t].onLoad(function(){console.log("****"+t+"##banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****");var a=tt.getSystemInfoSync(),i=720/a.windowWidth;if(t===n.adPlaceName.uiGamePanel&&(e[t].style.left=(a.windowWidth-e[t].style.width)/2),console.log("########adHeight="+e[t].style.realHeight),t===n.adPlaceName.uiGamePanel){e[t].style.top=tt.getSystemInfoSync().windowHeight-131- -20/i}else{e[t].style.top=tt.getSystemInfoSync().windowHeight/2+410/i}kf.require("logic.user").loadingCompleted&&e.bannerStatu[e.lastBarnerAdPlaceName]&&e.showBannerAd(e.lastBarnerAdPlaceName)})}).bind(this)(o)}},e.createBannerAd2=function(){var t=kf.require("shared.constants"),n=Object.keys(t.randomBannerAdIdsTT),a=kf.require("logic.user");a.bannerNumbers=a.bannerNumbers>n.length?n.length:a.bannerNumbers,console.log("#######$$$$$$user.bannerNumbers="+a.bannerNumbers);for(var i=0;i<a.bannerNumbers;i++){var r=n[i];(function(n){e[n]&&e[n].destroy();var a=tt.getSystemInfoSync().windowWidth;e[n]=tt.createBannerAd({adUnitId:t.randomBannerAdIdsTT[n],style:{left:0,top:0,width:a}}),e[n].onError(function(e){var t=this;console.log("****"+n+"##banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25:"+JSON.stringify(e));var a=kf.require("logic.user");1005!=e.errCode&&1006!=e.errCode&&1007!=e.errCode||a.reportFlowMainError(e.errCode),a.bannerError=!0,this.createBanerAdTime&&(clearTimeout(this.createBanerAdTime),this.createBanerAdTime=null),this.createBanerAdTime=setTimeout(function(){t.createBanerAdTime=null,t.createBannerAd()},6e4)}.bind(this)),e[n].onLoad(function(){console.log("****"+n+"##banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****"),kf.require("logic.user").bannerError=!1})}).bind(this)(r)}},e.reCreateBanner=function(t){var n=kf.require("shared.constants");kf.require("logic.user");if(console.log("****"+t+"##banner\u5237\u65b0****"),n.randomBannerAdIdsTT[t]){var a="tempBannerId",i=tt.getSystemInfoSync().windowWidth,r=720/tt.getSystemInfoSync().windowWidth;e[a]=tt.createBannerAd({adUnitId:n.randomBannerAdIdsTT[t],style:{left:0,top:tt.getSystemInfoSync().windowHeight/2+410/r,width:i}}),e[a].onError(function(e){console.log("****tempBannerId##banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25:"+JSON.stringify(e));var t=kf.require("logic.user");1005!=e.errCode&&1006!=e.errCode&&1007!=e.errCode||t.reportFlowMainError(e.errCode),t.bannerError=!0}.bind(this)),e[a].onLoad(function(){console.log("****tempBannerId##banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****");var n=kf.require("logic.user");n.bannerError=!1,n.bannerRefreshTimes5++,e[t]&&e[t].destroy(),e[t]=e[a],e[a]=null,e.doShowBanner(t,e.adPlaceName,!0)})}},e.showBannerAd=function(t){var n=kf.require("logic.user"),a=kf.require("shared.constants"),i="banner1",r=Math.ceil(Math.random()*n.bannerNumbers);switch(i="banner"+r,t){case a.adPlaceName.superStartPanel:case a.adPlaceName.trialSkinPanel:0==n.matchingBannerId?n.matchingBannerId=r:(n.matchingBannerId++,n.matchingBannerId>n.bannerNumbers&&(n.matchingBannerId=1),i="banner"+n.matchingBannerId);break;case a.adPlaceName.dailyLoginAward:case a.adPlaceName.crazySpotAward:case a.adPlaceName.dailyWelfarePanel:case a.adPlaceName.gameOverAward:case a.adPlaceName.luckyWheelAward:n.riskyBannerId=i;break;case a.adPlaceName.matchingPanel:0==n.matchingBannerId&&(n.matchingBannerId=r),i="banner"+n.matchingBannerId}console.log("\u968f\u673a\u7684\u5e7f\u544a\u4e3a\uff1a"+i);var o=!0;switch(t){case a.adPlaceName.dailyLoginAward:o=!!n.showDailyLoginAwardBanner;break;case a.adPlaceName.gameOverAward:o=!!n.showGameOverAwardBanner;break;case a.adPlaceName.luckyWheelAward:o=!!n.showLuckyWheelAwardBanner;break;case a.adPlaceName.dailyWelfarePanel:o=!!n.showDailyLoginAwardBanner;break;case a.adPlaceName.uiGamePanel:o=!!n.showGameBanner;break;case a.adPlaceName.crazySpotAward:o=!!n.showCrazySpotAwardBanner;break;case a.adPlaceName.matchingPanel:o=!!n.showMatchingBanner;break;case a.adPlaceName.mainPanel:case a.adPlaceName.uiTimeOver:o=!0}n.areaShield&&!n.showAreaShieldBanner&&(o=!1),e[i]?e.doShowBanner(i,t,o):(e.adPlaceName=t,e.reCreateBanner(i))},e.doShowBanner=function(t,n,a){if(e[t]){kf.require("logic.user"),kf.require("shared.constants");var i=tt.getSystemInfoSync(),r=720/i.windowWidth;console.log("########realHeight="+e[t].style.realHeight),console.log("########realWidth="+e[t].style.realWidth),console.log("########width="+e[t].style.width);var o=i.windowWidth;console.log("####$$$$$@@@@bannerWidth="+o),console.log("####$$$$$@@@@@bannerLeft=0"),e[t].style.left=(i.windowWidth-e[t].style.width)/2,e[t].style.width=o,e[t].style.top=tt.getSystemInfoSync().windowHeight/2+410/r,a?(e.hideBannerAd(t),e.lastBarnerAdPlaceName=t,e.bannerStatu[t]=!0,e[t].show()):console.log("\u4e0d\u663e\u793a\u5e7f\u544a")}},e.hideBannerAd=function(t){for(var n=kf.require("logic.user"),a=kf.require("shared.constants"),i=Object.keys(a.randomBannerAdIdsTT),r=0;r<n.bannerNumbers;r++){var o=i[r];e[o]&&t!=o&&(e.bannerStatu[o]=!1,e[o].destroy(),e[o]=null)}},e.refreshBanner=function(t){var n=kf.require("logic.user");1!=n.bannerConfig&&0!=n.bannerMaxRefreshTimes&&e.reCreateBanner(t)},e.createRewardedVideoAd=function(){console.log("############\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891");var t=kf.require("shared.constants"),n=Object.keys(t.videoAdIdTT);for(var a in n){(function(n){e[n]=tt.createRewardedVideoAd({adUnitId:t.videoAdIdTT[n]}),e[n]&&(e[n].onLoad(function(){e["isCanPlay"+n]=!0,console.log("****"+n+"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****")}),e[n].onError(function(t){(e["isCanPlay"+n]=!1,console.log("****"+n+"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25****",t),1005==t.errCode||1006==t.errCode||1007==t.errCode)&&kf.require("logic.user").reportFlowMainError(t.errCode)}),e[n].onClose(function(t){if(e.isShare){if(t&&t.isEnded||void 0===t){console.log("########\u5e7f\u544a\u64ad\u653e\u5b8c\u6bd5\uff0c\u6210\u529f");var n=kf.require("logic.user"),a=kf.require("shared.constants");n.updateTaskData(a.taskId.video),e.shareVideoId&&(n[e.shareVideoId]="video"),e.videoShareId&&(n[e.videoShareId]="video"),e.shareAppMessageSuccessCb&&e.shareAppMessageSuccessCb(),e.videoSendAldCb&&e.videoSendAldCb()}else console.log("########\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u5931\u8d25"),e.shareAppMessageSuccessCb&&e.shareAppMessageFailCb();e.isShare=!1}}.bind(this)))})(n[a])}},e.showRewardedVideoAd=function(t){if(e[t]){if(!e["isCanPlay"+t]){e.isShare=!1;var n=kf.require("shared.constants");if(e.shareId==n.shareId.speedPropertyTrain||e.shareId==n.shareId.sprintPropertyTrain)kf.require("basic.clientEvent").dispatchEvent("showPanel","tipsPanel","\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d\u4e2d...");else e.doShare(kf.require("logic.user").shareData[e.shareId]);return}e[t].show().catch(function(n){e[t].load().then(function(){return e[t].show()})}).then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f");var t=kf.require("shared.constants");e.shareId==t.shareId.skinTry||e.shareId==t.shareId.sprintPropertyTrain||e.shareId==t.shareId.superWelfare?wx.aldSendEvent(e.trackingTitle+"-\u89c6\u9891"):wx.aldSendEvent(e.shareTitle+"-\u89c6\u9891")})}else e.isShare=!1},e.loadAds=function(){var t=kf.require("logic.user");0!=t.bannerMaxRefreshTimes&&1==t.bannerConfig&&(e.createBannerAd2(),e.bannerRefreshInterval=setInterval(function(){e.bannerRefreshTimes++,e.bannerRefreshTimes>=7&&(clearInterval(e.bannerRefreshInterval),e.bannerRefreshInterval=null),e.createBannerAd2()},18e4));var n=kf.require("shared.constants"),a=Object.keys(n.randomBannerAdIdsTT);console.log("#######$$$$$$user.bannerNumbers1="+t.bannerNumbers),t.bannerNumbers=t.bannerNumbers>a.length?a.length:t.bannerNumbers,console.log("#######$$$$$$user.bannerNumbers2="+a.length),console.log("#######$$$$$$user.bannerNumbers3="+t.bannerNumbers),e.createRewardedVideoAd()},e.getEtag=function(){return e.etag},e.getFromShareId=function(){return e.fromShareId},e.getGameRecorder=function(e){var t=tt.getGameRecorderManager();e?(t.onStart(function(e){console.log("\u5f55\u5c4f\u5f00\u59cb")}),t.start({duration:120}),t.recordClip({timeRange:[3,3]})):(console.log("\u5f55\u5c4f\u7ed3\u675f"),t.onStop(function(e){console.log("\u5f55\u5c4f\u8def\u5f84\uff1a"+e.videoPath),tt.shareVideo({videoPath:""+e.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\uff01")}})}),t.stop())},e}),cc._RF.pop()},{}],uifactory:[function(e,t,n){"use strict";cc._RF.push(t,"7f4b4njvQBILI23/xi8xRtJ","uifactory"),kf.addModule("shared.uifactory",function(){kf.require("shared.formula"),kf.require("shared.commonFunction")}),cc._RF.pop()},{}],user:[function(e,t,n){"use strict";cc._RF.push(t,"99acf7HF9pDvY+fJAuhSC21","user"),kf.addModule("logic.user",function(){var e=kf.require("basic.network"),t=kf.require("basic.clientEvent"),n=kf.require("basic.lang"),a=kf.require("shared.code"),i=kf.require("shared.constants"),r=kf.require("logic.platform"),o=kf.require("basic.configuration"),s=function(){function e(e,t){if(!i[e]){i[e]={};for(var n=0;n<e.length;n++)i[e][e.charAt(n)]=n}return i[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},r={compressToBase64:function(e){if(null==e)return"";var t=r._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:r._decompress(t.length,32,function(a){return e(n,t.charAt(a))})},compressToUTF16:function(e){return null==e?"":r._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=r.compress(e),n=new Uint8Array(2*t.length),a=0,i=t.length;i>a;a++){var o=t.charCodeAt(a);n[2*a]=o>>>8,n[2*a+1]=o%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return r.decompress(e);for(var n=new Array(e.length/2),a=0,i=n.length;i>a;a++)n[a]=256*e[2*a]+e[2*a+1];var o=[];return n.forEach(function(e){o.push(t(e))}),r.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,function(e){return a.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),r._decompress(t.length,32,function(n){return e(a,t.charAt(n))}))},compress:function(e){return r._compress(e,16,function(e){return t(e)})},_compress:function(e,t,n){if(null==e)return"";var a,i,r,o={},s={},c="",l="",d="",h=2,u=3,g=2,f=[],p=0,m=0;for(r=0;r<e.length;r+=1)if(c=e.charAt(r),Object.prototype.hasOwnProperty.call(o,c)||(o[c]=u++,s[c]=!0),l=d+c,Object.prototype.hasOwnProperty.call(o,l))d=l;else{if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(a=0;g>a;a++)p<<=1,m==t-1?(m=0,f.push(n(p)),p=0):m++;for(i=d.charCodeAt(0),a=0;8>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1}else{for(i=1,a=0;g>a;a++)p=p<<1|i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i=0;for(i=d.charCodeAt(0),a=0;16>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1}0==--h&&(h=Math.pow(2,g),g++),delete s[d]}else for(i=o[d],a=0;g>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1;0==--h&&(h=Math.pow(2,g),g++),o[l]=u++,d=String(c)}if(""!==d){if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(a=0;g>a;a++)p<<=1,m==t-1?(m=0,f.push(n(p)),p=0):m++;for(i=d.charCodeAt(0),a=0;8>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1}else{for(i=1,a=0;g>a;a++)p=p<<1|i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i=0;for(i=d.charCodeAt(0),a=0;16>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1}0==--h&&(h=Math.pow(2,g),g++),delete s[d]}else for(i=o[d],a=0;g>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1;0==--h&&(h=Math.pow(2,g),g++)}for(i=2,a=0;g>a;a++)p=p<<1|1&i,m==t-1?(m=0,f.push(n(p)),p=0):m++,i>>=1;for(;;){if(p<<=1,m==t-1){f.push(n(p));break}m++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,n,a){var i,r,o,s,c,l,d,h=[],u=4,g=4,f=3,p="",m=[],v={val:a(0),position:n,index:1};for(i=0;3>i;i+=1)h[i]=i;for(o=0,c=Math.pow(2,2),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;switch(o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;d=t(o);break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;d=t(o);break;case 2:return""}for(h[3]=d,r=d,m.push(d);;){if(v.index>e)return"";for(o=0,c=Math.pow(2,f),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;switch(d=o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;h[g++]=t(o),d=g-1,u--;break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=a(v.index++)),o|=(s>0?1:0)*l,l<<=1;h[g++]=t(o),d=g-1,u--;break;case 2:return m.join("")}if(0==u&&(u=Math.pow(2,f),f++),h[d])p=h[d];else{if(d!==g)return null;p=r+r.charAt(0)}m.push(p),h[g++]=r+p.charAt(0),r=p,0==--u&&(u=Math.pow(2,f),f++)}}};return r}(),c={skinId:1,versionCode:"1.7.6",isTest:0,flags:{wheelSurf:!1},gameNum:0,todayFirstLogin:!1,superStart:1,shareTimes:0,dailyLoginCanGetCount:1,playerColorIndex:0,underReview:!1,showGameClubButton:!0,playerLevel:1,sprintLevel:1,needCoin:0,inGame:!1,inGameOver:!1,todayCanGet:!1,moreGameDot:!0,recommendDot:!0,recommendGameDotState:{},popularGameDotState:{},sixGameDotState:{},addToMyMiniProgram:!1,bannerRefreshTimes1:0,bannerRefreshTimes2:0,bannerRefreshTimes3:0,bannerRefreshTimes4:0,bannerRefreshTimes5:0,bannerMaxRefreshTimes:14,bannerConfig:2,shareSuccessTime:3e3,shareSuccessTimeProps:1500,showRiskyBanner:!1,showDailyWelfareBanner:!1,showGameOverAwardBanner:!1,showLuckyWheelAwardBanner:!1,showDailyLoginAwardBanner:!1,showCrazySpotAwardBanner:!1,showDailyWelfareRiskyBtn:!1,showGameOverAwardRiskyBtn:!1,showLuckyWheelAwardRiskyBtn:!1,showDailyLoginAwardRiskyBtn:!1,showCrazySpotPanel:!1,showGameBanner:!1,shareFailTips:1,randomBanner:!1,clickAreaHeight1:20,clickAreaHeight2:25,clickAreaHeight3:30,clickAreaHeight4:35,showMatchingBanner:!1,showAreaShieldBanner:!1,bannerNumbers:4,matchingBannerId:0,riskyBannerId:"banner1",speedUpgradeCount:0,fansUpgradeCount:0,sprintUpgradeCount:0,offlineUpgradeCount:0,accessToken:"",infiniteSprint:!1,welfareConfig:1,bannerError:!1,sprintCount:5,showGameBox:!1,init:function(){var s=this;e.on("connector.entryHandler.netTest",function(e){t.dispatchEvent("showPanel","tipsPanel",e.testStr),t.dispatchEvent("testEvent",e.testStr)}),e.on("showErrTips",function(e){var i=n.get(e.code)||n.get(a.PARAM_ERROR);t.dispatchEvent("showPanel","tipsPanel",i)}),e.on("connector.entryHandler.login",function(e){e.code===a.OK?(console.log("login success2 : "+JSON.stringify(e)),c.data=e,c.data.gameData.skinData||(c.data.gameData.skinData={useSkinIndex:1,s1:1}),c.levelData=c.calculateLevel(),c.data.gameData.dailyLoginGet||(c.data.gameData.dailyLoginGet={day0:0,day1:0,day2:0,day3:0,day4:0,day5:0,day6:0})):console.log("login fail : "+JSON.stringify(e)),r.logined=!0,t.dispatchEvent("userlogined")}),e.on("loginSuccess",function(e){console.log("login success1 : "+JSON.stringify(e)),c.data={},c.data.user=e;var n=c.getData();(n&&n.user&&n.user.avatarUrl&&(c.data.user.avatarUrl=n.user.avatarUrl),setTimeout(function(){c.shareData||kf.require("logic.user").getShareData()},1e3),s.getChannelData(i.channelLocation.lunbo,function(e){c.otherGameData=e}),window.tt)?s.initGameData(function(){o.setConfigData("nickName",c.data.user.name),o.setConfigData("openId",c.data.user.openId),o.save(),c.levelData=c.calculateLevel(),r.logined=!0,t.dispatchEvent("userlogined"),c.getGameConfig(),c.getAccessToken(),t.dispatchEvent("updateUserDataDisplay")}.bind(s)):kf.require("basic.cloud").initAccount(kf.require("shared.constants").ossGameName,e.openId,function(e,n){if(e)console.log("cloud.initAccount error : "+e);else{if(console.log("init account over"+JSON.stringify(n)),n.gameData)console.log("cloud.initAccount : "+JSON.stringify(n)),c.data.gameData=n.gameData;else{console.log("cloud.initAccount data is null:"+JSON.stringify(n));var a=o.getConfigData("openId");if(null!=a&&void 0!==a&&a===c.data.user.openId&&window.wx)return t.dispatchEvent("hidePanel","netLoadingPanel"),void c.login()}s.initGameData(function(){o.setConfigData("nickName",c.data.user.name),o.setConfigData("openId",c.data.user.openId),o.save(),c.levelData=c.calculateLevel(),r.logined=!0,t.dispatchEvent("userlogined"),c.getGameConfig(),c.getAccessToken(),t.dispatchEvent("updateUserDataDisplay")}.bind(s))}});r.loadAds()}),e.on("loginserver",function(){c.login()}),e.on("logout",function(){}),c.getSoundData(),c.getVibrateData()},getInvitationInfo:function(e){var t=this;c.invitationCompletedInfo&&e&&e(c.invitationCompletedInfo),kf.require("basic.cloud").getInvitationInfo(c.data.user.openId,function(n,a){if(n)console.log("cloud.uploadToCloud error : "+n);else{console.log("cloud.getInvitationInfo success"+JSON.stringify(a));var r=0;a.invitation&&0!==a.invitation.length&&(r=a.invitation.length),c.updateTaskData(i.taskId.invite,r,function(){c.invitationCompletedInfo=a}.bind(t)),e&&e(a)}})},getChannelData:function(e,t){if(window.wx&&!window.tt)cc.loader.load("https://ossconfigcdn.xxzsgame.com/pyyqz/whiteList.json",function(e,n){var a=n;if(console.log("\u63a5\u6536\u4e0b\u6765\u7684\u6587\u4ef6\u5185\u5bb9\u4e3a\uff1a",a),a){var r=s.decompressFromEncodedURIComponent(a);console.log("\u89e3\u5bc6\u540e\u7684\u6587\u4ef6\u5185\u5bb9\u4e3a\uff1a",r);var o=JSON.parse(r).whiteList;if(console.log("@@@@@@@@@getChannelData:"+JSON.stringify(o)),t){o.sort(function(e,t){return t.weigh-e.weigh}.bind(this));var c=i.allAppIdArr;c=JSON.stringify(c);for(var l=0;l<o.length;l++)-1===c.indexOf(o[l].appid)?(o.splice(l,1),l--):o[l].redPoint=1===o[l].hot;t(o)}}else console.log("getChannelData fail, data is null")}.bind(this));else{var n=[{id:90,name:"\u8c82\u8749\u4e09\u56fd",appid:"wx9eea853ac817f737",logo:"https://fl-cdn.feigo.fun/uploads/20190307/YomFEkTEqz5sjhnRwKfYujRxf7I14UCl.png",client_logo:"dcsg",logo_status:2,path:"path=index?tid=0OVSn2_Ne9UjY",reward_value:1500,people_play:"568\u4e07\u4eba\u73a9",jump_cool:0,hot:1,weigh:10,is_get:0},{id:63,name:"\u51e1\u4eba\u98de\u4ed9\u4f20",appid:"wxd7c5b7d77ff1b238",logo:"https://fl-cdn.feigo.fun/uploads/20190214/3jGRfDS7cIFK8A5U3Yh5ttDtWcC2VXGU.png",client_logo:"frfxz",logo_status:2,path:"?from=2305",reward_value:950,people_play:"773\u4e07\u4eba\u73a9",jump_cool:0,hot:2,weigh:9,is_get:0},{id:93,name:"\u6597\u7834\u4fee\u4ed9",appid:"wxa39d0f2c413ae546",logo:"https://fl-cdn.feigo.fun/uploads/20190312/j1RAJdoamTWEIXQwhcE2oVjG6H2GaoAz.png",client_logo:"dpxx",logo_status:2,path:"?channel=30102",reward_value:1e3,people_play:"497\u4e07\u4eba\u73a9",jump_cool:0,hot:1,weigh:9,is_get:0},{id:73,name:"\u690d\u7269\u6597\u50f5\u5c38",appid:"wx411387cf980c03a4",logo:"https://fl-cdn.feigo.fun/uploads/20190220/b7eczX17pYhSDoPhqcpcQUv6AKQjwks0.png",client_logo:"zwdjs",logo_status:2,path:"?krq_zwdjs=073&ald_media_id=6265&ald_link_key=efdddfac509d272f&ald_position_id=0",reward_value:1e3,people_play:"579\u4e07\u4eba\u73a9",jump_cool:0,hot:2,weigh:5,is_get:0},{id:66,name:"\u9738\u4e1a\u4e09\u56fd\u5fd7",appid:"wx8b3a98563fc40251",logo:"https://fl-cdn.feigo.fun/uploads/20190215/ND7HHSdInuUnCFeFfLywpDoq7DMvnpKH.png",client_logo:"bysgz",logo_status:2,path:"?from=2305",reward_value:1e3,people_play:"723\u4e07\u4eba\u73a9",jump_cool:0,hot:2,weigh:0,is_get:0},{id:79,name:"\u5929\u5929\u6597\u5730\u4e3b\u771f\u4eba\u7248",appid:"wxb52b11c4dd14b6fc",logo:"https://fl-cdn.feigo.fun/uploads/20190225/mwVGnjAhDCGysE6zRyeeKSAUSQ59r6uf.png",client_logo:"ttddzzrb",logo_status:2,path:"/pages/index/index?gdt_vid=fengling&weixinadinfo=0001&channel=fengling.h5ddz.001",reward_value:1e3,people_play:"584\u4e07\u4eba\u73a9",jump_cool:0,hot:2,weigh:0,is_get:0},{id:81,name:"\u67aa\u624b\u672c\u8272",appid:"wx263ee0e5f196cb90",logo:"https://fl-cdn.feigo.fun/uploads/20190226/XHff31m8pSGA1PVrgOBLsHs1WbnieKcR.png",client_logo:"qsbs",logo_status:2,path:"/pages/index/index?gdt_vid=fengling&weixinadinfo=0001&channel=fengling.h5qsbs.001",reward_value:1e3,people_play:"985\u4e07\u4eba\u73a9",jump_cool:0,hot:2,weigh:0,is_get:0},{id:85,name:"\u4e09\u56fd\u731b\u5c06",appid:"wx325869939fac1c6b",logo:"https://fl-cdn.feigo.fun/uploads/20190301/BsaK9Pdzps8VxB6HFBcWiZKjJHABIBmA.png",client_logo:"sgmj",logo_status:2,path:"index.html?channel=csdzz01",reward_value:1e3,people_play:"477\u4e07\u4eba\u73a9",jump_cool:0,hot:1,weigh:0,is_get:0},{id:87,name:"\u8fdb\u5316\u5427\u7cbe\u7075",appid:"wx52966cd958bcd65b",logo:"https://fl-cdn.feigo.fun/uploads/20190304/W3JXZOimPTrU3KU5CjOICvBiMPoJqMtL.png",client_logo:"jhbjl",logo_status:2,path:"pages/index/index?Ads=fengling&AdsPos=csdzz",reward_value:1e3,people_play:"466\u4e07\u4eba\u73a9",jump_cool:0,hot:1,weigh:0,is_get:0},{id:92,name:"\u7687\u4e0a\u5409\u79652",appid:"wx9631b6c61ebbea60",logo:"https://fl-cdn.feigo.fun/uploads/20190311/llQ1acCQcTqj8aOvTb3oWNb3gYPR1IEb.png",client_logo:"hsjx2",logo_status:2,path:"",reward_value:900,people_play:"538\u4e07\u4eba\u73a9",jump_cool:0,hot:2,weigh:0,is_get:0}];n.sort(function(e,t){return t.weigh-e.weigh}.bind(this));for(var a=0;a<n.length;a++)n[a].redPoint=1===n[a].hot;t(n)}},getGameConfig:function(){if(window.wx&&i.fenglingUrl){var e=i.fenglingUrl+"/api/config/config";console.log("getGameConfigUrl:"+e),wx.request({url:e,data:{},header:{"content-type":"application/json","x-access-token":c.data.user.token},method:"GET",success:function(e){var t=e.data;t&&t.proVersion?(console.log("getGameConfigResult:"+JSON.stringify(t)),c.showMatchingBanner="1"==t.showMatchingBanner,c.showAreaShieldBanner="1"==t.showAreaShieldBanner,c.showDailyWelfareNewUser="1"==t.showDailyWelfareNewUser,c.showGameBox="1"==t.showGameBox,c.bannerNumbers=t.bannerNumbers,c.welfareConfig=t.welfareConfig,0==t.shareSwitch&&(console.log("##########areaShield"),c.areaShield=!0,c.showDailyWelfareRiskyBtn=!1,c.showGameOverAwardRiskyBtn=!1,c.showLuckyWheelAwardRiskyBtn=!1,c.showDailyLoginAwardRiskyBtn=!1,c.clickAreaHeight1=40,c.clickAreaHeight2=40,c.clickAreaHeight3=40,c.clickAreaHeight4=40,c.showMatchingBanner=!1,c.showCrazySpotPanel=!1)):console.log("getGameConfig fail, data is null")},fail:function(e){console.log("getGameConfig fail")},complete:function(){r.loadAds()}})}},getAccessToken:function(){if(window.wx&&i.fenglingUrl){var e=i.fenglingUrl+"/api/weixin/access-token";console.log("getAccessToken:"+e),wx.request({url:e,data:{},header:{"content-type":"application/json","x-access-token":c.data.user.token},method:"GET",success:function(e){var t=e.data;t?(console.log("getAccessToken:"+JSON.stringify(t)),c.accessToken=t.access_token):console.log("getAccessToken fail, data is null")},fail:function(e){console.log("getAccessToken fail")}})}},reportChannelData:function(e,t){if(window.wx&&i.fenglingUrl){var n=i.fenglingUrl+"/api/channel/channel-statistics";console.log("reportChannelData:"+n+"?channel_id="+e),wx.request({url:n,data:{channel_id:e},header:{"content-type":"application/json","x-access-token":c.data.user.token},method:"POST",success:function(e){var n=e.data;n?(console.log("reportChannelData:"+JSON.stringify(n)),t&&t(n)):console.log("reportChannelData fail, data is null")},fail:function(e){console.log("reportChannelData fail")}})}},reportFlowMainError:function(e){if(window.wx&&!c.data.gameData.alreadyReportFlowMainError){var t="https://warning.feigo.fun/api/warning/flow-main";console.log("reportFlowMainError:"+t),wx.request({url:t,data:{name:"\u57ce\u5e02\u5927\u4f5c\u6218",appid:"wx91610f989887941e",code:e},header:{"content-type":"application/json"},method:"POST",success:function(e){console.log("reportFlowMainError result="+JSON.stringify(e)),c.data.gameData.alreadyReportFlowMainError=!0},fail:function(e){console.log("reportChannelData fail")}})}},doShareData:function(e,t,n){if(!e&&t){if(console.log(JSON.stringify(t)),t.shareData&&(c.shareData=t.shareData,c.randomShareData=t.randomShareData||[],window.wx)){wx.showShareMenu({withShareTicket:!0});var a="\u89c6\u529b5.0\u7684\u624d\u80fd\u73a9\u8fd9\u4e2a\u6e38\u620f\u3002",r="https://res.anyh5.com/crowdCity/"+i.shardImageUrl+"/upload_01aaeed9e34d4ae17a4320921b63bfef.jpg",o=c.shareData[i.shareId.defaultShare];console.log("########"+o.shareControl+"$$$$"+i.shareControl.close),o&&o.shareControl!==i.shareControl.close&&(a=c.shareData[i.shareId.defaultShare].shareDec,r=c.shareData[i.shareId.defaultShare].shareImg),wx.aldOnShareAppMessage(function(){return{title:a,imageUrl:r}})}t.gameConfig&&(c.underReview="1"===t.gameConfig.underReview,c.underReview&&c.versionCode!==t.gameConfig.versionCode&&(c.underReview=!1),window.tt&&(c.underReview=!1),c.showGameClubButton="1"===t.gameConfig.showGameClubButton,c.bannerMaxRefreshTimes=parseInt(t.gameConfig.bannerMaxRefreshTimes),c.bannerConfig=parseInt(t.gameConfig.bannerConfig),c.shareSuccessTime=1e3*parseInt(t.gameConfig.shareSuccessTime),c.shareSuccessTimeProps=1e3*parseInt(t.gameConfig.shareSuccessTimeProps),c.showSuperWelfare="1"===t.gameConfig.showSuperWelfare,c.showRiskyBanner="1"===t.gameConfig.showRiskyBanner,c.showDailyWelfareBanner="1"===t.gameConfig.dailyWelfareBanner,c.showGameOverAwardBanner="1"===t.gameConfig.gameOverAwardBanner,c.showLuckyWheelAwardBanner="1"===t.gameConfig.luckyWheelAwardBanner,c.showDailyLoginAwardBanner="1"===t.gameConfig.dailyLoginAwardBanner,c.showCrazySpotAwardBanner="1"===t.gameConfig.crazySpotAwardBanner,c.showDailyWelfareRiskyBtn="1"===t.gameConfig.dailyWelfareRiskyBtn,c.showGameOverAwardRiskyBtn="1"===t.gameConfig.gameOverAwardRiskyBtn,c.showLuckyWheelAwardRiskyBtn="1"===t.gameConfig.luckyWheelAwardRiskyBtn,c.showDailyLoginAwardRiskyBtn="1"===t.gameConfig.dailyLoginAwardRiskyBtn,c.showCrazySpotPanel="1"===t.gameConfig.showCrazySpotPanel,c.showGameBanner="1"===t.gameConfig.gameBanner,c.shareFailTips=parseInt(t.gameConfig.shareFailTips),c.randomBanner="1"===t.gameConfig.showCrazySpotPanel,c.clickAreaHeight1=parseInt(t.gameConfig.clickAreaHeight1)||30,c.clickAreaHeight2=parseInt(t.gameConfig.clickAreaHeight2)||30,c.clickAreaHeight3=parseInt(t.gameConfig.clickAreaHeight3)||30,c.clickAreaHeight4=parseInt(t.gameConfig.clickAreaHeight4)||30,c.underReview&&(c.showSuperWelfare=!1,c.showRiskyBanner=!1,c.showDailyWelfareRiskyBtn=!1,c.showGameOverAwardRiskyBtn=!1,c.showLuckyWheelAwardRiskyBtn=!1,c.showDailyLoginAwardRiskyBtn=!1,c.clickAreaHeight1=40,c.clickAreaHeight2=40,c.clickAreaHeight3=40,c.clickAreaHeight4=40)),c.cityShield(t.shieldCity)}else{var s=kf.require("basic.clientEvent");s.dispatchEvent("hidePanel","netLoadingPanel"),s.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin")),s.dispatchEvent("showLoginBtn")}n&&n()},cityShield:function(e){this.getCity("https://restapi.amap.com/v3/ip?key=a68c3f87dc7b3f4bb9cfef3319e44a13",function(t,n){if(e)try{var a=JSON.parse(n).adcode;if(!a||1===a.length)return void(c.areaShield=!0);e.indexOf(JSON.parse(n).adcode)>-1?c.areaShield=!0:c.areaShield=!1}catch(e){console.error(e)}else try{(n.indexOf("\u6df1\u5733")>-1||n.indexOf("\u5317\u4eac")>-1||n.indexOf("\u5e7f\u5dde")>-1||n.indexOf("\u4e0a\u6d77")>-1||n.indexOf("\u9999\u6e2f")>-1)&&(cc.log("##########areaShield"),c.areaShield=!0),cc.log("------ \u5f53\u524d\u57ce\u5e02: "+JSON.parse(n).city)}catch(e){console.error(e)}c.areaShield&&(c.showDailyWelfareRiskyBtn=!1,c.showGameOverAwardRiskyBtn=!1,c.showLuckyWheelAwardRiskyBtn=!1,c.showDailyLoginAwardRiskyBtn=!1,c.clickAreaHeight1=35,c.clickAreaHeight2=35,c.clickAreaHeight3=35,c.clickAreaHeight4=35)})},getCity:function(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(null,n.responseText)},n.send()},getShareData:function(e){window.shareDataResult?this.doShareData(null,window.shareDataResult,e):cc.loader.load("https://ossconfigcdn.xxzsgame.com/pyyqz/allShare.json",function(t,n){console.log("shareDataErr= ",t);var a=s.decompressFromEncodedURIComponent(n),i=JSON.parse(a);this.doShareData(t,i,e)}.bind(this)),this.getGameConfig()}};return c.getGameConfig=function(){},c.btnLogin=function(e){var t=window.wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:cc.winSize.width,height:cc.winSize.height,lineHeight:40,textAlign:"center",fontSize:16,borderRadius:4,backgroundColor:"#00000",color:"#00000"}});t.onTap(function(n){console.log("userInfoBtn",n),t.hide(),c.data&&c.data.user&&n&&n.userInfo&&(c.data.user.avatarUrl=n.userInfo.avatarUrl,c.saveData()),e&&e()})},c.setInvitationInfo=function(e){c.inviter&&c.data&&c.data.user&&c.data.user.openId&&c.inviter!==c.data.user.openId&&kf.require("basic.cloud").getInvitationInfo(c.inviter,function(e,t){if(e)console.log("cloud.uploadToCloud error : "+e);else if(console.log("cloud.getInvitationInfo success"+JSON.stringify(t)),t.invitation){if(t.invitation.length<3&&JSON.stringify(t.invitation).indexOf(c.data.user.openId)<=-1){a={openId:c.data.user.openId,avatarUrl:c.data.user.avatarUrl};t.invitation.push(a),kf.require("basic.cloud").setInvitationInfo(c.inviter,{invitation:t.invitation},function(){console.log("cloud.setInvationInfo success")})}}else{var n=[],a={openId:c.data.user.openId,avatarUrl:c.data.user.avatarUrl};n.push(a),kf.require("basic.cloud").setInvitationInfo(c.inviter,{invitation:n},function(){console.log("cloud.setInvationInfo success")})}})},c.offLineReward=function(){var e=(new Date).getTime();c.serverTime&&(e=c.serverTime);var n=o.getConfigData("dageOfflineTime");if(!n)return o.setConfigData("dageOfflineTime",e),void o.save();if(n>e)t.dispatchEvent("showPanel","tipsPanel","\u79bb\u7ebf\u65f6\u95f4\u5f02\u5e38");else if(n<e){var a=this.data.gameData.offlineLevel||1,r=dataFunc.queryByID("growUpLevel",a).offLineCoin,s=e-n;s>432e5&&(s=432e5);var l=Math.floor(s/1e3/60*r);o.setConfigData("dageOfflineTime",e),o.save(),setTimeout(function(){c.underReview?t.dispatchEvent("showPanel","tipsPanel","\u83b7\u5f97\u79bb\u7ebf\u6536\u76ca\u91d1\u5e01\uff1a"+l):(e-n)/1e3/60>5&&t.dispatchEvent("showPanel","getAwardPanel",{from:i.getAwardFrom.dailyWelfare,type:i.props.gold,num:l,title:"\u79bb\u7ebf\u6536\u76ca",desc:"\u79bb\u7ebf\u6536\u76ca\uff1a"+l+"\u91d1\u5e01"})},1e3)}},c.checkUpdateDate=function(e,t){cc.loader.load("https://1923914575990624.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/wechatgame/checkUpdateDate/?updateDate="+e,function(e,n){if(console.log("checkUpdateDateErr= ",e),!e&&n){console.log(n);var a=JSON.parse(n);t(a)}else t({sameDay:!0,sameWeek:!0,continuousLogin:!1,data:(new Date).getTime()})}.bind(this))},c.initGameData=function(e){if(c.data.gameData&&0!==Object.keys(c.data.gameData).length)c.data.gameData.moreGameData||(c.data.gameData.moreGameData={}),c.data.gameData.playerLevel||(c.data.gameData.playerLevel=1),c.data.gameData.sprintLevel||(c.data.gameData.sprintLevel=1),c.data.gameData.fansCountLevel||(c.data.gameData.fansCountLevel=1),c.data.gameData.videoTimes||(c.data.gameData.videoTimes=0),c.data.gameData.propertyVideoTimes||(c.data.gameData.propertyVideoTimes=0),c.data.gameData.propertyShareTimes||(c.data.gameData.propertyShareTimes=0),c.data.gameData.taskData||(c.data.gameData.taskData={}),c.data.gameData.dailyLoginCount||(c.data.gameData.dailyLoginCount=0),c.data.gameData.alreadyReportFlowMainError||(c.data.gameData.alreadyReportFlowMainError=!1),c.playerLevel=c.data.gameData.playerLevel,c.sprintLevel=c.data.gameData.sprintLevel,c.fansCountLevel=c.data.gameData.fansCountLevel,c.data.gameData.playerLevel>60&&(c.data.gameData.playerLevel=60),c.skinId=c.data.gameData.skinData.useSkinIndex,void 0!==c.data.gameData.wheelTicket&&null!==typeof c.data.gameData.wheelTicket||(c.data.gameData.wheelTicket=1),c.isNew=!1,c.data.gameData.updateDate?c.checkUpdateDate(c.data.gameData.updateDate,function(t){c&&c.data&&c.data.gameData&&(t.sameDay?c.data.gameData.dailyLoginCount++:(console.log("@@@@@@@@@@@@"),c.data.gameData.dailyWelfareGet=0,c.data.gameData.wheelTicket+=1,c.data.gameData.propertyVideoTimes=0,c.data.gameData.propertyShareTimes=0,c.continuousLogin=t.continuousLogin,c.data.gameData.dailyLoginCount=1,c.data.gameData.alreadyReportFlowMainError=!1),t.sameWeek||(console.log("%%%%%%%%%%%%"),c.data.gameData.dailyLoginGet={day0:0,day1:0,day2:0,day3:0,day4:0,day5:0,day6:0},c.data.gameData.weekBestScore=0),c.serverTime=t.date,e&&e())}):e&&e();else if(c.data.gameData={},c.data.gameData.weekBestScore||(c.data.gameData.weekBestScore=0),c.data.gameData.bestScore||(c.data.gameData.bestScore=0),c.data.gameData.gold||(c.data.gameData.gold=0),c.data.gameData.totalScore||(c.data.gameData.totalScore=0),c.data.gameData.dailyWelfareGet||(c.data.gameData.dailyWelfareGet=0),c.data.gameData.wheelTicket||(c.data.gameData.wheelTicket=1),c.data.gameData.skinData||(c.data.gameData.skinData={useSkinIndex:1,s1:i.getSkinNum}),c.data.gameData.dailyLoginGet||(c.data.gameData.dailyLoginGet={day0:0,day1:0,day2:0,day3:0,day4:0,day5:0,day6:0}),c.data.gameData.moreGameData||(c.data.gameData.moreGameData={}),c.data.gameData.playerLevel||(c.data.gameData.playerLevel=1),c.data.gameData.sprintLevel||(c.data.gameData.sprintLevel=1),c.data.gameData.fansCountLevel||(c.data.gameData.fansCountLevel=1),c.data.gameData.videoTimes||(c.data.gameData.videoTimes=0),c.data.gameData.propertyVideoTimes||(c.data.gameData.propertyVideoTimes=0),c.data.gameData.propertyShareTimes||(c.data.gameData.propertyShareTimes=0),c.data.gameData.taskData||(c.data.gameData.taskData={}),c.data.gameData.dailyLoginCount||(c.data.gameData.dailyLoginCount=1),c.data.gameData.alreadyReportFlowMainError||(c.data.gameData.alreadyReportFlowMainError=!1),e&&e(),c.isNew=!0,window.wx){r.getFromShareId()&&""!=r.getFromShareId()&&wx.aldSendEvent("\u4f1a\u8bdd\u65b0\u589e\u6765\u81ea\u5206\u4eab\u56fe"+r.getFromShareId());var t="wx91610f989887941e";window.wx.getLaunchOptionsSync().referrerInfo&&window.wx.getLaunchOptionsSync().referrerInfo.appId&&(t=window.wx.getLaunchOptionsSync().referrerInfo.appId.toString()||""),console.log("**********referrerAppId="+t),wx.aldSendEvent(t)}},c.writeToCloud=function(e){var t=kf.require("basic.cloud");c.data.gameData.updateDate=(new Date).getTime(),console.log("writeToCloud: "+JSON.stringify({gameData:c.data.gameData})),o.setConfigData("userData",c.data),o.save(),t.uploadToCloud({gameData:c.data.gameData},function(t){t?console.log("cloud.uploadToCloud error : "+t):(console.log("cloud.uploadToCloud success"),e&&e())})},c.readFromCloud=function(e){kf.require("basic.cloud").getCloudInfo(function(t,n){t?console.log("cloud.getCloudInfo error : "+t):(console.log("cloud.uploadToCloud success: "+JSON.stringify(n)),e(n))})},c.getOrCreateAccount=function(){var e=kf.require("basic.configuration"),t=e.getAccount();return t||(t=e.getGuestAccount(),e.setGuestAccount(t),e.setAccountInfo(t,""),e.save()),t},c.login=function(){window.wx&&wx.getNetworkType?wx.getNetworkType({success:function(e){"none"==e.networkType?(wx.showModal({title:"\u51fa\u9519\u5566\uff01",content:"\u7f51\u7edc\u9519\u8bef\uff0c\u70b9\u51fb\u786e\u5b9a\u91cd\u8bd5\u3002",showCancel:!1,success:function(e){e.confirm&&kf.require("logic.user").login()}}),c.nerworkError=!0):c.nerworkError=!1},complete:function(){c.nerworkError||r.login()}}):r.login()},c.getData=function(){return o.getConfigData("data")},c.saveData=function(){c.data.gameData.weekBestScore||(c.data.gameData.weekBestScore=0),c.data.gameData.bestScore||(c.data.gameData.bestScore=0),c.data.gameData.gold||(c.data.gameData.gold=0),c.data.gameData.diamond||(c.data.gameData.diamond=0),c.data.gameData.totalScore||(c.data.gameData.totalScore=0),o.setConfigData("data",c.data),o.save()},c.saveSoundData=function(e){c.soundOn=e,o.setConfigData("soundOn",e),o.save()},c.saveVibrateData=function(e){c.vibrateOn=e,o.setConfigData("vibrateOn",e),o.save()},c.getSoundData=function(){var e=o.getConfigData("soundOn");return c.soundOn=""===e||void 0===e||null===e||e,c.soundOn},c.getVibrateData=function(){var e=o.getConfigData("vibrateOn");return c.vibrateOn=""===e||void 0===e||null===e||e,c.vibrateOn},c.getAILevel=function(){return o.getConfigData("AILevel")},c.saveAILevel=function(e){o.setConfigData("AILevel",e),o.save()},c.calculateLevel=function(){for(var e=kf.require("shared.constants"),t=e.level.baseScore,n=e.level.times,a=c.data.gameData.totalScore,i=0,r=0,o=0;;){var s=t*Math.pow(n,o);if(!((a-=s)>=0)){r=1-(i=Math.ceil(Math.abs(a)))/s;break}o++}var l=Math.floor(o/5)>5?5:Math.floor(o/5);return{levelIndex:l,levelStar:o%5,levelName:["\u9752\u94dc","\u767d\u94f6","\u9ec4\u91d1","\u767d\u91d1","\u94bb\u77f3","\u738b\u8005"][l],starProgress:r,needScore:i}},c.headImage=function(e,t){var n=e;if(n+=-1!==e.indexOf("?")?"&aa=aa.jpg":"?aa=aa.jpg",window.wx){var a=wx.createImage();a.src=n,a.crossOrigin="anonymous",a.onload=function(){if(t&&t.getComponent(cc.Sprite).isValid){var e=new cc.Texture2D;e.initWithElement(a),e.handleLoadedTexture(),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}}}else cc.loader.load(e,null,function(e,n){t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})},c.setAudio=function(e,t,n){if(c.getSoundData()){var a=!1,i=1,r="audio/"+e;void 0!==t&&(a=t),void 0!==n&&(i=n),cc.loader.loadRes(r,cc.AudioClip,function(e,t){e?cc.log("\u52a0\u8f7d\u97f3\u6548\u5931\u8d25 url = "+r,e):cc.audioEngine.play(t,a,i)})}},c.playMusic=function(){if(c.getSoundData()){cc.loader.loadRes("audio/bgm",cc.AudioClip,function(e,t){e?cc.log("\u52a0\u8f7d\u97f3\u6548\u5931\u8d25 url = audio/bgm",e):cc.audioEngine.playMusic(t,!0)})}},c.stopMusic=function(){cc.audioEngine.stopMusic()},c.weekIndexInYear=function(){var e=new Date,t=new Date;t.setMonth(0),t.setDate(1);var n=e-t,a=Math.ceil(n/864e5);return Math.ceil(a/7)},c.dateIndexInYear=function(){var e=new Date,t=new Date;t.setMonth(0),t.setDate(1);var n=e-t;return Math.ceil(n/864e5)},c.getString=function(e){for(var t=e,n=0,a="",i=0,r=t.length;i<r;i++){if(n+=t.charCodeAt(i)<=255?1:2,a+=t.charAt(i),n>=14)return a}return a},c.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var a=0;a<n;a++){var i=parseInt(e[a]),r=parseInt(t[a]);if(i>r)return 1;if(i<r)return-1}return 0},c.wxCustomerClick=function(){window.wx?wx.openCustomerServiceConversation({success:function(e){console.log("success:",e)},fail:function(e){console.log("fail:",e)},complete:function(e){console.log("complete:",e)},sessionFrom:window.sessionFrom||"",showMessageCard:!1,sendMessageTitle:"\u57ce\u5e02\u5927\u4f5c\u6218 - \u5ba2\u670d",sendMessagePath:window.sendMessagePath||""}):t.dispatchEvent("showPanel","tipsPanel","\u8bf7\u5728\u5fae\u4fe1\u4e0a\u4f7f\u7528")},c.updateTaskData=function(e,n,a){if(!(c.underReview||c.data.gameData.skinData&&c.data.gameData.skinData["s"+e]===i.getSkinNum)){var r=kf.require("shared.configManager");if(this.skinArr=r.getTableArr("skin"),c.data.gameData.taskData["s"+e]||(c.data.gameData.taskData["s"+e]=0),n||0==n?c.data.gameData.taskData["s"+e]=n:c.data.gameData.taskData["s"+e]++,c.data.gameData.taskData["s"+e]>=this.skinArr[e-1].num){kf.require("basic.panelCenter");t.dispatchEvent("showPanel","getSkinPanel",this.skinArr[e-1]),c.data.gameData.skinData["s"+e]=i.getSkinNum,c.writeToCloud(a),c.isRefreshSkinData=!0}}},c.setShareState=function(e,t){var n=null;if(c.shareData[e])switch(c.shareData[e].shareControl){case i.shareControl.close:n=null;break;case i.shareControl.shareOnly:n="share";break;case i.shareControl.videoOnly:n="video";break;case i.shareControl.shareVideo:n=c["shareVideo"+e]&&"share"===c["shareVideo"+e]?"video":"share";break;case i.shareControl.videoShare:n=c["videoShare"+e]?"share"===c["videoShare"+e]?"video":"share":"video";break;case i.shareControl.timeControl:r.videoShareId="videoShare"+e,n=(new Date).getHours()<10?"video":c["videoShare"+e]?"share"===c["videoShare"+e]?"video":"share":"video";break;default:cc.error("\u7c7b\u578b\u9519\u8bef")}if(c.areaShield&&(n="video"),n){var a="/mainPackage_panels/video_icon";"video"==n?a="/mainPackage_panels/video_icon":"share"==n&&(a="/mainPackage_panels/share_icon"),cc.loader.loadRes(a,cc.SpriteFrame,function(e,n){t.getComponent(cc.Sprite).spriteFrame=n})}},c.msgSecCheck=function(e,t){cc.loader.load("https://1923914575990624.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/wechatgame/msgSecCheck/?accessToken="+c.accessToken+"&content="+e,function(e,n){if(console.log("msgSecCheck= ",e),!e&&n){console.log(n);var a=JSON.parse(n);t(a)}else t({errcode:0})}.bind(this))},c}),cc._RF.pop()},{}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"e0141orC1JGoqe59h7BxYGH","utils");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};kf.addModule("shared.utils",function(){return{clone:function(e){if(null===e||"object"!==(void 0===e?"undefined":a(e)))return e;var t={};for(var n in e.constructor===Array&&(t=[]),e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},objectToArray:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},arrayToObject:function(e,t){var n={};for(var a in e)e.hasOwnProperty(a)&&e[a][t]&&(n[e[a][t]]=e[a]);return n},getWeightRandIndex:function(e,t){var n=parseInt(Math.random()*t),a=0,i=0;for(i=0;i<e.length&&!(n<(a+=e[i]));i++);return i},getRandomNFromM:function(e,t){for(var n=[],a=0,i=0;i<t;){a=this.getRandomInt(0,e);for(var r=0,o=0;o<i;o++)if(n[o]===a){r=1;break}0===r&&(n[i]=a,i++)}return n},getRandomInt:function(e,t){var n=Math.random()*(t-e+1)+e;return Math.floor(n)},getStringLength:function(e){for(var t=e,n=0,a=0,i=t.length;a<i;a++){n+=t.charCodeAt(a)<=255?1:2}return Math.ceil(n/2)},anotherDate:function(e){var t=!0,n=new Date;return e.getUTCDate()===n.getUTCDate()&&e.getUTCMonth()===n.getUTCMonth()&&e.getUTCFullYear()===n.getUTCFullYear()&&(t=!1),t},formatNumber:function(e){return e>1e9?(e/1e9).toFixed(0)+"B":e>1e6?(e/1e6).toFixed(0)+"M":e>1e3?(e/1e3).toFixed(0)+"K":parseInt(e).toString()}}}),cc._RF.pop()},{}],wxPlatform:[function(e,t,n){"use strict";cc._RF.push(t,"f10f2IQOilLhp4jd77rI0vN","wxPlatform"),kf.addModule("logic.wxPlatform",function(){var e=new(kf.require("logic.basePlatform"))({platform:"wx",useLocalContent:!1,shareId:0});e.logined=!1,e.navigateToMiniProgram=!1,e.lastBarnerAdPlaceName=kf.require("shared.constants").adPlaceName.mainPanel,e.bannerRefreshTimes=0,e.bannerStatu={},e.shareAppMessage=function(t,n,a,i,r,o,s){e.isShare=!0,e.shareAppMessageSuccessCb=i,e.shareAppMessageFailCb=r,e.useLocalContent=s,e.shareTitle=t,e.title=t,e.trackingTitle=t,e.originImageUrl=n,e.imageUrl=n,e.query=a,e.shareId=o,e.shareVideoId=null,e.videoShareId=null;var c=kf.require("logic.user");e.query=a?"userTag="+c.data.user.userTag+"&"+a:"userTag="+c.data.user.userTag;if(void 0!==o&&c.shareData&&c.shareData[o]){var l=kf.require("shared.constants"),d=c.shareData[o];switch(c.underReview&&(d.shareControl=l.shareControl.close),c.areaShield&&d.shareControl!=l.shareControl.close&&o!=l.shareId.shareToFriend&&o!=l.shareId.inviteFriend&&(d.shareControl=l.shareControl.videoOnly),e.shareTitle=d.shareTitle,console.log("###\u5206\u4eab\u914d\u7f6e\uff1a"+d.shareControl),d.shareControl){case l.shareControl.close:e.isShare=!1,e.shareAppMessageSuccessCb&&e.shareAppMessageSuccessCb();break;case l.shareControl.shareOnly:e.doShare(d);break;case l.shareControl.videoOnly:e.showVideo(d,o);break;case l.shareControl.shareVideo:e.shareVideoId="shareVideo"+o,c["shareVideo"+o]&&"share"===c["shareVideo"+o]?e.showVideo(d,o):e.doShare(d);break;case l.shareControl.videoShare:e.videoShareId="videoShare"+o,c["videoShare"+o]?"share"===c["videoShare"+o]?e.showVideo(d,o):e.doShare(d):e.showVideo(d,o);break;case l.shareControl.timeControl:e.videoShareId="videoShare"+o,(new Date).getHours()<10?e.showVideo(d,o):c["videoShare"+o]?"share"===c["videoShare"+o]?e.showVideo(d,o):e.doShare(d):e.showVideo(d,o);break;default:cc.error("\u7c7b\u578b\u9519\u8bef")}}else e.doShare()},e.doShare=function(t){var n=kf.require("logic.user"),a=kf.require("shared.constants");if(t){if(t.randomShare&&"2"===t.randomShare&&n.randomShareData.length>0){var i=Math.floor(Math.random()*n.randomShareData.length);e.title=n.randomShareData[i].shareDec,e.imageUrl=n.randomShareData[i].imgUrl,e.query="fromShareId="+n.randomShareData[i].randomDataId+"&"+e.query,wx.aldSendEvent("\u56fe\u6587"+n.randomShareData[i].randomDataId+"-\u88ab\u8c03\u7528"),console.log("wxPlatform's randomShare.")}else e.title=t.shareDec,e.imageUrl=t.shareImg,e.query="fromShareId="+t.shareId+"&"+e.query,wx.aldSendEvent("\u56fe\u6587"+t.shareId+"-\u88ab\u8c03\u7528");e.useLocalContent&&(e.title=e.trackingTitle,e.originImageUrl&&(e.imageUrl=e.originImageUrl)),e.shareId==a.shareId.skinTry||e.shareId==a.shareId.sprintPropertyTrain||e.shareId==a.shareId.superWelfare?wx.aldSendEvent(e.trackingTitle+"-\u5206\u4eab"):wx.aldSendEvent(e.shareTitle+"-\u5206\u4eab")}n.shareTimes++;var r=wx.getSystemInfoSync().SDKVersion;console.log("\u5f53\u524d\u5fae\u4fe1\u57fa\u7840\u5e93\u7248\u672c\uff1a"+r),n.compareVersion(r,"2.3.0")>=0?(e.reShare=!1,wx.aldShareAppMessage({title:e.title,imageUrl:e.imageUrl,query:e.query})):(e.isShare=!1,wx.aldShareAppMessage({title:e.title,imageUrl:e.imageUrl,query:e.query,success:function(){if(e.shareVideoId&&(n[e.shareVideoId]="share"),e.videoShareId&&(n[e.videoShareId]="share"),e.shareAppMessageSuccessCb){var t=kf.require("shared.constants");e.shareId==t.shareId.skinTry||e.shareId==t.shareId.sprintPropertyTrain||e.shareId==t.shareId.superWelfare?wx.aldSendEvent(e.trackingTitle+"-\u5206\u4eab\u6210\u529f"):wx.aldSendEvent(e.shareTitle+"-\u5206\u4eab\u6210\u529f"),e.shareAppMessageSuccessCb()}},fail:function(){console.log("\u5206\u4eab\u5931\u8d25"),wx.showModal({title:"\u63d0\u793a",content:"\u5956\u52b1\u83b7\u53d6\u5931\u8d25\uff0c\u53d1\u7ed9\u5176\u4ed6\u597d\u53cb\u8bd5\u8bd5\u3002",confirmText:"\u518d\u8bd5\u4e00\u4e0b",success:function(n){if(n.confirm)console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"),e.doShare(t);else if(n.cancel){if(!e)return;console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88"),e.isShare=!1,e.shareAppMessageSuccessCb&&e.shareAppMessageFailCb()}},fail:function(t){console.log("fail"),e.isShare=!1,e.shareAppMessageSuccessCb&&e.shareAppMessageFailCb()}})}}))},e.showVideo=function(t,n){var a=kf.require("logic.user");console.log("##########\u64ad\u653e\u89c6\u9891\u5e7f\u544a"),dataFunc.isInSameDay(a.data.user.regtime)&&wx.aldSendEvent("\u9996\u65e5\u89c6\u9891\u66dd\u5149\uff1a"+a.data.user.channel),t&&(e.useLocalContent||(e.title=t.shareDec),e.imageUrl&&0!=e.imageUrl.length||(e.imageUrl=t.shareImg),e.videoSendAldCb=function(){var n=kf.require("logic.user");if(n){n[e.shareVideoId]="video",n[e.videoShareId]="video",console.log("########\u89c6\u9891\u5e7f\u544a-"+t.shareTitle+"-"+(e.etag||"\u81ea\u7136\u7528\u6237"));var a=kf.require("shared.constants");e.shareId==a.shareId.skinTry||e.shareId==a.shareId.sprintPropertyTrain||e.shareId==a.shareId.superWelfare?wx.aldSendEvent(e.trackingTitle+"-\u89c6\u9891\u770b\u5b8c"):wx.aldSendEvent(e.shareTitle+"-\u89c6\u9891\u770b\u5b8c"),dataFunc.isInSameDay(n.data.user.regtime)&&(wx.aldSendEvent("\u9996\u65e5\u89c6\u9891\u770b\u5b8c\uff1a"+n.data.user.channel),e.reportWatchVideo(n.data.user.channel))}});var i=kf.require("shared.constants").videoAdPlaceName.superWelfareVideo;e.showRewardedVideoAd(i)},e.reportWatchVideo=function(e){if(e){var t=kf.require("shared.constants"),n=kf.require("logic.user"),a=t.fenglingUrl+"/api/user/watch-video-log/"+e;console.log("reportWatchVideo:"+a),wx.request({url:a,data:{},header:{"content-type":"application/json","x-access-token":n.data.user.token},method:"GET",success:function(e){var t=e.data;t&&console.log("reportWatchVideo:"+JSON.stringify(t))},fail:function(e){console.log("reportWatchVideo fail")}})}},e.login=function(t){if(this.constants||(this.constants=kf.require("shared.constants")),this.user||(this.user=kf.require("logic.user")),e.logined)cc.warn("user is already logined");else{var n={userInfo:{}};if(window.wx.createUserInfoButton){window.wx.getSystemInfoSync();this.launchOptions=window.wx.getLaunchOptionsSync(),n.userInfo.avatarUrl="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2595323780,2898738274&fm=26&gp=0.jpg",n.userInfo.nickName="\u5c0f\u660e123321",n.userInfo.gender=1,window.wx.login({success:function(a){console.log("wx login success:"+JSON.stringify(a)),n.code=a.code,e.getOpenId2(a.code,n,t)},fail:function(e){console.log("wx login fail:"+JSON.stringify(e));var t=kf.require("basic.clientEvent");t.dispatchEvent("showLoginBtn"),t.dispatchEvent("hidePanel","netLoadingPanel"),t.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin"))}})}else cc.warn("wx.createUserInfoButton \u63a5\u53e3\u4e0d\u5b58\u5728")}},e.createGameClubButton=function(t,n){if(kf.require("logic.user").showGameClubButton){e.gameClubButton&&e.gameClubButton.destroy();var a=cc.game.canvas.clientWidth/cc.winSize.width;wx.createGameClubButton&&(e.gameClubButton=wx.createGameClubButton({icon:"dark",style:{left:620*a,top:(cc.winSize.height/2-t.y)*a,width:80*a,height:80*a}}))}},e.showGameClubButton=function(){e.gameClubButton&&e.gameClubButton.show()},e.hideGameClubButton=function(){e.gameClubButton&&e.gameClubButton.hide()},e.getOpenId=function(e,t,n){cc.loader.load("https://1923914575990624.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/wechatgame/trbGetOpenId/?code="+e,function(e,a){if(console.log("getOpenIdErr= ",e),!e&&a){console.log(a);var i=JSON.parse(a);console.log(i.openid),t.openId=i.openid,n(t)}else{var r=kf.require("basic.clientEvent");r.dispatchEvent("hidePanel","netLoadingPanel"),r.dispatchEvent("showPanel","tipsPanel",kf.require("basic.lang").get("failLogin"))}}.bind(this))},e.getOpenId2=function(t,n,a){e.getOpenId(t,n,a)};return e.initSdk=function(){e.sdkInited?console.warn("sdk is already init"):(this.constants||(this.constants=kf.require("shared.constants")),this.clientEvent||(this.clientEvent=kf.require("basic.clientEvent")),function(){kf.require("basic.network").on("showUserInfoBtn",function(){e.logined});var t=kf.require("basic.clientEvent"),n=null,a=null;console.info("set onShow"),wx.onShow(function(i){if(console.log("\u5c0f\u6e38\u620f\u56de\u5230\u524d\u53f0"),e.isShare){var r=kf.require("logic.user");a=(new Date).getTime();var o=r.shareSuccessTime;if(console.log("##########user.shareTimes:"+r.shareTimes),parseInt(a)-o>parseInt(n)&&r.firstLogin&&r.shareTimes<2&&(r.isNew?o=1e5:Math.random()<.3&&(o=1e5)),e.reShare&&(o=r.shareSuccessTime),e.shareId!=kf.require("shared.constants").shareId.powerfulProp&&e.shareId!=kf.require("shared.constants").shareId.speed||(o=r.shareSuccessTimeProps),e.shareId!=kf.require("shared.constants").shareId.shareToFriend&&e.shareId!=kf.require("shared.constants").shareId.inviteFriend||(o=0),parseInt(a)-o>parseInt(n)){if(console.log("\u5206\u4eab\u6210\u529f"),e.isShare=!1,e.shareVideoId&&(r[e.shareVideoId]="share"),e.videoShareId&&(r[e.videoShareId]="share"),e.shareAppMessageSuccessCb){var s=kf.require("shared.constants");e.shareId==s.shareId.skinTry||e.shareId==s.shareId.sprintPropertyTrain||e.shareId==s.shareId.superWelfare?wx.aldSendEvent(e.trackingTitle+"-\u5206\u4eab\u6210\u529f"):wx.aldSendEvent(e.shareTitle+"-\u5206\u4eab\u6210\u529f"),e.shareAppMessageSuccessCb()}}else{if(console.log("\u5206\u4eab\u5931\u8d25"),console.log("##########"+e.shareId),console.log("##########"+kf.require("shared.constants").shareId.powerfulProp),e.shareId==kf.require("shared.constants").shareId.powerfulProp||e.shareId==kf.require("shared.constants").shareId.speed)return e.isShare=!1,void(e.shareAppMessageFailCb&&e.shareAppMessageFailCb());if(1!=r.shareFailTips)return e.isShare=!1,e.shareAppMessageFailCb&&e.shareAppMessageFailCb(),void t.dispatchEvent("showPanel","tipsPanel","\u5956\u52b1\u83b7\u53d6\u5931\u8d25\uff0c\u53d1\u7ed9\u5176\u4ed6\u597d\u53cb\u8bd5\u8bd5");wx.showModal({title:"\u63d0\u793a",content:"\u5956\u52b1\u83b7\u53d6\u5931\u8d25\uff0c\u53d1\u7ed9\u5176\u4ed6\u597d\u53cb\u8bd5\u8bd5\u3002",confirmText:"\u518d\u8bd5\u4e00\u4e0b",success:function(t){if(t.confirm)console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"),e.reShare=!0,wx.aldShareAppMessage({title:e.title,imageUrl:e.imageUrl,query:e.query});else if(t.cancel){if(!e)return;console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88"),e.isShare=!1,e.shareAppMessageFailCb&&e.shareAppMessageFailCb()}},fail:function(t){console.log("fail"),e.isShare=!1,e.shareAppMessageFailCb&&e.shareAppMessageFailCb()}})}}var c=i.scene;if(1103===c||1104===c){var l=kf.require("logic.user"),d=kf.require("basic.configuration");l.addToMyMiniProgram=!0,d.setConfigData("addToMyMiniProgram",!0),d.save(),t.dispatchEvent("updateUserDataDisplay")}if(console.log("########"+e.navigateToMiniProgram),e.navigateToMiniProgram){var h=kf.require("logic.user"),u=kf.require("basic.clientEvent");e.navigateToMiniProgram=!1,!h.areaShield&&h.showGameBox&&u.dispatchEvent("showPanel","gameBoxPanel")}var g=i;console.log("###########launchOption"+JSON.stringify(g)),Object.keys(g.query).length>0&&"{}"!==JSON.stringify(g.query)&&("rank"===g.query.type?(console.log("###########rank"),g.shareTicket&&(console.log("###########shareTicket"),setTimeout(function(){t.dispatchEvent("showPanel","rankPanel",{fromGameOver:!1,shareTicket:g.shareTicket,showUserInfoBtn:!0})},500))):"invite"===g.query.type&&(kf.require("logic.user").inviter=g.query.inviter))}),wx.onHide(function(){console.log("\u5c0f\u6e38\u620f\u9690\u85cf\u5230\u540e\u53f0"),(e.isShare||e.navigateToMiniProgram)&&(n=(new Date).getTime())})}(),e.sdkInited=!0,e.fenglingUrl=this.constants.fenglingUrl,e.getReferrerAppId(),e.updateNewVersion())},e.updateNewVersion=function(){if("function"==typeof wx.getUpdateManager){var e=wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log(e.hasUpdate)}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){console.log("onUpdateFailed")})}},e.getReferrerAppId=function(){var t="";window.wx.getLaunchOptionsSync().referrerInfo&&window.wx.getLaunchOptionsSync().referrerInfo.appId&&(t=window.wx.getLaunchOptionsSync().referrerInfo.appId.toString()||""),e.query=window.wx.getLaunchOptionsSync().query,console.log("########platform.query:"+JSON.stringify(e.query)),e.inviteTag=e.query.userTag||"",e.fromShareId=e.query.fromShareId||"",e.referrerAppId=t,e.query.gdt_vid&&e.query.weixinadinfo||e.query.channelTpye||e.query.channelType?e.etag=e.query.etag:e.etag=""===t?e.query.etag:t},e.showLoginBtn=function(){},e.setNavigateToMiniProgram=function(t){console.log("############setNavigateToMiniProgram"),e.navigateToMiniProgram=t},e.createBannerAd=function(t){var n=kf.require("shared.constants"),a=Object.keys(n.barnerAdId);if(t){var i=a.indexOf(t);-1!==i&&a.splice(i,1)}for(var r=0;r<a.length;r++){var o=a[r];(function(t){e[t]&&e[t].destroy();var a=wx.getSystemInfoSync().windowWidth;t==n.adPlaceName.uiGamePanel&&(a*=.6),e[t]=wx.createBannerAd({adUnitId:n.barnerAdId[t],style:{left:0,top:0,width:a}}),e[t].onError(function(e){var t=this;console.log("****${barnerId}##banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),this.createBanerAdTime&&(clearTimeout(this.createBanerAdTime),this.createBanerAdTime=null),this.createBanerAdTime=setTimeout(function(){t.createBanerAdTime=null,t.createBannerAd()},6e4)}.bind(this)),e[t].onLoad(function(){console.log("****"+t+"##banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****");var a=wx.getSystemInfoSync(),i=720/a.windowWidth;if(t===n.adPlaceName.uiGamePanel&&(e[t].style.left=(a.windowWidth-e[t].style.realWidth)/2),console.log("########adHeight="+e[t].style.realHeight),t===n.adPlaceName.uiGamePanel){e[t].style.top=wx.getSystemInfoSync().windowHeight-131- -20/i}else{e[t].style.top=wx.getSystemInfoSync().windowHeight/2+410/i}kf.require("logic.user").loadingCompleted&&e.bannerStatu[e.lastBarnerAdPlaceName]&&e.showBannerAd(e.lastBarnerAdPlaceName)})}).bind(this)(o)}},e.createBannerAd2=function(){var t=kf.require("shared.constants"),n=Object.keys(t.randomBannerAdIds),a=kf.require("logic.user");a.bannerNumbers=a.bannerNumbers>n.length?n.length:a.bannerNumbers,console.log("#######$$$$$$user.bannerNumbers="+a.bannerNumbers);for(var i=0;i<a.bannerNumbers;i++){var r=n[i];(function(n){e[n]&&e[n].destroy();var a=wx.getSystemInfoSync().windowWidth;e[n]=wx.createBannerAd({adUnitId:t.randomBannerAdIds[n],style:{left:0,top:0,width:a}}),e[n].onError(function(e){var t=this;console.log("****${barnerId}##banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e));var n=kf.require("logic.user");1005!=e.errCode&&1006!=e.errCode&&1007!=e.errCode||n.reportFlowMainError(e.errCode),n.bannerError=!0,this.createBanerAdTime&&(clearTimeout(this.createBanerAdTime),this.createBanerAdTime=null),this.createBanerAdTime=setTimeout(function(){t.createBanerAdTime=null,t.createBannerAd()},6e4)}.bind(this)),e[n].onLoad(function(){console.log("****"+n+"##banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****"),kf.require("logic.user").bannerError=!1})}).bind(this)(r)}},e.reCreateBanner=function(t){var n=kf.require("shared.constants");kf.require("logic.user");if(console.log("****"+t+"##banner\u5237\u65b0****"),n.randomBannerAdIds[t]){var a="tempBannerId",i=wx.getSystemInfoSync().windowWidth,r=720/wx.getSystemInfoSync().windowWidth;e[a]=wx.createBannerAd({adUnitId:n.randomBannerAdIds[t],style:{left:0,top:wx.getSystemInfoSync().windowHeight/2+410/r,width:i}}),e[a].onError(function(e){console.log("****${barnerId}##banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e));var t=kf.require("logic.user");1005!=e.errCode&&1006!=e.errCode&&1007!=e.errCode||t.reportFlowMainError(e.errCode),t.bannerError=!0}.bind(this)),e[a].onLoad(function(){console.log("****tempBannerId##banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****");var n=kf.require("logic.user");n.bannerError=!1,n.bannerRefreshTimes5++,e[t]&&e[t].destroy(),e[t]=e[a],e[a]=null,e.doShowBanner(t,e.adPlaceName,!0)})}},e.showBannerAd=function(t){var n=kf.require("logic.user"),a=kf.require("shared.constants"),i="banner1",r=Math.ceil(Math.random()*n.bannerNumbers);switch(i="banner"+r,t){case a.adPlaceName.superStartPanel:case a.adPlaceName.trialSkinPanel:0==n.matchingBannerId?n.matchingBannerId=r:(n.matchingBannerId++,n.matchingBannerId>n.bannerNumbers&&(n.matchingBannerId=1),i="banner"+n.matchingBannerId);break;case a.adPlaceName.dailyLoginAward:case a.adPlaceName.crazySpotAward:case a.adPlaceName.dailyWelfarePanel:case a.adPlaceName.gameOverAward:case a.adPlaceName.luckyWheelAward:n.riskyBannerId=i;break;case a.adPlaceName.matchingPanel:0==n.matchingBannerId&&(n.matchingBannerId=r),i="banner"+n.matchingBannerId}console.log("\u968f\u673a\u7684\u5e7f\u544a\u4e3a\uff1a"+i);var o=!0;switch(t){case a.adPlaceName.dailyLoginAward:o=!!n.showDailyLoginAwardBanner;break;case a.adPlaceName.gameOverAward:o=!!n.showGameOverAwardBanner;break;case a.adPlaceName.luckyWheelAward:o=!!n.showLuckyWheelAwardBanner;break;case a.adPlaceName.dailyWelfarePanel:o=!!n.showDailyLoginAwardBanner;break;case a.adPlaceName.uiGamePanel:o=!!n.showGameBanner;break;case a.adPlaceName.crazySpotAward:o=!!n.showCrazySpotAwardBanner;break;case a.adPlaceName.matchingPanel:o=!!n.showMatchingBanner;break;case a.adPlaceName.mainPanel:case a.adPlaceName.uiTimeOver:o=!0}!n.areaShield||n.showAreaShieldBanner?o?e[i]?e.doShowBanner(i,t,o):(e.adPlaceName=t,e.reCreateBanner(i)):console.log("\u4e0d\u663e\u793a\u5e7f\u544a"):o=!1},e.doShowBanner=function(t,n,a){if(e[t]){kf.require("logic.user");var i=kf.require("shared.constants"),r=wx.getSystemInfoSync(),o=720/r.windowWidth;if(console.log("########realHeight="+e[t].style.realHeight),console.log("########realWidth="+e[t].style.realWidth),console.log("########width="+e[t].style.width),n===i.adPlaceName.uiGamePanel){e[t].style.left=(r.windowWidth-e[t].style.realWidth)/2,e[t].style.width=.6*r.windowWidth,e[t].style.top=wx.getSystemInfoSync().windowHeight-131- -20/o}else{var s=0,c=r.windowWidth;(r.model.indexOf("iPhone 6")>-1||r.model.indexOf("iPhone 7")>-1)&&(s=(r.windowWidth-e[t].style.realWidth)/2,c*=.9),e[t].style.left=s,e[t].style.width=c,e[t].style.top=wx.getSystemInfoSync().windowHeight/2+410/o}e[t].onResize(function(a){if(n===i.adPlaceName.uiGamePanel){console.log("########res.width="+a.width);e[t].style.left=(r.windowWidth-a.width)/2,e[t].style.width=.6*r.windowWidth,e[t].style.top=wx.getSystemInfoSync().windowHeight-131- -20/o}else{var s=0,c=r.windowWidth;(r.model.indexOf("iPhone 6")>-1||r.model.indexOf("iPhone 7")>-1)&&(s=(r.windowWidth-e[t].style.realWidth)/2,c*=.9),e[t].style.left=s,e[t].style.width=c,e[t].style.top=wx.getSystemInfoSync().windowHeight/2+410/o}}),a?(e.hideBannerAd(e.lastBarnerAdPlaceName),e.lastBarnerAdPlaceName=t,e.bannerStatu[t]=!0,e[t].show()):console.log("\u4e0d\u663e\u793a\u5e7f\u544a")}},e.hideBannerAd=function(t){for(var n=kf.require("logic.user"),a=kf.require("shared.constants"),i=Object.keys(a.randomBannerAdIds),r=0;r<n.bannerNumbers;r++){var o=i[r];e[o]&&(e.bannerStatu[o]=!1,e[o].hide())}},e.refreshBanner=function(t){var n=kf.require("logic.user");1!=n.bannerConfig&&0!=n.bannerMaxRefreshTimes&&e.reCreateBanner(t)},e.createRewardedVideoAd=function(){console.log("############\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891");var t=kf.require("shared.constants"),n=Object.keys(t.videoAdId);for(var a in n){(function(n){e[n]=wx.createRewardedVideoAd({adUnitId:t.videoAdId[n]}),e[n]&&(e[n].onLoad(function(){e["isCanPlay"+n]=!0,console.log("****"+n+"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f****")}),e[n].onError(function(t){(e["isCanPlay"+n]=!1,console.log("****"+n+"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25****",t),1005==t.errCode||1006==t.errCode||1007==t.errCode)&&kf.require("logic.user").reportFlowMainError(t.errCode)}),e[n].onClose(function(t){if(e.isShare){if(t&&t.isEnded||void 0===t){console.log("########\u5e7f\u544a\u64ad\u653e\u5b8c\u6bd5\uff0c\u6210\u529f");var n=kf.require("logic.user"),a=kf.require("shared.constants");n.updateTaskData(a.taskId.video),e.shareVideoId&&(n[e.shareVideoId]="video"),e.videoShareId&&(n[e.videoShareId]="video"),e.shareAppMessageSuccessCb&&e.shareAppMessageSuccessCb(),e.videoSendAldCb&&e.videoSendAldCb()}else console.log("########\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u5931\u8d25"),e.shareAppMessageSuccessCb&&e.shareAppMessageFailCb();e.isShare=!1}}.bind(this)))})(n[a])}},e.showRewardedVideoAd=function(t){if(e[t]){if(!e["isCanPlay"+t]){e.isShare=!1;var n=kf.require("shared.constants");if(e.shareId==n.shareId.speedPropertyTrain||e.shareId==n.shareId.sprintPropertyTrain)kf.require("basic.clientEvent").dispatchEvent("showPanel","tipsPanel","\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d\u4e2d...");else e.doShare(kf.require("logic.user").shareData[e.shareId]);return}e[t].show().catch(function(n){e[t].load().then(function(){return e[t].show()})}).then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f");var t=kf.require("shared.constants");e.shareId==t.shareId.skinTry||e.shareId==t.shareId.sprintPropertyTrain||e.shareId==t.shareId.superWelfare?wx.aldSendEvent(e.trackingTitle+"-\u89c6\u9891"):wx.aldSendEvent(e.shareTitle+"-\u89c6\u9891")})}else e.isShare=!1},e.loadAds=function(){var t=kf.require("logic.user");0!=t.bannerMaxRefreshTimes&&1==t.bannerConfig&&(e.createBannerAd2(),e.bannerRefreshInterval=setInterval(function(){e.bannerRefreshTimes++,e.bannerRefreshTimes>=7&&(clearInterval(e.bannerRefreshInterval),e.bannerRefreshInterval=null),e.createBannerAd2()},18e4)),e.createRewardedVideoAd()},e.getEtag=function(){return e.etag},e.getFromShareId=function(){return e.fromShareId},e}),cc._RF.pop()},{}],wxRender:[function(e,t,n){"use strict";cc._RF.push(t,"542db4dA8NL/YumgJUW8L91","wxRender");var a=kf.require("basic.clientEvent");cc.Class({extends:cc.Component,properties:{wxPanelName:{default:[],type:[cc.String],displayName:"\u5b50\u57df\u754c\u9762\u540d\u79f0",tooltip:"\u5b50\u57df\u5c55\u793a\u754c\u9762\u540d\u79f0\uff0c\u9700\u8981\u4e0e\u4e3b\u57df\u5bf9\u5e94\u754c\u9762\u7684\u540d\u79f0\u4e00\u81f4"}},editor:{disallowMultiple:!0,menu:"Component/wxRender",help:"http://doc.anyh5.com/more/ditch/wechat/newWx.html"},onLoad:function(){this.registerEvent(),this.wxUpdateTimer=null,this.curFrameRate=10,this.node.addComponent(cc.WXSubContextView),this.panelCenter=kf.require("basic.panelCenter"),this.initWxRender(this.node)},registerEvent:function(){var e=this;a.on("showPanelOver",function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var r=!0,o=!1,s=void 0;try{for(var c,l=e.panelCenter.subPanelStack[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){if(c.value.name===t){var d=e.panelCenter.subPanelStack.length,h=e.panelCenter.subPanelStack[d-2];e.onPanelChange(h?h.name:"",t,a)}}}catch(e){o=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}}),a.on("hidePanelOver",function(t){var n=e.panelCenter.subPanelStack.length,a=e.panelCenter.subPanelStack[n-1];e.onPanelChange(t,a?a.name:"")}),a.on("wxSubPanelStop",function(){window.wx&&e.wxSubPanelStop()}),a.on("wxSubPanelStart",function(t){window.wx&&e.wxSubPanelStart(t)}),a.on("dispatchWxEvent",function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e.sendToWxSubContent(t,a)})},initWxRender:function(e){this.WXSubContext=e.getComponent(cc.WXSubContextView),this.WXSubContext.enabled=!1,this.network=kf.require("basic.network"),this.network.sendWxMsg=function(e,t){this.sendToWxSubContent(e,t,"msg")}.bind(this)},sendToWxSubContent:function(e,t,n){if(window.wx){cc.log("dispatchWxEvent: "+e+" "+t),t||(t=[]);var a={param:t};n?a.msg=e:a.event=e,window.wx.getOpenDataContext().postMessage(a)}},onPanelChange:function(e,t,n){if(console.log("onPanelChange: ",e,t),-1!==this.wxPanelName.indexOf(e)&&this.sendToWxSubContent("hidePanel",[e]),t)if(-1!==this.wxPanelName.indexOf(t)){var a=[];a=n?[t].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)):[t],this.sendToWxSubContent("showPanel",a),this.wxSubPanelStart(this.curFrameRate)}else this.wxSubPanelStop()},wxSubPanelStop:function(){this._setWxSubPanelFrameRate(0),this.WXSubContext.enable=!1,this.node.active=!1},wxSubPanelStart:function(e){e||(e=10),this.WXSubContext.enable=!1,this.node.active=!0,this._setWxSubPanelFrameRate(e)},_setWxSubPanelFrameRate:function(e){var t=this;0===e||e?(this.curFrameRate=e,this.wxUpdateTimer&&(clearInterval(this.wxUpdateTimer),this.wxUpdateTimer=null),this.sendToWxSubContent("frameRate",[e]),e>0&&e<=20?(this.WXSubContext.enabled=!1,this.wxUpdateTimer=setInterval(function(){window.wx&&t.WXSubContext&&t.WXSubContext.isValid&&t.WXSubContext.update()},100)):e>20&&(this.WXSubContext.enabled=!0)):console.log("frameRate must be set")}}),cc._RF.pop()},{}],zh:[function(e,t,n){"use strict";cc._RF.push(t,"24489plYTRE1YjD7tc6FqDK","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={language:"\u4e2d\u6587",i18nPanel:{test:"\u6d4b\u8bd5",dynamic:"\u52a8\u6001\u5b57\u7b26\u4e32",close:"\u5173\u95ed",vars:"\u52a8\u6001\u7684\u540d\u5b57%{name}"},1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",7:"\u4e03",8:"\u516b",9:"\u4e5d",heartBeatRet:"\u5fc3\u8df3\u5305\u8fd4\u56de",heartBeatSend:"\u5fc3\u8df3\u5305\u53d1\u9001",heartBeatNoRet:"\u5fc3\u8df3\u5305\u65e0\u8fd4\u56de",startCheck:"\u5f00\u59cb\u68c0\u67e5\u7f51\u7edc",stopCheck:"\u505c\u6b62\u68c0\u67e5\u7f51\u7edc",onClose:"\u7f51\u7edc\u5173\u95ed",reconnectFail:"\u91cd\u8fde\u5931\u8d25\uff0c\u9000\u51fa",connectServer:"\u8fde\u63a5\u670d\u52a1\u5668",connectServerSucc:"\u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f",connectServerLost:"\u4e22\u5931\u8fde\u63a5",networkError:"\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u68c0\u67e5",failLogin:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"},cc._RF.pop()},{}]},{},["aengineAdapter","CryptoJS","clientEvent","cloud","configuration","eventListener","lang","network","panelCenter","pool","WheelSurf","panel","reuseScrollView","sceneFactory","startGame","subPanel","wxRender","basePlatform","browserPlatform","loadConfig","platform","ttPlatform","user","wxPlatform","code","commonFunction","configManager","constants","uifactory","utils","animationUtil","config","DataFunc","GameManager","checkNetwork","en","zh","mainSkinInfo","clickTipPanelLogic","clickTipPanelUIEvent","cloudPanelLogic","cloudPanelUIEvent","dailyLoginPanelLogic","dailyLoginPanelUIEvent","gameBoxPanelLogic","gameBoxPanelUIEvent","getAwardPanelLogic","getAwardPanelUIEvent","getSkinPanelLogic","getSkinPanelUIEvent","gmPanelLogic","gmPanelUIEvent","growUpPanelLogic","growUpPanelUIEvent","inviteSkinPanelLogic","inviteSkinPanelUIEvent","loadingPanelLogic","loadingPanelUIEvent","guessYouLike","mainPanelLogic","mainPanelUIEvent","maskPanelLogic","maskPanelUIEvent","moreGameItem","moreGamePanelLogic","moreGamePanelUIEvent","netLoadingPanelLogic","netLoadingPanelUIEvent","popularPanelLogic","popularPanelUIEvent","tipsPanelUIEvent","tipsSubPanelUIEvent","trialSkinPanelLogic","trialSkinPanelUIEvent","skinInfo","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);