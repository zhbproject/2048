window.__require=function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+o+"'")}}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return r(t[o][1][e]||e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}n.resolve=function(){for(var n="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,r="/"===o.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var a=n.isAbsolute(e),o="/"===r(e,-1);return(e=t(i(e.split("/"),function(e){return!!e}),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),a=i(t.split("/")),o=Math.min(r.length,a.length),s=o,c=0;c<o;c++)if(r[c]!==a[c]){s=c;break}var u=[];for(c=s;c<r.length;c++)u.push("..");return(u=u.concat(a.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!r){i=a;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},n.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===i&&(r=!1,i=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!r){n=o+1;break}}return-1===t||-1===i||0===a||1===a&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,n){var i,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var u,l=[],h=!1,f=-1;function d(){h&&u&&(h=!1,u.length?l=u.concat(l):f=-1,l.length&&g())}function g(){if(!h){var e=c(d);h=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||h||c(g)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],aengineAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"60bf75P/NxHZaSIFtl7ZB12","aengineAdapter");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.kf=window.kf||{},kf._loadedItem={},kf.ignoreInitArr=[],kf.addIgnoreInitDir=function(e){kf.ignoreInitArr.push(e)},kf.addModule=function(e,t){var n=e.split("."),i=window,r=void 0;for(r=0;r<n.length-1;r++)i[n[r]]||(i[n[r]]={}),i=i[n[r]];i[n[n.length-1]]=t},kf.require=function(t,n){var i=void 0;if(!kf._loadedItem[t]){i=t.split(".");var r=window,a=void 0;for(a=0;a<i.length&&r;a++)r=r[i[a]];if(r?kf._loadedItem[t]=r():(i=t.split("."),kf._loadedItem[t]=e(i[i.length-1]),!kf._loadedItem[t]&&cc&&cc.require&&cc.require!==e&&(kf._loadedItem[t]=cc.require(i[i.length-1])),kf._loadedItem[t]&&window.cc&&!cc.sys.isNative&&console.error("please use kf.require, parentdir.filename!!!")),!n&&kf._loadedItem[t]){for(a=0;a<kf.ignoreInitArr.length;a++){var o=kf.ignoreInitArr[a];if(0===t.indexOf(o))break}a>=kf.ignoreInitArr.length&&kf._loadedItem[t].init&&kf._loadedItem[t].init()}}return kf._loadedItem[t]};var r=null;kf.enableMulTouch=function(e){if(e)cc.eventManager.dispatchEvent=r,r=null;else{r=cc.eventManager.dispatchEvent;var t=null;cc.eventManager.dispatchEvent=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=n[0];if(a.getEventCode&&a.getEventCode()===cc.Event.EventTouch.BEGAN)a._touches.length>1&&(a._touches.length=1),t=a._touches[0]._id;else if(a.getEventCode&&a.getEventCode()===cc.Event.EventTouch.ENDED){for(var o=0;o<a._touches.length&&t!==a._touches[o]._id;o++);if(o>=a._touches.length)return;a._touches[0]=a._touches[o],a._touches.length=1}r.apply(void 0,n)}}},kf.clone=function(e){var t=void 0;if("object"===(void 0===e?"undefined":i(e)))if(null===e)t=null;else if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t.push(this.clone(e[n]))}else for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]=this.clone(e[a]));else t=e;return t},kf.cmp=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kf.utf8ByteToUnicodeStr=function(e){for(var t="",n=0;n<e.length;){var i=e[n],r=0;i>>>7==0?(t+=String.fromCharCode(e[n]),n+=1):252==(252&i)?(r=(3&e[n])<<30,r|=(63&e[n+1])<<24,r|=(63&e[n+2])<<18,r|=(63&e[n+3])<<12,r|=(63&e[n+4])<<6,r|=63&e[n+5],t+=String.fromCharCode(r),n+=6):248==(248&i)?(r=(7&e[n])<<24,r|=(63&e[n+1])<<18,r|=(63&e[n+2])<<12,r|=(63&e[n+3])<<6,r|=63&e[n+4],t+=String.fromCharCode(r),n+=5):240==(240&i)?(r=(15&e[n])<<18,r|=(63&e[n+1])<<12,r|=(63&e[n+2])<<6,r|=63&e[n+3],t+=String.fromCharCode(r),n+=4):224==(224&i)?(r=(31&e[n])<<12,r|=(63&e[n+1])<<6,r|=63&e[n+2],t+=String.fromCharCode(r),n+=3):192==(192&i)?(r=(63&e[n])<<6,r|=63&e[n+1],t+=String.fromCharCode(r),n+=2):(t+=String.fromCharCode(e[n]),n+=1)}return t},kf.writeUTF=function(e,t){var n=[],i=0,r=void 0;for(r=0;r<e.length;r++){var a=e.charCodeAt(r);a>=0&&a<=127?(i+=1,n.push(a)):a>=128&&a<=2047?(i+=2,n.push(192|31&a>>6),n.push(128|63&a)):(a>=2048&&a<=55295||a>=57344&&a<=65535)&&(i+=3,n.push(224|15&a>>12),n.push(128|63&a>>6),n.push(128|63&a))}for(r=0;r<n.length;r++)n[r]&=255;return t?n:i<=255?[0,i].concat(n):[i>>8,255&i].concat(n)},kf.readUTF=function(e){if("string"==typeof e)return e;for(var t="",n=e,i=0;i<n.length;i++){var r=n[i].toString(2),a=r.match(/^1+?(?=0)/);if(a&&8===r.length){for(var o=a[0].length,s=n[i].toString(2).slice(7-o),c=1;c<o;c++)s+=n[c+i].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),i+=o-1}else t+=String.fromCharCode(n[i])}return t},kf.xmlToJson=function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);"size"!==i.nodeName&&"define"!==i.nodeName&&"mandatory"!==i.nodeName&&(t[i.nodeName]=i.nodeValue)}}}else 3===e.nodeType&&"#text"!==e.nodeName&&(t=e.nodeValue);if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes.item(r),o=a.nodeName;if("#text"!==o)if(void 0===t[o]||"#text"===o)t[o]=this.xmlToJson(a);else{if(void 0===t[o].length){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(this.xmlToJson(a))}}return t},kf.loadXMLStr=function(e){var t=null;if(!window.DOMParser&&window.ActiveXObject)for(var n=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],i=0;i<n.length;i++)try{(t=new window.ActiveXObject(n[i])).async=!1,t.loadXML(e);break}catch(e){console.error(e)}else{if(!(window.DOMParser&&document.implementation&&document.implementation.createDocument))return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(e){console.error(e)}}return t},kf.touchInNode=function(e,t){var n=e.convertTouchToNodeSpace(t),i=e.getContentSize(),r=new cc.Rect(0,0,i.width,i.height);return cc.rectContainsPoint(r,n)},kf.getLocationInRoot=function(e){for(var t=e.x,n=e.y,i=e.parent;i&&i.parent&&!(i.parent instanceof cc.Scene);){t+=i.x,n+=i.y,i=i.parent}return cc.p(t,n)},window.string={},window.string.format=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t,r=1;return t[0].replace(/(%[ds])/g,function(){return i[r++]})},cc._RF.pop()},{}],clientEvent:[function(e,t,n){"use strict";cc._RF.push(t,"f4d97340SRO26auFBLMJBOK","clientEvent"),kf.addModule("basic.clientEvent",function(){var e=kf.require("basic.eventListener"),t={},n=["testEvent","showPanel","hidePanel","frameRate","saveWxData","showNetLoading","hideNetLoading","updateNetworkState","initUserData","pageBtnClick","renderPause"];for(var i in t.EVENT_TYPE={},n){var r=n[i];t.EVENT_TYPE[r]=1}return t.init=function(){this.eventListener=e.create("multi")},t.addEvent=function(e){t.EVENT_TYPE[e]?cc.error("already have the event "+e):t.EVENT_TYPE[e]=1},t.on=function(e,t){"string"==typeof e&&this.eventListener.on(e,t)},t.off=function(e,t){"string"==typeof e&&this.eventListener.off(e,t)},t.dispatchEvent=function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i[0];"string"==typeof a&&(t.EVENT_TYPE[a]?(e=this.eventListener).dispatch.apply(e,i):cc.error("please add"+a+"the event into clientEvent.js"))},t.bindEventListener=function(){this.eventListener=e.create("multi")},t}),cc._RF.pop()},{}],code:[function(e,t,n){"use strict";cc._RF.push(t,"b3a5ecHoWBHb5EG81KkV8lA","code"),kf.addModule("shared.code",function(){return{OK:200,FAIL:502,NOT_LOGIN:503,PARAM_ERROR:600,LOGIN:{FA_TOKEN_INVALID:1001,FA_TOKEN_EXPIRE:1002,FA_USER_NOT_EXIST:1003,FA_DUPLICATE_LOGIN:1004,FA_USERID_REQUIRED:1005,FA_CHANNEL_REQUIRED:1006}}}),cc._RF.pop()},{}],commonFunction:[function(e,t,n){"use strict";cc._RF.push(t,"b68365Oj19AVLI3SD1vlkYI","commonFunction");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};kf.addModule("shared.commonFunction",function(){var e={};return t.exports&&(e=t.exports),e.clone=function(t,n){var r=n;if(null===t||"object"!==(void 0===t?"undefined":i(t)))return t;if(void 0===r&&(r=10),r<=0)return t instanceof Array?[]:{};r--;var a={};for(var o in t.constructor===Array&&(a=[]),t)t.hasOwnProperty&&t.hasOwnProperty(o)&&(a[o]=e.clone(t[o],r));return a},e.objectToArray=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},e.arrayToObject=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&e[i][t]&&(n[e[i][t]]=e[i]);return n},e.copyProperty=function(e,t){var n=t;for(var i in e)"function"!=typeof e[i]&&(n[i]=e[i])},e.copyAllToTarget=function(e,t){var n=t;for(var i in e)n[i]=e[i]},e.isHitRate=function(e){return Math.floor(100*Math.random())<=e},e.prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)},e}),cc._RF.pop()},{}],configManager:[function(e,t,n){(function(n){"use strict";cc._RF.push(t,"5021aETUp9CiYv3TZriWhsw","configManager"),kf.addModule("shared.configManager",function(){var i=[",",";","\t","|","^"],r=["\r\n","\r","\n"],a=function(e,t,n,i){return n instanceof Array?"number"===n[t]?Number(i[t]):"boolean"===n[t]?"true"===i[t]||"t"===i[t]||"1"===i[t]:i[t]:Number.isNaN(Number(e))?"false"===e||"true"===e||"t"===e||"f"===e?"true"===i[t]||"t"===i[t]||'1"'===i[t]:i[t]:Number(i[t])},o={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:i[0],newline:r[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=Array.prototype.slice.call(t),r=i[0],a=i.slice(1),o=0,s=a.length;o<s;o++)for(var c in a[o])r[c]=a[o][c];return r},map:function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n[i]=t(e[i],i);return n},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,n){return function(i){var r={},o=function(e,t){return r[e]=t,t};return n?e.forEach(function(e,r){o(e,a(t[r],r,n,i))}):e.forEach(function(e,n){o(e,a(t[n],n,null,i))}),r}},buildArrayConstructor:function(e,t,n){return function(i){var r=new Array(t.length),o=function(e,t){return r[e]=t,t};return n?e.forEach(function(e,r){o(e,a(t[r],r,n,i))}):e.forEach(function(e,n){o(e,a(t[n],n,null,i))}),r}},frequency:function(e,t,n){void 0===n&&(n=!1);for(var i=0,r=0,a=this.getLimit(n,e.length);r<a&&-1!==(r=e.indexOf(t,r));)r+=1,i++;return i},mostFrequent:function(e,t,n){for(var i=void 0,r=t.length-1;r>=0;r--)this.frequency(e,t[r],n)>0&&(i=t[r]);return i||t[0]},unsafeParse:function(e,t,n){if(e.split)var i=e.split(t.newline);else i=e.text.split(t.newline);t.skip>0&&i.splice(t.skip);var r=void 0,a=void 0;function o(e){var n=e.shift();if(n.indexOf('"')>=0){for(var i=0,r=0,a=0;e.length>0&&(-1!==(i=n.indexOf('"',r))||a%2!=0);)-1!==i?(r=i+1,a++):n=n+t.newline+e.shift();var o=[],s=void 0,c=0,u=0,l=0,h=n.length;for(var f in n)if(n.hasOwnProperty(f)){var d=n[f=parseInt(f)];0===f&&'"'===d&&(c++,u=1),'"'===d&&(c++,n[f-1]===t.delimiter&&u===f&&u++),'"'===d&&c%2==0&&(n[f+1]!==t.delimiter&&f+1!==h||(l=f,s=n.substring(u,l),o.push(s),l=u=l+2)),d===t.delimiter&&c%2==0&&((l=f)>u?(s=n.substring(u,l),o.push(s),l=u=l+1):l===u&&(o.push(""),l=u=l+1))}return(l=h)>=u&&(s=n.substring(u,l),o.push(s)),o}return n.split(t.delimiter)}for(t.header?(!0===t.header?(t.comment=o(i),t.cast=o(i),r=o(i)):"Array"===this.getType(t.header)&&(r=t.header),a=this.buildObjectConstructor(r,i[0].split(t.delimiter),t.cast)):a=this.buildArrayConstructor(r,i[0].split(t.delimiter),t.cast);i.length>0;){var s=o(i);s.length>1&&n(a(s),r[0])}return!0},safeParse:function(e,t,n){t.delimiter;var i=t.newline,r=e.split(i);return t.skip>0&&r.splice(t.skip),!0},encodeCells:function(e,t,n){for(var i=e.slice(0),r=0,a=i.length;r<a;r++)-1!==i[r].indexOf(this.quoteMark)&&(i[r]=i[r].replace(this.quoteRegex,this.doubleQuoteMark)),-1===i[r].indexOf(t)&&-1===i[r].indexOf(n)||(i[r]=this.quoteMark+i[r]+this.quoteMark);return i.join(t)},encodeArrays:function(e,t,n){var i=t.delimiter.delimiter,r=t.newline.newline;t.header&&"Array"===this.getType(t.header)&&n(this.encodeCells(t.header,i,r));for(var a=0,o=this.getLimit(t.limit,e.length);a<o;a++)n(this.encodeCells(e[a],i,r));return!0},encodeObjects:function(e,t,n){var i=t.delimiter.delimiter,r=t.newline.newline,a=[],o=[];for(var s in e[0])a.push(s),o.push(e[0][s]);!0===t.header?n(this.encodeCells(a,i,r)):"Array"===this.getType(t.header)&&n(this.encodeCells(t.header,i,r)),n(this.encodeCells(o,i));for(var c=1,u=this.getLimit(t.limit,e.length);c<u;c++){o=[];for(var l=0,h=a.length;l<h;l++)o.push(e[c][a[l]]);n(this.encodeCells(o,i,r))}return!0},parse:function(e,t,n){var a=void 0;if("Function"===this.getType(t)?(n=t,t={}):"Function"!==this.getType(n)?n=(a=[]).push.bind(a):a=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var o=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,i,o),t.newline=t.newline||this.mostFrequent(e,r,o)}return this.unsafeParse(e,t,n)&&(!(a.length>0)||a)},encode:function(e,t,n){var i=void 0;return"Function"===this.getType(t)?(n=t,t={}):"Function"!==this.getType(n)&&(n=(i=[]).push.bind(i)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,n)&&(!(i.length>0)||i.join(t.newline))}},s={init:function(){this.csvTables={},this.csvTableForArr={},this.tableCast={},this.tableComment={}},addTable:function(e,t,n){if(!this.csvTables[e]||n){var i={},r=[];o.parse(t,{header:!0},function(e,t){i[e[t]]=e,r.push(e)}),this.tableCast[e]=o.opts.cast,this.tableComment[e]=o.opts.comment,this.csvTables[e]=i,this.csvTableForArr[e]=r}},getTableArr:function(e){return this.csvTableForArr[e]},getTable:function(e){return this.csvTables[e]},queryOne:function(e,t,n){var i=this.getTable(e);if(!i)return null;if(t)for(var r in i)if(i.hasOwnProperty(r)&&i[r][t]===n)return i[r];return i[n]},queryByID:function(e,t){return this.queryOne(e,null,t)},queryAll:function(e,t,n){var i=this.getTable(e);if(!i||!t)return null;var r={};for(var a in i)i.hasOwnProperty(a)&&i[a][t]===n&&(r[a]=i[a]);return r}};return"undefined"==typeof cc&&t.exports&&function(){s.init();var t=e("fs"),i=e("path"),r=n+"/../../../data";r=i.normalize(r),t.existsSync(r)||(r=n+"/../data",t.existsSync(r)||(r=n+"/../../data",t.existsSync(r)||(r=n+"/../config/data")),r=i.normalize(r));for(var a=[],o=[],c=t.readdirSync(r),u=0;u<c.length;u++){var l=c[u];if(-1!==l.indexOf(".csv")&&-1===l.indexOf(".meta")){var h=l.split(".")[0],f=r+"/"+l;t.lstatSync(f).isDirectory()||(o.push(h),a.push(f))}}for(var d={},g=function(e,n){var i=(new Date).getTime();if(!(d[n]&&i-d[n]<1e3)){d[n]=i;var r=t.readFileSync(n);r.length<=0||(s.addTable(e,r.toString(),!0),console.log("init table:"+n))}},p=0;p<o.length;p++)g(o[p],a[p]),function(e,n){t.watch(n,function(t,i){"change"===t&&setTimeout(function(){g(e,n)},100)})}(o[p],a[p])}(),s}),cc._RF.pop()}).call(this,"/library/imports/50")},{fs:void 0,path:1}],config:[function(e,t,n){"use strict";cc._RF.push(t,"ab6501TH8NH77rqzxL3dfRx","config"),window.gameconfig={gameServer:"127.0.0.1:3010"},t.exports.isCompress=!1,cc._RF.pop()},{}],configuration:[function(e,t,n){"use strict";cc._RF.push(t,"00a9aqRHXNBZ444W3QFEXLa","configuration"),kf.addModule("basic.configuration",function(){var e={};return e.init=function(){this.jsonData={account:"",password:"",serverIndex:1},this.path=this.getConfigPath();var e=void 0;cc.sys.isNative?e=jsb.fileUtils.getValueMapFromFile(this.path).kfConfig:e=cc.sys.localStorage.getItem("kfConfig");if(cc.game.config.encript){var t=new Xxtea("upgradeHeroAbility").xxteaDecrypt(e);t&&t.length>0&&(e=t)}if(e&&e.length)try{var n=JSON.parse(e);this.jsonData=n}catch(e){}},e.setConfigData=function(e,t){var n=this.jsonData.account;this.jsonData[n+this.jsonData.serverId]?this.jsonData[n+this.jsonData.serverId][e]=t:console.error("no account can not save")},e.getConfigData=function(e){var t=this.jsonData.account;return this.jsonData[t+this.jsonData.serverId]?this.jsonData[t+this.jsonData.serverId][e]:(console.error("no account can not load"),"")},e.setGlobalData=function(e,t){this.jsonData[e]=t},e.getGlobalData=function(e){return this.jsonData[e]},e.setAccountInfo=function(e,t,n){this.jsonData.account=e,this.jsonData.password=t,void 0!==n&&(this.jsonData.serverId=n),this.jsonData[e+this.jsonData.serverId]||(this.jsonData[e+this.jsonData.serverId]={})},e.getAccount=function(){return this.jsonData.account},e.save=function(){var t=JSON.stringify(this.jsonData);if(cc.game.config.encript&&(t=new Xxtea("upgradeHeroAbility").xxteaEncrypt(t)),cc.sys.isNative){var n={};n.kfConfig=t,jsb.fileUtils.writeToFile(n,e.path)}else{cc.sys.localStorage.setItem("kfConfig",t)}},e.getGuestAccount=function(){return this.jsonData.guest_account?this.jsonData.guest_account:(this.jsonData.guest_account=(new Date).getTime()+""+(0|(Math.random(),10)),this.jsonData.guest_account)},e.setGuestAccount=function(e){this.jsonData.guest_account=e},e.getConfigPath=function(){var e=cc.sys;return e===cc.sys.OS_WINDOWS?"src/conf":e===cc.sys.OS_LINUX?"./conf":cc.sys.isNative?jsb.fileUtils.getWritablePath()+"conf":"src/conf"},e}),cc._RF.pop()},{}],constants:[function(e,t,n){"use strict";cc._RF.push(t,"7b02aph0aJJxZT65qgQL2K8","constants"),kf.addModule("shared.constants",function(){var e={MODE_VALUE:{POMELO_MODE:1,NORMAL_MODE:2},aDayTime:864e5,aDaySeconds:86400,integrationLeng:30,TIMEARR:{seconds:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5},AnimationState:{PLAY:"play",STOP:"stop",PAUSE:"pause",RESUME:"resume",LASTFRAME:"lastframe",FINISHED:"finished"},KICK_TYPE:{KICK_BY_LOGIN:"kick by login",KICK_BY_GM:"kick by gm",KICK_BY_SYSTEM:"kick by system",KICK_BY_LOGOUT:"kick by logout"},LOGIN:{OLD_USER:1,NEW_USER:2},APP:{appId:"wx91610f989887941e"},level:{baseScore:100,times:1.2},props:{giftBag:999,gold:1,skin:2,speed:3,sprint:4},skinType:{gold:1,login:2,continuousLogin:3,share:4,video:5,game:6,invite:7,oneGameFans:8,oneGamePlayer:9,continuousNo1:10},taskId:{continuousLogin:6,video:7,game:8,invite:13,oneGameFans:10,oneGamePlayer:11,continuousNo1:12},maxMathcingImageNums:101,getAwardFrom:{dailyWelfare:1,dailyLogin:2,luckyWheel:3,gameOver:4,secretGift:5},shareId:{dailyWelfare:0,superStart:1,revive:2,gameOver:3,secretGift:4,dailyLogin:5,dailyLoginGetAgain:6,luckyWheel:7,wheelTicket:8,powerfulProp:9,overtime:10,inviteFriend:11,defaultShare:12,speedPropertyTrain:13,shareToFriend:14,superWelfare:15,sprintPropertyTrain:16,dailyLoginTodayGet:17,speed:18,skinTry:19},shareControl:{close:"1",shareOnly:"2",videoOnly:"3",shareVideo:"4",videoShare:"5",timeControl:"6"},adPlaceName:{mainPanel:"mainPanel",gameOverPanel:"gameOverPanel",uiGamePanel:"uiGamePanel",luckyWheelAward:"luckyWheelAward",gameOverAward:"gameOverAward",dailyWelfarePanel:"dailyWelfarePanel",dailyLoginAward:"dailyLoginAward",uiTimeOver:"uiTimeOver",crazySpotAward:"crazySpotAward"},barnerAdId:{mainPanel:"adunit-7a1406d537660411",gameOverPanel:"adunit-3f8f1c20f39410a9",uiGamePanel:"adunit-df73f6015773bc96",luckyWheelAward:"adunit-27c7b69e969c0620",gameOverAward:"adunit-026346d2deb2622b",dailyWelfarePanel:"adunit-29eaa746e187260f",dailyLoginAward:"adunit-76f5145c5b9ea111",uiTimeOver:"adunit-8020ab6d1f14cf1c",crazySpotAward:"adunit-d5778a54b64f1ef4"},videoAdPlaceName:{superWelfareVideo:"superWelfareVideo",superStartVideo:"superStartVideo",propertyVideo:"propertyVideo",luckyWheelTicketVideo:"luckyWheelTicketVideo",dailyLoginTodayGetVideo:"dailyLoginTodayGetVideo"},videoAdId:{superWelfareVideo:"adunit-262d260b891faba3"},fenglingUrl:"https://ty-city.feigo.fun",channelLocation:{hutuiqiang:"1",jifenqiang:"2",cainixihuan:"3",gengduohaowan:"4",lunbo:"5"},getSkinNum:1,matchingDesc:["\u5c5e\u6027\u57f9\u517b\u53ef\u4ee5\u6c38\u4e45\u63d0\u5347\u901f\u5ea6\uff01","\u4e3b\u9875\u7684\u76ae\u80a4\u91cc\u9762\u6709\u53ea\u6728\u4e43\u4f0a\uff01","\u636e\u8bf4\u53ea\u6709\u957f\u5f97\u597d\u770b\u7684\u4eba\u624d\u80fd\u62e5\u6709\u7edd\u7248\u76ae\u80a4\uff01"],crazyProgressArr:[.5,.3,.2],speedGold:300,speedGoldAddPra:180,speedGoldMaxNum:2,speedGoldTime:3,speedType:{shard:0,gold:1},ossGameName:"crowdCity"};return e}),cc._RF.pop()},{}],en:[function(e,t,n){"use strict";cc._RF.push(t,"2e5a2F08LxJhon0dT49DyiL","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={language:"English",i18nPanel:{test:"Test",dynamic:"Dynamic",close:"Close"}},cc._RF.pop()},{}],eventListener:[function(e,t,n){"use strict";cc._RF.push(t,"bb0f5HsPcFGGrzfC20VbjQa","eventListener"),kf.addModule("basic.eventListener",function(){var e={on:function(e,t){this[e]&&console.error(e+"had already register"),this[e]=t},dispatch:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],r=this[i],a=[],o=1;o<t.length;o++)a.push(t[o]);if(r)try{r.apply(this,a)}catch(e){console.error(e)}else cc.log("not register "+i+"    callback func")}},t={on:function(e,t){var n=this.handlers[e];n||(n=[],this.handlers[e]=n);for(var i=0;i<n.length;i++)if(!n[i])return n[i]=t,i;return n.push(t),n.length},dispatch:function(e){var t=this.handlers[e],n=void 0;if(t){for(var i=t.length,r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];for(n=0;n<i;n++){var s=t[n];if(s)try{s.apply(void 0,a)}catch(e){console.error(e)}}}},off:function(e,t){var n=this.handlers[e];if(n)for(var i=0;i<n.length;i++){if(n[i]===t){n.splice(i,1);break}}}},n={create:function(n){var i={};return"multi"===n?(i=Object.create(t)).handlers={}:i=Object.create(e),i}};return n}),cc._RF.pop()},{}],gameOverPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"b777cojV3JB77oahPkhOhoq","gameOverPanelLogic"),kf.addModule("gameOverPanel.gameOverPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],gameOverPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"694b9bxHmVCO6O9ZyKrEvct","gameOverPanelUIEvent");kf.require("gameOverPanel.gameOverPanelLogic"),kf.require("basic.clientEvent"),kf.require("basic.network"),kf.require("basic.lang");var i=kf.require("component.panel"),r=kf.require("logic.user"),a=kf.require("shared.code"),o=cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){},registerEvent:function(){},setRankData:function(e){this.friendDataArr[e-1]?(this.setRankWid(1,e-1,!1),this.setRankWid(2,e,!0),this.friendDataArr[e+1]?this.setRankWid(3,e+1,!1):this.widget.heroRank.rank3.active=!1):(this.setRankWid(1,e,!0),this.friendDataArr[e+1]?this.setRankWid(2,e+1,!1):this.widget.heroRank.rank2.active=!1,this.friendDataArr[e+2]?this.setRankWid(3,e+2,!1):this.widget.heroRank.rank3.active=!1)},setRankWid:function(e,t,n){this.widget.heroRank["rank"+e].active=!0,this.fontColor=n?"#00FF00":"#FFFFFF",this.widget.heroRank["rank"+e].rank.getComponent(cc.Label).font=this.font,this.widget.heroRank["rank"+e].score.getComponent(cc.Label).font=this.font,this.widget.heroRank["rank"+e].userName.color=cc.color(this.fontColor),r.headImage(this.friendDataArr[t].avatarUrl,this.widget.heroRank["rank"+e].head),this.widget.heroRank["rank"+e].rank.getComponent(cc.Label).string=t+1,this.widget.heroRank["rank"+e].userName.getComponent(cc.Label).string=this.friendDataArr[t].nickname,this.widget.heroRank["rank"+e].score.getComponent(cc.Label).string=this.friendDataArr[t].KVDataList[0].value.score},show:function(e){this._super(),this.widget.heroRank.rank1.active=!1,this.widget.heroRank.rank2.active=!1,this.widget.heroRank.rank3.active=!1,kf.require("wxSubGame.wxConfig").getFriendData(function(e,t,n){if(e===a.OK){if(!t||-1===n)return;this.friendDataArr=t,this.setRankData(n)}}.bind(this),!0)}});kf.addModule("gameOverPanel.gameOverPanelUIEvent",function(){return o}),cc._RF.pop()},{}],lang:[function(e,t,n){"use strict";cc._RF.push(t,"3bb64sOmctC9JKVzpTYrodI","lang"),kf.addModule("basic.lang",function(){}),cc._RF.pop()},{}],loadConfig:[function(e,t,n){"use strict";cc._RF.push(t,"30f90p/ifpPYbo6tUuKvf6O","loadConfig"),kf.addModule("logic.loadConfig",function(){var t=kf.require("shared.configManager");return{_callback:null,loadConfig:function(e,t){this._callback=t,this.loadCSV(e)},loadCSV:function(n){var i=this;if(this._skills={},this.currentLoad=0,"undefined"!=typeof cc){var r=["goodsProducts"];this.cntLoad=r.length,r.forEach(function(a,o){cc.loader.loadRes("data/"+a,function(s,c){s?cc.error(s.message||s):(e("config").isCompress&&(c.text=e("xxtea").decryptToString(c.text,"")),n(o+1,r.length),t.addTable(a,c.text),i.tryToCallbackOnFinished())})})}},tryToCallbackOnFinished:function(){this._callback&&(this.currentLoad++,this.currentLoad>=this.cntLoad&&this._callback())},getServerList:function(){return window.serverConfig?window.serverConfig.serverList:{1:{ip:"gm.xxzsgame.com",name:"\u5a03\u5a03\u673a\u6d4b\u8bd5\u670d",port:4001}}}}}),cc._RF.pop()},{config:"config",xxtea:void 0}],netLoadingPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"a3c4fpBU79Iy7tY5QgNqRuB","netLoadingPanelLogic"),kf.addModule("netLoading.netLoadingPanelLogic",function(){var e={init:function(){},userLogin:function(){}};return e}),cc._RF.pop()},{}],netLoadingPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"cb17e/VL8VIsZu5LSJVRWr7","netLoadingPanelUIEvent");var i=kf.require("component.panel"),r=kf.require("basic.panelCenter");cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){r.addClickMaskEvent(this.widget.layout)},registerEvent:function(){},show:function(){this._super()}}),cc._RF.pop()},{}],network:[function(e,t,n){"use strict";cc._RF.push(t,"47321heZzRNrYNaEhxqjO8/","network"),kf.addModule("basic.network",function(){var e={init:function(){this.netListener=kf.require("basic.eventListener").create()},chooseNetworkMode:function(e){},on:function(e,t){this.netListener.on(e,t)},dispatch:function(e,t){this.netListener.dispatch(e,t)}};return e}),cc._RF.pop()},{}],panelCenter:[function(e,t,n){"use strict";cc._RF.push(t,"ed75f15+N5H2YDzjhncL7/j","panelCenter"),kf.addModule("basic.panelCenter",function(){var e=kf.require("basic.clientEvent"),t={},n=cc.Enum({SUB_SCENE_ZORDER:0,BATTLE_ROOM_ZORDER:3,SUB_PANEL_ZORDER:4,COMMON_MASK_ZORDER:1e3,WORLD_PANEL_ZORDER:2e3,WORLD_ANIMATION_ZORDER:3e3,MODAL_PANEL_ZORDER:4e3,GLOBAL_FLOATING_PANEL_ZORDER:5e3,LOADING_PANEL_ZORDER:6e3,ALERT_PANEL_ZORDER:7e3});return t.init=function(){},t.setMaskNodeHide=function(){this.maskNode.opacity=0},t.setMaskNodeShow=function(){this.maskNode.opacity=150},t.addClickMaskEvent=function(e){e.on("touchstart",function(e){e.stopPropagation()}),e.on("touchend",function(e){e.stopPropagation()}),e.on("touchmove",function(e){e.stopPropagation()}),e.on("touchcancel",function(e){e.stopPropagation()}),e.on("mousedown",function(e){e.stopPropagation()}),e.on("mouseenter",function(e){e.stopPropagation()}),e.on("mousemove",function(e){e.stopPropagation()}),e.on("mouseleave",function(e){e.stopPropagation()}),e.on("touchend",function(e){e.stopPropagation()}),e.on("mousewheel",function(e){e.stopPropagation()})},t.initGraphic=function(t,i,r){this.clearEvent(),this.subScenes={},this.subPanels={},this.subPanelActives={},this.newestSubPanelName="",this.runningScene=t,this.initEventDispatcherStack(),e.bindEventListener(),this.curActiveSubScene=r,this.maskNode=i,this.maskNode.active=!1,this.maskNode.width=cc.winSize.width,this.maskNode.height=cc.winSize.height,this.addClickMaskEvent(this.maskNode),this.curCommonSubPanelZorder=n.WORLD_PANEL_ZORDER,this.curModalSubPanelZorder=n.MODAL_PANEL_ZORDER,this.registerEvent()},t.clearEvent=function(){this.subScenes={},this.subPanels={},this.newestSubPanelName="",this.initEventDispatcherStack()},t.getWinSize=function(){return this.curActiveSubScene?this.curActiveSubScene.getContentSize():this.runningScene.getContentSize()},t.initEventDispatcherStack=function(){this.subPanelStack=[],this.curActiveSubScene=null,this.nextSubScene=null,this.subPanelStackIndex=-1,this.subSceneStack=[],this.subSceneStackIndex=0,this.eventDispatcherStack=[],this.eventDispatcherStackIndex=0},t.pushEventDispatcher=function(e){this.eventDispatcherStackIndex=this.eventDispatcherStackIndex+1,this.eventDispatcherStack[this.eventDispatcherStackIndex]=e,cc.director.setEventDispatcher(e)},t.popEventDispatcher=function(){this.eventDispatcherStackIndex=this.eventDispatcherStackIndex-1;var e=this.eventDispatcherStack[this.eventDispatcherStackIndex];cc.director.setEventDispatcher(e)},t.getSubPanel=function(e){return this.subPanels[e]},t.getPanelIsVisible=function(e){return!!this.subPanelActives[e]||!!(this.getSubPanel(e)&&this.getSubPanel(e)&&this.getSubPanel(e).active)},t.getAndCreateSubPanel=function(e,t){var i=this,r=void 0;r=this.curActiveSubScene?this.curActiveSubScene:this.runningScene;var a=function(a){var o=a;if(o)if(o.getComponent("panel")){var s=o.getComponent("panel");o.setName(e.replace(/\//g,".")),i.subPanels[e]=o,o.getParent()!==r&&(o.parent=r,s.isModal?o.zIndex=n.MODAL_PANEL_ZORDER:s.customFlag&&s.customOrder?o.zIndex=s.customOrder:o.zIndex=n.WORLD_PANEL_ZORDER),t(o)}else cc.error(e,"\u6ca1\u6709\u52a0\u8f7dpanel\u811a\u672c");else cc.error("can not find sub panel class ",e)},o=this.subPanels[e];if(o)a(o);else{var s=e,c=[];c=cc.loader._resources.getAllPaths?cc.loader._resources.getAllPaths():Object.keys(cc.loader._resources._pathToUuid);for(var u=0;u<c.length;u++){var l=c[u],h=l.split("/");if(h[h.length-1]===e){s=l;break}}cc.loader.loadRes(s,cc.Prefab,function(t,n){o=null,i.subPanels[e]?o=i.subPanels[e]:t||(cc.supportJit?(cc.supportJit=!1,o=cc.instantiate(n),cc.supportJit=!0):o=cc.instantiate(n),o.active=!1),a(o)})}},t.finishChangeSubScene=function(){this.curActiveSubScene&&(this.curActiveSubScene.hide(this.nextSubScene.getName()),this.curActiveSubScene.setPosition(0,0)),this.curActiveSubScene=this.nextSubScene,this.nextSubScene=null,this.subPanelStack=[],this.subPanelStackIndex=-1,cc.eventManager.setEnabled(!0)},t.registerEvent=function(){for(var t=this,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];e.on("showSubScene",function(e){t.hideAllSubPanel(),cc.log("show_world_subScene:"+e);var n=t.getSubScene(e);if(!n.active){t.nextSubScene=n,t.curActiveSubScene&&(n.isRememberFromScene()?t.pushSubScene(t.curActiveSubScene):t.subSceneStackIndex=0),t.finishChangeSubScene();for(var r=[],a=1;a<i.length;a++)r.push(i[a]);n.show(i)}}),e.on("showPanel",function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i[0],o=[],s=void 0;for(s=1;s<i.length;++s)o[o.length]=i[s];t.subPanelActives[a]=!0,t.getAndCreateSubPanel(a,function(n){var i=n;if(i){if(console.log("showPanel:"+a),t.subPanelActives[a]){t.newestSubPanelName=a,i.active&&e.dispatchEvent("hidePanel",a),s=0;var r=i.getComponent("panel");if(r.isModal){var c=-1;for(s=0;s<=t.subPanelStackIndex;s++)if(t.subPanelStack[s].getName()===i.getName()){c=s;break}-1!==c&&(t.subPanelStack.splice(c,1),t.subPanelStackIndex=t.subPanelStackIndex-1,t.curModalSubPanelZorder=t.curModalSubPanelZorder-1),t.curModalSubPanelZorder=t.curModalSubPanelZorder+2,t.pushSubPanel(i),i.zIndex=t.curModalSubPanelZorder}else r.customFlag&&r.customOrder?i.zIndex=r.customOrder:(t.curCommonSubPanelZorder=t.curCommonSubPanelZorder+2,i.zIndex=t.curCommonSubPanelZorder);r.show&&r.show.apply(r,o)}}else cc.error("can't find "+a)})}),e.on("hidePanel",function(e){t.subPanelActives[e]=!1,t.getAndCreateSubPanel(e,function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];var o=r,s=n,c=s.getComponent("panel");if(s&&(s.active||c.isModal)){s.active=!1;var u=void 0,l=void 0;do{if(c.isModal){if(!(l=t.subPanelStack[t.subPanelStackIndex])&&t.subPanelStack.length>0&&(t.subPanelStackIndex=t.subPanelStack.length-1,l=t.subPanelStack[t.subPanelStackIndex]),!l)break;if(l.getName()!==e){var h=-1;for(u=0;u<=t.subPanelStackIndex;u++)if((l=t.subPanelStack[u]).getName()===s.getName()){h=u;break}if(h>=0){for(u=h+1;u<=t.subPanelStackIndex;u++){var f=(l=t.subPanelStack[u]).zIndex;l.zIndex=f-2}t.subPanelStack.splice(h,1),t.subPanelStackIndex=t.subPanelStackIndex-1,t.curModalSubPanelZorder=t.curModalSubPanelZorder-2,t.maskNode.zIndex=t.curModalSubPanelZorder-1}break}t.popSubPanel(),l=t.subPanelStack[t.subPanelStackIndex],t.curModalSubPanelZorder=t.curModalSubPanelZorder-2,l?t.showMaskNode(l):t.maskNode.active=!1}}while(0);c.hide&&c.hide.apply(c,o)}else s&&c.hide&&c.hide.apply(c,o)})})},t.pushSubPanel=function(e){this.subPanelStackIndex=this.subPanelStackIndex+1,this.subPanelStack[this.subPanelStackIndex]=e,this.showMaskNode(e)},t.showMaskNode=function(e){this.maskNode.parent=e.getParent(),this.maskNode.zIndex=this.curModalSubPanelZorder-1,this.maskNode.active=!0},t.popSubPanel=function(){var e=this.subPanelStack.splice(this.subPanelStackIndex,1)[0];return this.subPanelStackIndex=this.subPanelStackIndex-1,e},t.getSubPanelStack=function(){return this.subPanelStack},t.hideAllSubPanel=function(){for(var t=this.subPanelStack,n=this.subPanelStackIndex;n>=0;n--)e.dispatchEvent("hidePanel",t[n].__name);this.subPanelStackIndex=-1},t.getNewestPanel=function(){return this.newestSubPanelName},t.getCurSubScene=function(){return this.curActiveSubScene},t.shakePanel=function(e,t){var n=t/4;e.runAction(cc.sequence(cc.delayTime(.07),cc.scaleTo(n,1.01,1.01),cc.jumpBy(n,cc.p(0,0),5,12),cc.scaleTo(n,.99,.99),cc.scaleTo(n,1,1)))},t}),cc._RF.pop()},{}],panel:[function(e,t,n){"use strict";cc._RF.push(t,"e9e6ex5oE9L9o2JyyJzCllS","panel");var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=cc.Enum({SUB_SCENE_ZORDER:0,BATTLE_ROOM_ZORDER:3,SUB_PANEL_ZORDER:4,COMMON_MASK_ZORDER:1e3,WORLD_PANEL_ZORDER:2e3,WORLD_ANIMATION_ZORDER:3e3,MODAL_PANEL_ZORDER:4e3,GLOBAL_FLOATING_PANEL_ZORDER:5e3,LOADING_PANEL_ZORDER:6e3,ALERT_PANEL_ZORDER:7e3}),a=cc.Enum({"\u7a7a":r.SUB_SCENE_ZORDER,"\u7f6e\u9876\u663e\u793a":r.ALERT_PANEL_ZORDER,"\u4e3b\u573a\u666f\u52a8\u753b":r.WORLD_ANIMATION_ZORDER,"\u6d6e\u52a8\u63d0\u793a\u6846":r.GLOBAL_FLOATING_PANEL_ZORDER,"\u8bfb\u6761\u754c\u9762":r.LOADING_PANEL_ZORDER}),o=cc.Class({extends:cc.Component,_customFlag:!1,properties:{isModal:{default:!0,displayName:"\u6a21\u6001\u5bf9\u8bdd\u6846",tooltip:"\u70b9\u5f00\u4ee5\u540e\u4e0d\u80fd\u64cd\u4f5c\u5bf9\u8bdd\u6846\u540e\u9762"},customFlag:{default:!1,displayName:"\u81ea\u5b9a\u4e49\u5c42\u7ea7",tooltip:"\u5f39\u51fa\u6846\u5e38\u7528",visible:function(){return!this.isModal}},_customOrder:r.SUB_SCENE_ZORDER,customOrder:{get:function(){return this._customOrder},set:function(e){this._customOrder=e},type:a,tooltip:"\u9009\u62e9\u9002\u5408\u7684\u5c42\u7ea7\u5173\u7cfb",displayName:"\u7c7b\u578b",visible:function(){return this.customFlag}}},onLoad:function(){this.widget={};(function e(t,n,i){for(var r=n,a=t.getChildren(),o=0,s=a.length;o<s;o++){var c=a[o].getName();c&&(i&&r[c],r[c]=a[o],a[o].getChildren()&&a[o].getChildren().length>0&&e(a[o],r[c],i))}})(this.node,this.widget,!0)},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},onDestroy:function(){this.clearAllEvent()},getRootNode:function(){return this.node},setPosition:function(){var e;(e=this.node).setPosition.apply(e,arguments)},getPosition:function(){return this.node.getPosition()},registerClientEvent:function(e,t,n){var i=this;"string"==typeof e&&(this.eventObj||(this.eventObj={}),this.eventObj[e]?console.error("already have the same event in this panel"):(this.eventObj[e]=function(){(i.getRootNode().activeInHierarchy||n)&&t.apply(void 0,arguments)},kf.require("basic.clientEvent").on(e,this.eventObj[e])))},unregisterClientEvent:function(e){"string"==typeof e&&(this.eventObj[e]?(kf.require("basic.clientEvent").off(e,this.eventObj[e]),delete this.eventObj[e]):console.error("not found event in this panel"))},clearAllEvent:function(){var e=kf.require("basic.clientEvent");for(var t in this.eventObj)this.eventObj.hasOwnProperty(t)&&e.off(t,this.eventObj[t]);this.eventObj={}},aaddShowPanelClick:function(e,t){var n=kf.require("basic.clientEvent");!t||t.length<=0||n.dispatchEvent("showPanel",t)},ahidePanelClick:function(e,t){var n=t,i=kf.require("basic.clientEvent");(!n||n.length<=0)&&(n=this.node.getName()),i.dispatchEvent("hidePanel",n)},setSpriteFrame:function(e,t,n){var r=e;cc.textureCache.addImage(t,function(e){if(e instanceof cc.Texture2D)r.spriteFrame=new cc.SpriteFrame(e),n&&n(e);else{var a=t;if(-1!==a.indexOf("resources/")){var o=a.split("resources/");a=i(o,2)[1]}var s=cc.path.extname(a);s&&(a=a.slice(0,-s.length)),cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){r.spriteFrame=t,n&&n(t)})}})}});kf.addModule("component.panel",function(){return o}),cc._RF.pop()},{}],pool:[function(e,t,n){"use strict";cc._RF.push(t,"e8c08nMMjFGBoTNItwnEzBp","pool"),kf.addModule("basic.pool",function(){return{_name1:"Pool",_name2:"Prefab",init:function(){},getPool:function(e){return this[e+this._name1]},isPool:function(e){return this[e+this._name1]&&this[e+this._name2]},createPrefabPool:function(e,t){var n=t;this.isPool(e.name)||(this[e.name+this._name1]=new cc.NodePool,this[e.name+this._name2]=e);var i=this[e.name+this._name1];n=n||1,n-=i.size();for(var r=0;r<n;r++)this[e.name+this._name1].put(cc.instantiate(e))},getPrefab:function(e){var t=null;if(this.isPool(e)){var n=this[e+this._name1];t=n.size()>0?n.get():cc.instantiate(this[e+this._name2])}return t},getPrefabEx:function(e,t){var n=this.getPrefab(e);return n&&n.getComponent(e).setData(t),n},putInPool:function(e,t){this.isPool(e)&&this[e+this._name1].put(t)},putChildInPool:function(e){if(cc.isValid(e)&&0!==e.children.length)for(var t=e.children.length,n=0;n<t;n++){var i=e.children[0];this.isPool(i.name)&&(this.putChildInPool(i),this.putInPool(i.name,i))}}}}),cc._RF.pop()},{}],rankPanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"ba1b1ax9t1E8pzGQcX2kEcp","rankPanelLogic"),kf.addModule("rankPanel.rankPanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],rankPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"4b882x/IJ1JibX2abNPPx8J","rankPanelUIEvent");kf.require("rankPanel.rankPanelLogic"),kf.require("basic.clientEvent"),kf.require("basic.network"),kf.require("basic.lang");var i=kf.require("component.panel"),r=kf.require("shared.code"),a=cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.page=1},registerWidgetEvent:function(){},registerEvent:function(){this.registerClientEvent("pageBtnClick",function(e){if("last"===e){if(console.log("#####lastBtn"),1===this.page)return void console.log("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86");this.page-=1}else{if(console.log("#####nextBtn"),this.page===Math.ceil(this.friendDataArr.length/5))return void console.log("\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u9875\u4e86");this.page+=1}this.setRankData()}.bind(this))},setRankData:function(e){if(!this.friendDataArr||this.friendDataArr.length<=0)this.widget.noData.active=!0;else{var t=5*(this.page-1),n=t+5,i=this.friendDataArr.slice(t,n);this.widget.rankScrollView.getComponent("reuseScrollView").setData(i)}},hide:function(){this.interval&&(clearInterval(this.interval),this.interval=null)},getSelfIndex:function(e){var t=kf.require("wxSubGame.wxConfig");e?t.getGroupCloudData(function(e,t,n){e===r.OK&&(this.friendDataArr=t,this.setRankData(n))}.bind(this),e,!0):t.getFriendData(function(e,t,n){e===r.OK&&(this.friendDataArr=t,this.setRankData(n))}.bind(this),!0)},show:function(e){this._super();var t="";e&&(t=e.shareTicket),console.log("shareTicket####",t),this.widget.noData.active=!1,this.getSelfIndex(t)}});kf.addModule("rankPanel.rankPanelUIEvent",function(){return a}),cc._RF.pop()},{}],rankSubPanel:[function(e,t,n){"use strict";cc._RF.push(t,"95ff3r/l2xMU7ePyi9EcDBg","rankSubPanel");var i=kf.require("component.subPanel"),r=kf.require("logic.user"),a=(kf.require("rankPanel.rankPanelLogic"),cc.Class({extends:i,properties:{rank1:cc.SpriteFrame,rank2:cc.SpriteFrame,rank3:cc.SpriteFrame,bgColor1:cc.SpriteFrame,bgColor2:cc.SpriteFrame,bgColor3:cc.SpriteFrame},onLoad:function(){this._super(),this.registerWidgetEvent()},registerWidgetEvent:function(){},show:function(){this._super();var e=this.getData();switch((!e.KVDataList[0].value.score||e.KVDataList[0].value.score<1)&&(e.KVDataList[0].value.score=0),this.widget.rankName.getComponent(cc.Label).string=this.getString(e.nickname),this.widget.rankScore.getComponent(cc.Label).string=e.KVDataList[0].value.score,r.headImage(e.avatarUrl,this.widget.rankImg),e.rankNum){case 1:this.widget.rankBg.getComponent(cc.Sprite).spriteFrame=this.rank1,this.widget.rankNum.getComponent(cc.Label).string="",this.widget.bgColor.active=!0,this.widget.bgColor.getComponent(cc.Sprite).spriteFrame=this.bgColor1;break;case 2:this.widget.rankBg.getComponent(cc.Sprite).spriteFrame=this.rank2,this.widget.rankNum.getComponent(cc.Label).string="",this.widget.bgColor.active=!0,this.widget.bgColor.getComponent(cc.Sprite).spriteFrame=this.bgColor2;break;case 3:this.widget.rankBg.getComponent(cc.Sprite).spriteFrame=this.rank3,this.widget.rankNum.getComponent(cc.Label).string="",this.widget.bgColor.active=!0,this.widget.bgColor.getComponent(cc.Sprite).spriteFrame=this.bgColor3;break;default:this.widget.rankBg.getComponent(cc.Sprite).spriteFrame=null,this.widget.rankNum.getComponent(cc.Label).string=e.rankNum,this.widget.bgColor.active=!1}},headImage:function(e,t){var n=e;if(n+=-1!==e.indexOf("?")?"&aa=aa.jpg":"?aa=aa.jpg",window.wx){var i=wx.createImage();i.src=n,i.crossOrigin="anonymous",i.onload=function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture(),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}.bind(this)}else t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)},getString:function(e){for(var t=e,n=0,i="",r=0,a=t.length;r<a;r++){if(n+=t.charCodeAt(r)<=255?1:2,i+=t.charAt(r),n>=10)return i+"..."}return i}}));kf.addModule("rankPanel.rankSubPanel",function(){return a}),cc._RF.pop()},{}],reuseScrollView:[function(e,t,n){"use strict";cc._RF.push(t,"66857Eb5o1DG6vfaLZ1mgQw","reuseScrollView");var i=kf.require("basic.pool"),r=cc.Enum({TOP_BOTTOM:0,LEFT_RIGHT:1}),a=cc.Enum({"\u4e0a\u4e0b\u6ed1\u52a8":r.TOP_BOTTOM,"\u5de6\u53f3\u6ed1\u52a8":r.LEFT_RIGHT});cc.Class({extends:cc.Component,properties:{_scrollType:r.TOP_BOTTOM,modelType:{get:function(){return this._scrollType},set:function(e){this._scrollType=e},type:a,tooltip:"\u9009\u62e9\u6eda\u52a8\u6a21\u5f0f",displayName:"\u6eda\u52a8\u6a21\u5f0f"},itemTemplate:{default:null,type:cc.Prefab,tooltip:"\u88ab\u590d\u7528\u7684subPanel"},spawnCount:{default:0,type:cc.Integer,tooltip:"\u5b9e\u9645\u514b\u9686\u7684\u4e2a\u6570"},spacing:{default:0,type:cc.Float,tooltip:"\u6bcf\u4e2a\u4e4b\u95f4\u7684\u95f4\u9694"},topOrLeft:{default:0,type:cc.Float,tooltip:"\u9876\u90e8\u6216\u5de6\u8fb9\u7684\u504f\u79fb\u91cf"},bottomOrRight:{default:0,type:cc.Float,tooltip:"\u5e95\u90e8\u6216\u53f3\u8fb9\u7684\u504f\u79fb\u91cf"}},onLoad:function(){this.scrollView=this.node.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.scrollView.vertical=!0,this.scrollView.horizontal=!1,this.content.setAnchorPoint(.5,1);var e=this.content.getComponent(cc.Widget);e?(e.left=2.5,e.right=2.5,e.isAlignTop=!1,e.isAlignBottom=!1,this.content.y=this.node.view.height/2,this._scrollType===r.LEFT_RIGHT&&(this.scrollView.vertical=!1,this.scrollView.horizontal=!0,this.content.setAnchorPoint(0,.5),e.top=2.5,e.bottom=2.5,e.isAlignLeft=!1,e.isAlignRight=!1,e.isAlignTop=!0,e.isAlignBottom=!0),this.initialize()):console.warn("no widget component in content, please add it!")},setData:function(e){this.dataArr=e,this.totalCount=this.dataArr.length;var t=void 0;for(t=0;t<this.spawnCount&&!(t>=this.dataArr.length);++t)this._scrollType===r.LEFT_RIGHT?this.items[t].setPosition(this.topOrLeft+this.items[t].width*(.5+t)+this.spacing*(t+1),0):this.items[t].setPosition(0,-this.topOrLeft+-this.items[t].height*(.5+t)-this.spacing*(t+1)),this.items[t].getComponent(this.itemTemplate.name).itemIndex=t,this.items[t].getComponent(this.itemTemplate.name).setData(this.dataArr[t]),this.items[t].active=!0;for(t=this.dataArr.length;t<this.spawnCount;++t)this.items[t].active=!1;this._scrollType===r.LEFT_RIGHT?this.content.width=this.totalCount*(this.items[0].width+this.spacing)+this.spacing-this.topOrLeft+this.bottomOrRight:this.content.height=this.totalCount*(this.items[0].height+this.spacing)+this.spacing-this.topOrLeft+this.bottomOrRight},initialize:function(){i.createPrefabPool(this.itemTemplate);for(var e=0;e<this.spawnCount;++e){var t=i.getPrefab(this.itemTemplate.name);this.content.addChild(t),this._scrollType===r.LEFT_RIGHT?t.setPosition(this.topOrLeft+t.width*(.5+e)+this.spacing*(e+1),0):t.setPosition(0,-this.topOrLeft+-t.height*(.5+e)-this.spacing*(e+1)),t.active=!1,this.items.push(t)}},getPositionInView:function(e){var t=e.parent.convertToWorldSpaceAR(e.position);return this.scrollView.node.convertToNodeSpaceAR(t)},update:function(e){if(this.updateTimer+=e,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.items)),n=this.scrollView.content.y<this.lastContentPosY,i=(this.items[0].height+this.spacing)*t.length;this._scrollType===r.LEFT_RIGHT&&(n=this.scrollView.content.x>this.lastContentPosX,i=(this.items[0].width+this.spacing)*t.length);for(var a=void 0,o=void 0,s=0;s<t.length;++s){var c=this.getPositionInView(t[s]);if(n){var u=c.y<-(t[s].height+this.node.height/2+this.spacing)&&t[s].y+i<0;if(this._scrollType===r.LEFT_RIGHT&&(u=c.x>t[s].width+this.node.width/2+this.spacing&&t[s].x-i>0),u){if((o=(a=t[s].getComponent(this.itemTemplate.name)).itemIndex-t.length)<0)return;this._scrollType===r.LEFT_RIGHT?t[s].x-=i:t[s].y+=i,this.items[s].getComponent(this.itemTemplate.name).itemIndex=o,a.setData(this.dataArr[o])}}else{var l=c.y>this.node.height/2+t[s].height+this.spacing&&t[s].y-i>-this.content.height;if(this._scrollType===r.LEFT_RIGHT&&(l=-c.x>this.node.width/2+t[s].width+this.spacing&&t[s].x+i<this.content.width),l){if((o=(a=t[s].getComponent(this.itemTemplate.name)).itemIndex+t.length)>=this.dataArr.length)return;this._scrollType===r.LEFT_RIGHT?t[s].x+=i:t[s].y-=i,this.items[s].getComponent(this.itemTemplate.name).itemIndex=o,a.setData(this.dataArr[o])}}}this._scrollType===r.LEFT_RIGHT?this.lastContentPosX=this.scrollView.content.x:this.lastContentPosY=this.scrollView.content.y}},scrollEvent:function(e,t){}}),cc._RF.pop()},{}],revivePanelLogic:[function(e,t,n){"use strict";cc._RF.push(t,"940e412xi9EGIiX7Zz1e1KV","revivePanelLogic"),kf.addModule("revivePanel.revivePanelLogic",function(){kf.require("basic.clientEvent"),kf.require("basic.network");var e={init:function(){this.registerNetMsg()},registerNetMsg:function(){}};return e}),cc._RF.pop()},{}],revivePanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"2ef13zXu61J47jiZYjdTdBM","revivePanelUIEvent");kf.require("revivePanel.revivePanelLogic"),kf.require("basic.clientEvent"),kf.require("basic.network"),kf.require("basic.lang");var i=kf.require("component.panel"),r=kf.require("logic.user"),a=kf.require("shared.code"),o=cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent()},registerWidgetEvent:function(){},registerEvent:function(){},updateUI:function(e){if(0===this.friendDataArr.length)return this.widget.image.active=!1,void(this.widget.desc.active=!0);for(var t=this.friendDataArr.length-1;t>=0;t--){var n=this.friendDataArr[t].KVDataList[0].value.score;if(this.friendDataArr[t].openid!==r.openId&&n>e)return this.widget.desc.active=!1,this.widget.image.active=!0,this.widget.image.score.getComponent(cc.Label).string=n,void r.headImage(this.friendDataArr[t].avatarUrl,this.widget.image);t===this.friendDataArr.length-1&&(this.widget.image.active=!1,this.widget.desc.active=!0)}},show:function(e){this._super(),this.widget.desc.active=!1,this.score=e,kf.require("wxSubGame.wxConfig").getFriendData(function(t,n,i){t===a.OK&&(this.friendDataArr=n,this.updateUI(e))}.bind(this),!0)}});kf.addModule("revivePanel.revivePanelUIEvent",function(){return o}),cc._RF.pop()},{}],sceneFactory:[function(e,t,n){"use strict";cc._RF.push(t,"eea35u3a6FN6Z3ZTOdfV72w","sceneFactory");var i=cc.Class({extends:cc.Component,properties:{maskNode:{default:null,type:cc.Node,displayName:"\u8499\u677f",readonly:!1},uiRoot:cc.Node},onLoad:function(){kf.require("basic.panelCenter").initGraphic(this.node,this.maskNode,this.uiRoot)}});kf.addModule("component.sceneFactory",function(){return i}),cc._RF.pop()},{}],startGame:[function(e,t,n){"use strict";cc._RF.push(t,"71ccfqCn3RGEqdXdH4Ot+oN","startGame"),kf.require("logic.user");var i=cc.Enum({pomelo:1,"\u666e\u901a":2}),r=cc.Class({extends:cc.Component,properties:{loadingPanel:{type:cc.Node,default:null},fastLoadPanel:[cc.Prefab],startPanel:cc.Prefab,_networkMode:1,networkMode:{get:function(){return this._networkMode},set:function(e){this._networkMode=e},type:i,tooltip:"\u9009\u62e9\u5408\u9002\u7684\u7f51\u7edc\u6a21\u578b",displayName:"\u7f51\u7edc\u6a21\u578b"}},onLoad:function(){kf.require("basic.network").chooseNetworkMode(this.networkMode),cc.sys.isNative||-1===window.location.href.indexOf("localhost")||cc.game.setFrameRate(20)},start:function(){var e=this,t=kf.require("logic.loadConfig"),n=kf.require("basic.clientEvent");t.loadConfig(function(e,t){},function(){console.log("loadUIEvent############"),e.startPanel&&n.dispatchEvent("showPanel",e.startPanel.name),console.log("loadUIEvent##$$$$$$$$$$$")})}});kf.addModule("component.startGame",function(){return r}),cc._RF.pop()},{}],subPanel:[function(e,t,n){"use strict";cc._RF.push(t,"1e127q5TylG+I0f/w6Aq0ag","subPanel");var i=kf.require("component.panel"),r=cc.Class({extends:i,properties:{_dataReady:!1,_isShow:!1,isModal:{default:!1,visible:!1,override:!0},customFlag:{default:!1,visible:!1,override:!0}},onLoad:function(){this._super()},start:function(){this.onEnable()},setData:function(e){this._data=e,this._dataReady=!0,this._isShow&&this.show()},getData:function(){return this._data},isDataReady:function(){return this._dataReady},show:function(){},onDisable:function(){this._isShow=!1},onEnable:function(){this._isShow=!0,this.isDataReady()&&(this.show(),this._dataReady=!1)}});kf.addModule("component.subPanel",function(){return r}),cc._RF.pop()},{}],tipsPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"e27b4slN6hELZ9tGRtMvios","tipsPanelUIEvent");var i=kf.require("component.panel"),r=cc.Class({extends:i,properties:{tipsSubPanel:cc.Prefab},onLoad:function(){this._super(),this.registerWidgetEvent(),this.registerEvent(),this.upTipArr=[],this.tipIndex=0,this.lastTab=null;for(var e=0;e<5;e++){var t=cc.instantiate(this.tipsSubPanel);this.node.addChild(t),t.active=!1,this.upTipArr[e]=t}this.tipMsgBak=[],this.isPlay=!1},registerWidgetEvent:function(){},registerEvent:function(){},show:function(e){this._super(),this.tipMsgBak.push(e);var t=this.tipMsgBak.length-10;t>0&&this.tipMsgBak.splice(1,t),this.isPlay||(this.isPlay=!0,this.lastTab=null,this.newTab())},newTab:function(){var e=this;if(this.tipMsgBak.length<1)return this.isPlay=!1,void(this.lastTab=null);var t=this.tipMsgBak.shift();if(t){if(this.lastTab){var n=cc.moveBy(.3,cc.p(0,50));this.lastTab.stopAllActions(),this.lastTab.getComponent("tipsSubPanelUIEvent").hideTxt(),this.lastTab.runAction(n)}this.upTipArr[this.tipIndex].active=!0,this.upTipArr[this.tipIndex].getComponent("tipsSubPanelUIEvent").setData(t),this.lastTab=this.upTipArr[this.tipIndex],this.tipIndex++,this.tipIndex>=5&&(this.tipIndex=0),this.newTabTimeOut=setTimeout(function(){e.newTab()},700)}else this.newTab()},hide:function(){this.newTabTimeOut&&(clearTimeout(this.newTabTimeOut),this.newTabTimeOut=null)}});kf.addModule("tipsPanel.tipsPanelUIEvent",function(){return r}),cc._RF.pop()},{}],tipsSubPanelUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"a73d8KeEaBNi5JHSH3a0GCZ","tipsSubPanelUIEvent");var i=kf.require("component.subPanel"),r=cc.Class({extends:i,properties:{},onLoad:function(){this._super()},hideTxt:function(){var e=this;this.node.stopAllActions();var t=cc.fadeOut(1);this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.node.active=!1})))},show:function(){var e=this;this._super();var t=this.getData();this.node.opacity=255,this.node.stopAllActions(),this.node.position=cc.p(0,0),this.widget.tipTxt.getComponent(cc.Label).string=t;var n=this.widget.tipTxt.getContentSize(),i=this.widget.tipBg.getContentSize(),r=n.width;r>cc.winSize.width&&(r=cc.winSize.width),this.widget.tipBg.setContentSize(80+r,i.height);var a=cc.sequence(cc.moveBy(.3,0,40).easing(cc.easeIn(.6)),cc.delayTime(.7),cc.callFunc(function(){e.hideTxt(function(){e.node.active=!1})}));this.node.runAction(a)}});kf.addModule("tipsPanel.tipsSubPanelUIEvent",function(){return r}),cc._RF.pop()},{}],uifactory:[function(e,t,n){"use strict";cc._RF.push(t,"7f4b4njvQBILI23/xi8xRtJ","uifactory"),kf.addModule("shared.uifactory",function(){kf.require("shared.formula"),kf.require("shared.commonFunction")}),cc._RF.pop()},{}],user:[function(e,t,n){"use strict";cc._RF.push(t,"99acf7HF9pDvY+fJAuhSC21","user"),kf.addModule("logic.user",function(){var e=kf.require("basic.network"),t=kf.require("basic.clientEvent"),n=(kf.require("basic.lang"),kf.require("shared.code")),i={init:function(){e.on("connector.entryHandler.netTest",function(e){t.dispatchEvent("showPanel","tipsPanel",e.testStr),t.dispatchEvent("testEvent",e.testStr)}),e.on("showErrTips",function(e){}),e.on("connector.entryHandler.login",function(e){e.code===n.OK?console.log("login success : "+JSON.stringify(e)):console.log("login fail : "+JSON.stringify(e))}),setTimeout(function(){var e=kf.require("wxSubGame.wxConfig");e.getUserInfos(function(t,i){console.log("######getUserInfos"),t===n.OK?(this.userInfo=i.data[0],e.getFriendData(function(e,t,i){e===n.OK&&(this.friendDataArr=t,this.myIndex=i)}.bind(this),!0)):console.log("######getUserInfos fail")}.bind(this)),e.getCloudData()}.bind(this),100)},getOrCreateAccount:function(){var e=kf.require("basic.configuration"),t=e.getAccount();return t||(t=e.getGuestAccount(),e.setGuestAccount(t),e.setAccountInfo(t,""),e.save()),t},saveScore:function(e){t.dispatchEvent("saveWxData",{key:"score",value:e})},headImage:function(e,t){var n=e;if(n+=-1!==e.indexOf("?")?"&aa=aa.jpg":"?aa=aa.jpg",window.wx){var i=wx.createImage();i.src=n,i.crossOrigin="anonymous",i.onload=function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture(),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}}else cc.loader.load(e,null,function(e,n){t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})}};return i}),cc._RF.pop()},{}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"e0141orC1JGoqe59h7BxYGH","utils");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};kf.addModule("shared.utils",function(){return{clone:function(e){if(null===e||"object"!==(void 0===e?"undefined":i(e)))return e;var t={};for(var n in e.constructor===Array&&(t=[]),e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},objectToArray:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},arrayToObject:function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&e[i][t]&&(n[e[i][t]]=e[i]);return n},getWeightRandIndex:function(e,t){var n=parseInt(Math.random()*t),i=0,r=0;for(r=0;r<e.length&&!(n<(i+=e[r]));r++);return r},getRandomNFromM:function(e,t){for(var n=[],i=0,r=0;r<t;){i=this.getRandomInt(0,e);for(var a=0,o=0;o<r;o++)if(n[o]===i){a=1;break}0===a&&(n[r]=i,r++)}return n},getRandomInt:function(e,t){var n=Math.random()*(t-e+1)+e;return Math.floor(n)},getStringLength:function(e){for(var t=e,n=0,i=0,r=t.length;i<r;i++){n+=t.charCodeAt(i)<=255?1:2}return Math.ceil(n/2)},anotherDate:function(e){var t=!0,n=new Date;return e.getUTCDate()===n.getUTCDate()&&e.getUTCMonth()===n.getUTCMonth()&&e.getUTCFullYear()===n.getUTCFullYear()&&(t=!1),t},formatNumber:function(e){return e>1e9?(e/1e9).toFixed(0)+"B":e>1e6?(e/1e6).toFixed(0)+"M":e>1e3?(e/1e3).toFixed(0)+"K":parseInt(e).toString()}}}),cc._RF.pop()},{}],wxConfig:[function(e,t,n){"use strict";cc._RF.push(t,"ddd321zF4JBB51lhc5JFL/V","wxConfig");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};kf.addModule("wxSubGame.wxConfig",function(){var e={};return e.init=function(){this.jsonData={},this.initFlag=!1,this.registerEvent()},e.registerEvent=function(){var e=kf.require("basic.network"),t=kf.require("basic.clientEvent");cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB&&(wx.onMessage(function(n){console.log("wx shared receive msg:"+JSON.stringify(n));var i=n.msg,r=n.event;if("viewport"===n.event)n.width,n.height;else if(i)e.dispatch(i,n.param);else{var a=n.param;a.unshift(r),t.dispatchEvent.apply(t,a)}}),e.on("saveWxData",function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.setConfigData(e[t].key,e[t].value);else this.setConfigData(e.key,e.value);this.save()}.bind(this)),e.on("removeWxData",function(){this.remove()}.bind(this)),t.on("frameRate",function(e){cc.info("frameRate: ",e),e<1?cc.game.pause():(cc.game.isPaused()&&cc.game.resume(),cc.game.setFrameRate(e))}))},e.getKeyArr=function(){for(var e=[],t=0;t<10;t++)0===t?e.push("userData"):e.push("userData"+t);return e},e.getUserInfos=function(e){if(window.wx){var t=kf.require("shared.code");wx.getUserInfo({openIdList:["selfOpenId"],success:function(n){console.log("getUserInfo success:"+JSON.stringify(n)),e&&e(t.OK,n)}.bind(this),fail:function(n){e&&e(t.FAIL,n)}.bind(this)})}},e.getCloudData=function(e){if(cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB){var t=kf.require("shared.code"),n=this.getKeyArr();this.isGettingFlag=!0,wx.getUserCloudStorage({keyList:n,success:function(n){var r=kf.require("basic.clientEvent");kf.require("logic.user");if(r.dispatchEvent("hidePanel","netLoadingPanel"),console.log("res data type:"+(void 0===n?"undefined":i(n))),n.KVDataList&&n.KVDataList.length>0){for(var a="",o=0;o<n.KVDataList.length;o++)a+=n.KVDataList[o].value;var s=JSON.parse(a);this.jsonData=s}console.log("getUserCloudStorage:"+JSON.stringify(this.jsonData)),this.initFlag=!0,e&&e(t.OK)}.bind(this),fail:function(){console.log("get wxConfig fail"),e&&e(t.FAIL)}.bind(this),complete:function(){this.isGettingFlag=!1,console.log("get wxConfig complete")}.bind(this)})}},e.getGroupCloudData=function(t,n,i){var r=kf.require("shared.code");if(window.wx)if(!this.groupFriendDataArr||i){var a=this.getKeyArr();wx.getGroupCloudStorage({shareTicket:n,keyList:a,success:function(n){console.log("getGroupCloudStorage Success"+JSON.stringify(n));var i=e.parsingUserData(n.data);i=i.filter(function(e){return!(!e.KVDataList[0]||void 0===e.KVDataList[0].value)&&!(e.KVDataList[0].value.updateTime&&parseInt((new Date).getTime()/864e5)-parseInt(e.KVDataList[0].value.updateTime)>=7)}),console.log("getGroupCloudStorage before sort:"+JSON.stringify(i[0])),i.sort(function(e,t){return e.KVDataList[0].value.score-t.KVDataList[0].value.score}.bind(this)),console.log("getGroupCloudStorage after sort:"+JSON.stringify(i[0])),this.groupFriendDataArr=i;for(var a=kf.require("logic.user"),o=-1,s=0;s<this.groupFriendDataArr.length;s++)this.groupFriendDataArr[s].rankNum=s+1,a.openId?this.groupFriendDataArr[s].openid===a.openId&&(this.groupFriendDataArr[s].isSelf=!0,o=s):this.groupFriendDataArr[s].nickname===a.userInfo.nickName&&this.groupFriendDataArr[s].avatarUrl===a.userInfo.avatarUrl&&(this.groupFriendDataArr[s].isSelf=!0,a.openId=this.groupFriendDataArr[s].openid,o=s);t(r.OK,this.groupFriendDataArr,o)}.bind(this),fail:function(e){console.log("getGroupCloudStorage fail"+JSON.stringify(e)),this.groupFriendDataArr?t(r.OK,this.groupFriendDataArr):t(r.FAIL)}.bind(this)})}else setTimeout(function(){t(r.OK,this.groupFriendDataArr)}.bind(this),0);else t(r.FAIL)},e.getFriendData=function(t,n,i){var r=kf.require("shared.code");if(window.wx)if(!this.friendDataArr||n){var a=e.getKeyArr();wx.getFriendCloudStorage({keyList:a,success:function(n){console.log("getFriendCloudStorage success:"+JSON.stringify(n)),this.friendDataArr=e.parsingUserData(n.data),this.friendDataArr=this.friendDataArr.filter(function(e){return!(!e.KVDataList[0]||void 0===e.KVDataList[0].value)&&!(e.KVDataList[0].value.updateTime&&parseInt((new Date).getTime()/864e5)-parseInt(e.KVDataList[0].value.updateTime)>=7)}),this.friendDataArr=i?this.friendDataArr.sort(function(e,t){return e.KVDataList[0].value.score-t.KVDataList[0].value.score}.bind(this)):this.friendDataArr.sort(function(e,t){return!e.KVDataList[0].value.score||t.KVDataList[0].value.score-e.KVDataList[0].value.score}.bind(this));for(var a=kf.require("logic.user"),o=-1,s=0;s<this.friendDataArr.length;s++)this.friendDataArr[s].rankNum=s+1,a.openId?this.friendDataArr[s].openid===a.openId&&(this.friendDataArr[s].isSelf=!0,o=s):this.friendDataArr[s].nickname===a.userInfo.nickName&&this.friendDataArr[s].avatarUrl===a.userInfo.avatarUrl&&(this.friendDataArr[s].isSelf=!0,a.openId=this.friendDataArr[s].openid,o=s);t(r.OK,this.friendDataArr,o)}.bind(this),fail:function(e){console.log("getFriendCloudStorage fail:"+JSON.stringify(e)),this.friendDataArr?t(r.OK,this.friendDataArr):t(r.FAIL)}.bind(this)})}else setTimeout(function(){t(r.OK,this.friendDataArr)}.bind(this),0);else t(r.FAIL)},e.setConfigData=function(e,t){this.jsonData[e]=t},e.getConfigData=function(e){return this.jsonData[e]},e.save=function(e){var t=kf.require("shared.code");if(cc.sys.browserType!==cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB)return console.log("type error"),void(e&&e(t.FAIL));if(!this.initFlag)return console.log("no init"),void(e&&e(t.FAIL));console.log("setUserCloudStorage call record");for(var n=[],i=JSON.stringify(this.jsonData),r=0;r<10;r++){var a=i,o=!1;i.length>800&&(a=i.substr(0,800),i=i.substr(800,i.length-800),o=!0),0===r?n.push({key:"userData",value:a}):n.push({key:"userData"+r,value:a}),o||(i="")}console.log("setUserCloudStorage"+JSON.stringify(n)),wx.setUserCloudStorage({KVDataList:n,success:function(){console.log("save wxConfig success"),e&&e(t.OK)}.bind(this),fail:function(){console.log("save wxConfig fail"),e&&e(t.FAIL)}.bind(this),complete:function(){console.log("save wxConfig complete")}.bind(this)})},e.remove=function(e){var t=kf.require("shared.code");if(cc.sys.browserType!==cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB)return console.log("type error"),void(e&&e(t.FAIL));if(!this.initFlag)return console.log("no init"),void(e&&e(t.FAIL));var n=this.getKeyArr();console.log("removeUserCloudStorage call record"),wx.removeUserCloudStorage({keyList:n,success:function(){console.log("remove wxConfig success"),e&&e(t.OK)}.bind(this),fail:function(){console.log("remove wxConfig fail"),e&&e(t.FAIL)}.bind(this),complete:function(){console.log("remove wxConfig complete")}.bind(this)})},e.parsingUserData=function(e){for(var t=e,n=0;n<t.length;n++)if(0!==t[n].KVDataList.length){for(var i,r="",a=0;a<t[n].KVDataList.length;a++)r+=t[n].KVDataList[a].value,t[n].KVDataList[a].value="";i=JSON.parse(r),t[n].KVDataList[0].value=i}return t},e}),console.log("loadCloudData++++++++++"),kf.require("wxSubGame.wxConfig").getCloudData(),cc._RF.pop()},{}],zh:[function(e,t,n){"use strict";cc._RF.push(t,"24489plYTRE1YjD7tc6FqDK","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={language:"\u4e2d\u6587",i18nPanel:{test:"\u6d4b\u8bd5",dynamic:"\u52a8\u6001\u5b57\u7b26\u4e32",close:"\u5173\u95ed",vars:"\u52a8\u6001\u7684\u540d\u5b57%{name}"},1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",7:"\u4e03",8:"\u516b",9:"\u4e5d",heartBeatRet:"\u5fc3\u8df3\u5305\u8fd4\u56de",heartBeatSend:"\u5fc3\u8df3\u5305\u53d1\u9001",heartBeatNoRet:"\u5fc3\u8df3\u5305\u65e0\u8fd4\u56de",startCheck:"\u5f00\u59cb\u68c0\u67e5\u7f51\u7edc",stopCheck:"\u505c\u6b62\u68c0\u67e5\u7f51\u7edc",onClose:"\u7f51\u7edc\u5173\u95ed",reconnectFail:"\u91cd\u8fde\u5931\u8d25\uff0c\u9000\u51fa",connectServer:"\u8fde\u63a5\u670d\u52a1\u5668",connectServerSucc:"\u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f",connectServerLost:"\u4e22\u5931\u8fde\u63a5",networkError:"\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u68c0\u67e5"},cc._RF.pop()},{}]},{},["aengineAdapter","clientEvent","configuration","eventListener","lang","network","panelCenter","pool","panel","reuseScrollView","sceneFactory","startGame","subPanel","loadConfig","user","code","commonFunction","configManager","constants","uifactory","utils","config","en","zh","gameOverPanelLogic","gameOverPanelUIEvent","netLoadingPanelLogic","netLoadingPanelUIEvent","rankPanelLogic","rankPanelUIEvent","rankSubPanel","revivePanelLogic","revivePanelUIEvent","tipsPanelUIEvent","tipsSubPanelUIEvent","wxConfig"]);